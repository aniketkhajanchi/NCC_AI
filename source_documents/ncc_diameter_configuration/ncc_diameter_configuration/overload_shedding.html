<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2023" />
<meta name="DC.rights.owner" content="(C) Copyright 2023" />
<meta name="generator" content="DITA-OT" /><meta name="DC.type" content="concept" />
<meta name="DC.title" content="Overload shedding profile" />
<meta name="prodname" content="Nokia Converged Charging" />
<meta name="version" content="Release 23.8" />
<meta name="DC.format" content="XHTML" />
<meta name="DC.identifier" content="overload_shedding" />
<link rel="stylesheet" type="text/css" href="../../web/css/commonltr.css" />
<link rel="stylesheet" type="text/css" href="../../web/css/styles.min.css" />
<link rel="stylesheet" type="text/css" href="../../web/css/common-extended.css" /><title>Overload shedding profile</title>
<script src="../web/js/nswtc.js" language="javascript" type="text/javascript">/*(◎_◎;)*/</script>
<script src="../../web/css/../js/script.min.js" language="javascript" type="text/javascript">/*(◎_◎;)*/</script>
</head>
<body id="overload_shedding">
<div class="header"><div id="feedback-link-placeholder" class="feedback-link"></div><hr /></div><h1 class="title topictitle1" id="ariaid-title1">Overload shedding profile</h1>
<div class="body conbody">
        <p class="p">You can configure message filters as rules to perform the shedding in the <em class="ph i">Overload
                Protection Profile</em> for all requests based on the overload state. The higher the
            overload state, the higher the percentage of requests that are likely configured to be
            shed. You can use any attribute of the current Diameter message as criteria when
            deciding whether to reject the request. For example, the peer or IP address that the
            request was received from, the application and/or command type, or attributes that
            correspond to AVPs in the request.</p>

        <p class="p">The Overloaded-State attribute allows you to access the current system overload state.
            The system overload state is returned as one of the following integer values:</p>

        <ul class="ul" id="overload_shedding__ul_ifm_s42_qxb">
            <li class="li">
                <p class="p">0—normal</p>

            </li>

            <li class="li">
                <p class="p">1—minor overload</p>

            </li>

            <li class="li">
                <p class="p">2—major overload</p>

            </li>

            <li class="li">
                <p class="p">3—critical overload</p>

            </li>

            <li class="li">
                <p class="p">4—resource-critical overload</p>

            </li>

        </ul>

        <div class="fig fignone" id="overload_shedding__fig_cds_q5s_g5b"><span class="figcap"><span class="fig--title-label">Figure: </span>Overload Settings for CHF ME – 4G Traffic</span>
            
            <a href="../images/overload_4GTraffic.png" class="image"><img class="image break scalefit" id="overload_shedding__image_mdv_jhv_h5b" height="288" src="../images/overload_4GTraffic.png" /></a>
        </div>

        <div class="fig fignone" id="overload_shedding__fig_ypn_s5s_g5b"><span class="figcap"><span class="fig--title-label">Figure: </span>Overload Settings for CHF ME – 5G HTTP SBI Traffic</span>
            
            <a href="../images/overload_5GTraffic.png" class="image"><img class="image break scalefit" id="overload_shedding__image_rgj_mhv_h5b" height="288" src="../images/overload_5GTraffic.png" /></a>
        </div>

        <div class="section" id="overload_shedding__section_nfn_3nq_qxb"><h2 class="title sectiontitle">Overload shedding profile configuration</h2>
            
            <div class="p">To configure an overload shedding profile, select <strong class="ph b">PROFILES</strong> tab in the
                    <span class="ph uicontrol">Overload Protection</span> window. Click <strong class="ph b">+</strong> and select
                    <span class="ph uicontrol">Overload shedding profile</span>. Configure the overload
                shedding profile parameters as described in the following table:<table cellpadding="4" cellspacing="0" summary="" id="overload_shedding__table_jfm_s42_qxb" class="table" frame="border" border="1" rules="all"><caption><span class="tablecap"><span class="table--title-label">Table: </span>Overload shedding profile parameters</span></caption><colgroup><col style="width:17.064846416382252%" /><col style="width:64.50511945392492%" /><col style="width:18.430034129692835%" /></colgroup><thead class="thead" style="text-align:left;">
                            <tr class="row">
                                <th class="entry cellrowborder" style="vertical-align:top;" id="d36874e120">
                                    <p class="p">Parameter</p>

                                </th>

                                <th class="entry cellrowborder" style="vertical-align:top;" id="d36874e126">
                                    <p class="p">Description</p>

                                </th>

                                <th class="entry cellrowborder" style="vertical-align:top;" id="d36874e132">
                                    <p class="p">Mandatory or Optional</p>

                                </th>

                            </tr>

                        </thead>
<tbody class="tbody">
                            <tr class="row">
                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d36874e120 ">Name </td>

                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d36874e126 ">Specify the profile name. <p class="p">Maximum characters 50 only.
                                    </p>
</td>

                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d36874e132 "> Mandatory </td>

                            </tr>

                            <tr class="row">
                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d36874e120 ">Description</td>

                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d36874e126 "> Specify a description of the profile. </td>

                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d36874e132 "> Optional </td>

                            </tr>

                            <tr class="row">
                                <td class="entry cellrowborder" colspan="3" style="vertical-align:top;" headers="d36874e120 d36874e126 d36874e132 "><span class="ph uicontrol">Native 5G message
                                        filters</span><p class="p">Click <span class="ph uicontrol">+MESSAGE
                                            FILTER</span> to add a new message filter.</p>
<div class="note" id="overload_shedding__note_hln_bpq_qxb"><div class="notetitle"><img src="../../web/css/../images/note.svg" title="note-icon" class="noteicon" />Note:</div> Under this section, only <em class="ph i">5G</em>
                                        specific operations / values are available.</div>
</td>

                            </tr>

                            <tr class="row">
                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d36874e120 ">Name</td>

                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d36874e126 ">Specify the message filter name</td>

                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d36874e132 ">Optional</td>

                            </tr>

                            <tr class="row">
                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d36874e120 ">Conditions</td>

                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d36874e126 "> Allows you to select a source context from one drop-down
                                    list and an attribute from the second drop-down list, which
                                    links the condition with the operation. <p class="p">Click <strong class="ph b">+</strong> button
                                        to add a condition.</p>
</td>

                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d36874e132 ">Optional</td>

                            </tr>

                            <tr class="row">
                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d36874e120 ">Actions</td>

                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d36874e126 "> Allows you to select a result context from one drop-down
                                    list and an attribute from the second drop-down list, which
                                    encompasses one action for the tracing operation.<p class="p">You can
                                            <strong class="ph b">+</strong> button to add an action.</p>
</td>

                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d36874e132 ">Optional</td>

                            </tr>

                            <tr class="row">
                                <td class="entry cellrowborder" colspan="3" style="vertical-align:top;" headers="d36874e120 d36874e126 d36874e132 "><span class="ph uicontrol">Diameter 4G message
                                        filters</span><p class="p">Click <span class="ph uicontrol">+MESSAGE
                                            FILTER</span> to add a new message filter.</p>
<div class="note" id="overload_shedding__note_c5r_d1n_x5b"><div class="notetitle"><img src="../../web/css/../images/note.svg" title="note-icon" class="noteicon" />Note:</div> 
                                        <ul class="ul" id="overload_shedding__ul_sj5_fdf_fxb">
                                            <li class="li">All the values for Diameter 4G are not provided in
                                                this document. Relevant vales which are in scope are
                                                explained.</li>

                                            <li class="li">To shed 5G messages on ME, use Diameter 4G overload
                                                protection profile. Native 5G overload profile is
                                                not supported for this purpose.</li>

                                        </ul>

                                    </div>
</td>

                            </tr>

                            <tr class="row">
                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d36874e120 ">Name</td>

                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d36874e126 ">Specify the message filter name</td>

                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d36874e132 ">Optional</td>

                            </tr>

                            <tr class="row">
                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d36874e120 ">Conditions</td>

                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d36874e126 "> Allows you to select a source context from one drop-down
                                    list and an attribute from the second drop-down list, which
                                    links the condition with the operation. <p class="p">Click <strong class="ph b">+</strong> button
                                        to add a condition.</p>
</td>

                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d36874e132 ">Optional</td>

                            </tr>

                            <tr class="row">
                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d36874e120 ">Actions</td>

                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d36874e126 "> Allows you to select a result context from one drop-down
                                    list and an attribute from the second drop-down list, which
                                    encompasses one action for the tracing operation.<p class="p">You can
                                            <strong class="ph b">+</strong> button to add an action.</p>
</td>

                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d36874e132 ">Optional</td>

                            </tr>

                        </tbody>
</table>
</div>

            <div class="note" id="overload_shedding__note_am5_24q_qxb"><div class="notetitle"><img src="../../web/css/../images/note.svg" title="note-icon" class="noteicon" />Note:</div> 
                <ul class="ul" id="overload_shedding__ul_ngz_24q_qxb">
                    <li class="li">The procedure to add a condition is as follows:<ol class="ol" id="overload_shedding__ol_wjx_j4q_qxb">
                            <li class="li">
                                <p class="p">Click the <strong class="ph b">+</strong> to expand the editor.</p>

                            </li>

                            <li class="li">
                                <p class="p">From the first drop-down list, select the required source
                                    context.</p>

                            </li>

                            <li class="li">
                                <p class="p">From the second drop-down list, select the required
                                    attribute.</p>

                            </li>

                            <li class="li">
                                <p class="p">Depending on your choice of condition, enter valid values for the
                                    required value fields.</p>

                            </li>

                            <li class="li">
                                <p class="p">Click <span class="ph uicontrol">ADD</span> to add the configured
                                    condition.</p>

                            </li>

                        </ol>
</li>

                    <li class="li">The procedure to add an action is as follows:<ul class="ul" id="overload_shedding__ul_c1g_44q_qxb">
                            <li class="li">Click the <strong class="ph b">+</strong> button to expand the editor.</li>

                            <li class="li">From the first drop-down list, select the required result
                                context.</li>

                            <li class="li">From the second drop-down list, select the required action. The
                                actions available are described under 5G context.</li>

                            <li class="li">Depending on your choice of action, enter valid values for the
                                required value fields.</li>

                            <li class="li">Click <span class="ph uicontrol">ADD</span> to add the configured action.</li>

                        </ul>
<table cellpadding="4" cellspacing="0" summary="" id="overload_shedding__table_enn_hlf_x5b" class="table" frame="border" border="1" rules="all"><colgroup><col style="width:25%" /><col style="width:25%" /><col style="width:25%" /><col style="width:25%" /></colgroup><thead class="thead" style="text-align:left;">
                                    <tr class="row">
                                        <th class="entry cellrowborder" style="vertical-align:top;" id="d36874e390">Context</th>

                                        <th class="entry cellrowborder" style="vertical-align:top;" id="d36874e393">Action</th>

                                        <th class="entry cellrowborder" style="vertical-align:top;" id="d36874e396">Shedding percentage</th>

                                        <th class="entry cellrowborder" style="vertical-align:top;" id="d36874e399">HTTO result code</th>

                                    </tr>

                                </thead>
<tbody class="tbody">
                                    <tr class="row">
                                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d36874e390 ">5GRequest</td>

                                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d36874e393 ">Reject-with-percentage</td>

                                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d36874e396 ">Value range: <em class="ph i">1-100</em></td>

                                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d36874e399 ">Value range: <em class="ph i">100- 599</em></td>

                                    </tr>

                                </tbody>
</table>
</li>

                </ul>

            </div>

            <p class="p">The following is an example of a simple message filter rule that could be used to
                shed 75% of the messages when overloaded:</p>

            <div class="note" id="overload_shedding__note_kfm_s42_qxb"><div class="notetitle"><img src="../../web/css/../images/note.svg" title="note-icon" class="noteicon" />Note:</div> The APN is required to identify the GX Emergency call
                because you do not want to shed emergency calls. The following rule defined below
                will not shed the emergency calls (Gx should be successful) and 80% of the other
                non-emergency Gx calls will be shed.</div>

            <p class="p">
                <kbd class="ph userinput">if GxCCR.Called-Staion-Id NOT_EQUAL SOS (values)</kbd>
            </p>

            <p class="p">
                <kbd class="ph userinput">then DiameterRequest.Reject-With-Percentage</kbd>
            </p>

            <p class="p">
                <kbd class="ph userinput">Shedding Percentage =</kbd>
            </p>

            <p class="p">
                <kbd class="ph userinput">75</kbd>
            </p>

            <p class="p">
                <kbd class="ph userinput">Result-Code = 3004</kbd>
            </p>

            <p class="p">
                <kbd class="ph userinput">Vendor Id = 10415</kbd>
            </p>

        </div>

    </div>
<div class="footer"><hr /><p>Diameter/HTTP Configuration Guide • P556766-DN1000054969-R23.8 • 1 • <a href="../home.html">Cover</a> • ©2023 Nokia. Nokia Confidential Information • Use subject to agreed restrictions on disclosure and use.</p></div></body>
</html>