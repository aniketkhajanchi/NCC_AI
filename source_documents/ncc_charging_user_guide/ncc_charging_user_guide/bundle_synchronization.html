<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2023" />
<meta name="DC.rights.owner" content="(C) Copyright 2023" />
<meta name="generator" content="DITA-OT" /><meta name="DC.type" content="concept" />
<meta name="DC.title" content="Auto-synchronization of services (bundles)" />
<meta name="prodname" content="Nokia Converged Charging" />
<meta name="version" content="Release 23.8" />
<meta name="DC.format" content="XHTML" />
<meta name="DC.identifier" content="bundle_synchronization" />
<link rel="stylesheet" type="text/css" href="../../web/css/commonltr.css" />
<link rel="stylesheet" type="text/css" href="../../web/css/styles.min.css" />
<link rel="stylesheet" type="text/css" href="../../web/css/common-extended.css" /><title>Auto-synchronization of services (bundles)</title>
<script src="../web/js/nswtc.js" language="javascript" type="text/javascript">/*(◎_◎;)*/</script>
<script src="../../web/css/../js/script.min.js" language="javascript" type="text/javascript">/*(◎_◎;)*/</script>
</head>
<body id="bundle_synchronization">
<div class="header"><div id="feedback-link-placeholder" class="feedback-link"></div><hr /></div><h1 class="title topictitle1" id="ariaid-title1">Auto-synchronization of services (bundles)</h1>
<div class="body conbody">
        <p class="p">This feature provides the functionality to automatically activate/subscribe or
            deactivate/remove bundles on a device during the call based on rule configuration. The
            functionality to automatically synchronize the bundles is supported by the
                <em class="ph i">RESOURCE_PRE_SORTING</em> trigger. </p>

        <p class="p">The services (bundles) to be automatically synchronized can be selected using
                <em class="ph i">Auto-manage service</em> parameter in the Service (Bundle) entity. If
                <em class="ph i">Auto-manage service</em> parameter is enabled for a bundle, it indicates that the
            bundles is eligible for automatic synchronization. For details on <em class="ph i">Auto-manage
                service</em> parameter, see <a class="xref" href="bundles_basic_details.html">Basic Details</a>.</p>

        <p class="p">If a service (bundle) is configured to be eligible for automatic synchronization, then
            note the following important points:</p>

        <ul class="ul" id="bundle_synchronization__ul_xc3_jns_g5b">
            <li class="li">If the service (bundle) is already subscribed to the device in active state, then no
                action is taken.</li>

            <li class="li">If the service (bundle) is not subscribed to the device, then a new instance of
                bundle is added to the device in active state.</li>

            <li class="li">If the bundle is already subscribed to the device but not present in the list of
                input bundles for automatic synchronization, then that subscription instance is
                removed from the device.</li>

        </ul>

        <p class="p">The automatic synchronization functionality can be controlled using the application
            preference <em class="ph i">Enable Auto Manage</em>. For details on configuring <em class="ph i">Enable Auto
                Manage</em>, see <em class="ph i">Managed Element application preferences</em> section in <em class="ph i">Global
                configuration guide</em>.</p>

        <div class="section" id="bundle_synchronization__section_d1w_ntk_c5b"><h2 class="title sectiontitle">Configuration</h2>
            
            <div class="p">The application preference <em class="ph i">Enable Auto Manage</em> is used to enable/disable
                automatic synchronization of bundles. It can take the following values:<ul class="ul" id="bundle_synchronization__ul_gzg_k1v_g5b">
                    <li class="li"><var class="keyword varname">false</var>: Automatic synchronization of bundles functionality
                        is disabled.</li>

                    <li class="li"><var class="keyword varname">true</var>: If configured at SM, then auto management
                        (provision or de-provision of services (bundles) to devices) is enabled. If
                        configured at ME, then the synchronization process is executed.</li>

                </ul>
<div class="note" id="bundle_synchronization__note_u1f_qtk_c5b"><div class="notetitle"><img src="../../web/css/../images/note.svg" title="note-icon" class="noteicon" />Note:</div> Auto synchronization of the services is triggered
                    based on the rule configuration. </div>
</div>

            <p class="p"><em class="ph i">SPR_DEVICE.Auto-Manage-Sync</em> can be used to configure the list of bundles to be
                automatically synchronized. For more details on <em class="ph i">Auto-Manage-Sync</em> action, see
                    <a class="xref" href="ruleattributes_spr_device_source_context.html">SPR_DEVICE source context</a>.</p>

            <p class="p"><em class="ph i">Auto-manage service</em> parameter in Service (Bundle) entity should be enabled to
                indicate that the bundle is eligible for automatic synchronization. If
                    <em class="ph i">Auto-manage service</em> parameter is enabled for a bundle, then a message
                pop-up appears as shown in the following image: </p>

            <div class="p">
                <div class="fig fignone" id="bundle_synchronization__fig_u4l_vcv_g5b">
                    <img class="image break" id="bundle_synchronization__image_m5l_wcv_g5b" height="96" src="../images/auto_manage_service.PNG" width="576" />
                </div>

            </div>

            <div class="p">
                <div class="note" id="bundle_synchronization__note_al5_pdv_g5b"><div class="notetitle"><img src="../../web/css/../images/note.svg" title="note-icon" class="noteicon" />Note:</div> Sample RSV is a sample for reference to understand rules
                    configuration for this feature. It is available in read-only mode.<div class="fig fignone" id="bundle_synchronization__fig_rsl_jdv_g5b">
                        <img class="image break" id="bundle_synchronization__image_yjf_4dv_g5b" height="48" src="../images/sample_rsv.PNG" width="576" />
                    </div>
</div>

            </div>

            <div class="sectiondiv">
                <p class="p">Note the following important points about this feature:</p>

                <ul class="ul" id="bundle_synchronization__ul_rtv_k2k_c5b">
                    <li class="li">Automatic service (bundle) synchronization is applicable only to
                        device.</li>

                    <li class="li">If the subscription is in final state, then a transition is defined in the
                        lifecycle for subscription instance deletion.</li>

                    <li class="li">BOU bundles and queued bundles should not be selected for automatic
                        synchronization.</li>

                    <li class="li">This <em class="ph i">RESOURCE_PRE_SORTING</em> trigger is not applicable to IoT device
                        event charging.</li>

                    <li class="li">Sy call is not applicable for auto-manage functionality.</li>

                    <li class="li">If a subscription to an auto-managed bundle is in barred state, then it is
                        considered as a valid instance and not synchronized again.</li>

                    <li class="li">If an on-going call fails after the execution of auto-manage functionality
                        through <em class="ph i">Auto-Manage-Sync</em> action, then all the subscriptions processed
                        are rolled back and their EDRs are generated.</li>

                    <li class="li">If a bundle is provisioned before entity versioning is enabled, then a new
                        version of the bundle must be created. Else, <em class="ph i">Auto-Manage-Sync</em>
                        functionality is not applicable for that bundle.</li>

                    <li class="li">New instance of updated version of an auto-managed bundle is not subscribed
                        through auto-manage sync function.</li>

                    <li class="li">For an auto-managed bundle that is already subscribed by a device and is in
                        valid state, if a new version is created or an existing version is updated,
                        then that bundle is not re-subscribed during call.</li>

                </ul>

            </div>
        </div>

        <div class="section" id="bundle_synchronization__section_plt_r2k_c5b"><h2 class="title sectiontitle">Examples</h2>
            
            <div class="sectiondiv"><strong class="ph b">Use case 1: </strong><div class="p">Configuration:<ul class="ul" id="bundle_synchronization__ul_enl_xfv_g5b">
                        <li class="li">Application preference <em class="ph i">Enable Auto Manage</em> is enabled on SM and ME
                            node.</li>

                        <li class="li">The bundles B1, B2, B3, B4 are provisioned and are configured to be
                            eligible for automatic synchronization.</li>

                        <li class="li">Device D1 is subscribed to Bundle B1 and Bundle B5, and B5 is eligible
                            for automatic synchronization.</li>

                        <li class="li">A custom data is configured at device level for COSP.</li>

                        <li class="li">The subscription to B1 is in final state.</li>

                    </ul>
</div>
<div class="p">Execution:<ul class="ul" id="bundle_synchronization__ul_fnl_xfv_g5b">
                        <li class="li">Device D1 makes a call.</li>

                        <li class="li">Based on the COSP conditions, the bundles which are present in the valid
                            list are B1,B2, B3, and B4.</li>

                    </ul>
</div>
<div class="p">Result:<ul class="ul">
                        <li class="li">Bundle B1 is already subscribed but in final state. Hence, a new
                            instance of B1 is added to the Device D1.</li>

                        <li class="li">Bundle B2, B3 and B4 are subscribed to Device D1.</li>

                        <li class="li">Bundle B5 is already subscribed but not in the valid list of bundles
                            based on COSP conditions. Hence the subscription is removed from the
                            device.</li>

                        <li class="li">All the bundles subscribed in the call are available for usage in the
                            same call.</li>

                    </ul>
</div>
</div>
        </div>

    </div>
<div class="footer"><hr /><p>Charging User Guide • P556766-DN1000054947-R23.8 • 1 • <a href="../home.html">Cover</a> • ©2023 Nokia. Nokia Confidential Information • Use subject to agreed restrictions on disclosure and use.</p></div></body>
</html>