<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2023" />
<meta name="DC.rights.owner" content="(C) Copyright 2023" />
<meta name="generator" content="DITA-OT" /><meta name="DC.type" content="concept" />
<meta name="DC.title" content="addSubscription" />
<meta name="prodname" content="Nokia Converged Charging" />
<meta name="version" content="Release 23.8" />
<meta name="DC.format" content="XHTML" />
<meta name="DC.identifier" content="add_subscription" />
<link rel="stylesheet" type="text/css" href="../../web/css/commonltr.css" />
<link rel="stylesheet" type="text/css" href="../../web/css/styles.min.css" />
<link rel="stylesheet" type="text/css" href="../../web/css/common-extended.css" /><title>addSubscription</title>
<script src="../web/js/nswtc.js" language="javascript" type="text/javascript">/*(◎_◎;)*/</script>
<script src="../../web/css/../js/script.min.js" language="javascript" type="text/javascript">/*(◎_◎;)*/</script>
</head>
<body id="add_subscription">
<div class="header"><div id="feedback-link-placeholder" class="feedback-link"></div><hr /></div><h1 class="title topictitle1" id="ariaid-title1">addSubscription</h1>
<div class="topic concept nested1" aria-labelledby="ariaid-title2" id="concept_tmh_3s1_srb"><h2 class="title topictitle2" id="ariaid-title2">EDR example</h2>
<div class="body conbody">
      <div class="section" id="concept_tmh_3s1_srb__section_sl4_ncd_g5b"><h3 class="title sectiontitle">Example 1</h3>
        
        <pre class="pre codeblock" id="concept_tmh_3s1_srb__codeblock_x2f_4cd_g5b"><code>---------------------------------------
CDR length:                       3186
Release ID | Version ID:           7|2
Data record format | TS number:    1|7
Release identifier extension:        0
Name                               Tag                                                   Data
RecordType                         0                                      PROVISIONING_RECORD
invokedBy                          1                                               webService
invokedMethod                      1                                          addSubscription
result                             1                                                   Failed
correlationID                      1     X-CorrelationId:4754161d-f2b9-4d4e-9def-62f85619b834
generationTimestamp                1                                      23/08/2023 15:24:58
meHostName                         1                                               dweikat-me
nccVersion                         1                                              SPS_23_8_R1
recordId                           1      20230823122458_235f4074-1a1b-4db2-95f3-39cfc007e130
RecordTimestamp                    1                                      23/08/2023 15:24:58
  RecordProperty                   0                                         subscriptionInfo
  subscriptionId                   1                     482fc034-d586-4e6b-aa71-48743ba05a88
  renewalPriority                  1                                                        0
  subscriptionCreationTime         1                                      23/08/2023 15:24:58
  typeOfSubscription               1                                                   DEVICE
  renewResetStatus                 1                                                    false
  renewalMode                      1                                                      ALL
  renewalUpdated                   1                                                    false
  activationTime                   1                                      23/08/2023 15:24:58
  globalEntity                     1                                                    false
  periodLifeCycleName              1                                    PeriodLC_5803_Renewal
  periodLifeCycleState             1                                                Suspended
  entityLifeCycleName              1                                            EntityLC_5803
  entityLifeCycleState             1                                                Suspended
    RecordProperty                 0                                               bundleInfo
    bundleName                     1                                       Bundle5803_Renewal
    bundleFee                      1                                                      100
    dayOfWeek                      1                                                   SUNDAY
    taxIncluded                    1                                                    false
    chargeMissedRecurrentPeriods   1                                                    false
    disableTTC                     1                                                    false
    randomizeVT                    1                                                    false
    processingType                 1                                                     NONE
    RecordProperty                 0                                              accountInfo
    accountID                      1                                              Account5803
    accountName                    1                                              Account5803
    hourOfDay                      1                                                        0
    dayOfWeek                      1                                                   SUNDAY
    dayOfMonth                     1                                                        1
    timeZoneId                     1                                                   Israel
    accountCreationTime            1                                      23/08/2023 15:18:17
    accountLastUpdateTime          1                                      23/08/2023 15:18:17
    accountOveragelimit            1                                                     -0.0
    accountType                    1                                                 PRE_PAID
    canaryMode                     1                                                     NONE
    renewStatus                    1                                                    false
    taxIncluded                    1                                                    false
    globalEntity                   1                                                    false
    entityLifeCycleName            1                                  DefaultAccountLifeCycle
    entityLifeCycleState           1                                                   Active
    periodLifeCycleName            1                               DefaultAccountBillingCycle
    periodLifeCycleState           1                                                    Start
      RecordProperty               0                                       accountBalanceInfo
      balance                      1                                                      0.0
      availableBalance             1                                                      0.0
      prevBalance                  1                                                      0.0
      prevAvailableBalance         1                                                      0.0
      globalEntity                 1                                                    false
    RecordProperty                 0                              chargingServiceInstanceInfo
    chargingServiceName            1                                               CLogic5803
    creationTime                   1                                      23/08/2023 15:24:58
      RecordProperty               0                                               bucketInfo
      bucketInstanceId             1                     a06eaffa-6bdb-4987-b11a-ac7b9508fa49
      bucketName                   1                                               Bucket5803
    RecordProperty                 0                                             discountInfo
    discountName                   1                                            Discount58031
    bundleFeeDiscountType          1                                               PERCENTAGE
    bundleFeeDiscount              1                                                       50
    renewalDiscountType            1                                                     NONE
    renewalDiscount                1                                                        0
    chargeFeeDiscountType          1                                                     NONE
    chargeFeeDiscount              1                                                        0
    discountStartTime              1                                      18/08/2023 15:24:58
    discountEndTime                1                                      28/08/2023 15:24:57
    creationTime                   1                                      23/08/2023 15:24:58
    discountedPeriods              1                                                       10
    discPriority                   1                                                        2
    RecordProperty                 0                                               deviceInfo
    deviceId                       1                                             Device5803_1
    deviceName                     1                                             Device5803_1
    deviceType                     1                                                   NORMAL
    syOCSEnabled                   1                                                    false
    allowOverage                   1                                                    false
    pwdEncrypted                   1                                                    false
    canaryMode                     1                                                     NONE
    offLineTimeStamp               1                                                        0
  RecordProperty                   0                                            lifeCycleInfo
  entityLifeCycleState             1                                                Suspended
  bundleName                       1                                       Bundle5803_Renewal
  bundleActivationType             1                                                   NORMAL
  subscriptionInputDate            1                                      23/08/2023 15:24:58
  result                           1                                                     Fail
  reason                           1                                                        0
    RecordProperty                 0                                        adjustBalanceInfo
    accountID                      1                                              Account5803
    accountName                    1                                              Account5803
    amount                         1                                                   100.00
    accountType                    1                                                 PRE_PAID
    accountOverageLimit            1                                                     0.00
    accountBalanceBefore           1                                                     0.00
    accountBalanceAfter            1                                                     0.00
    failReason                     1                                                        0
    adjustMode                     1                                                     DECR
    RecordProperty                 0                                               bucketInfo
    bucketName                     1                                               Bucket5803
    bucketUnitType                 1                                                     Byte
    bucketKindOfUnit               1                                                   VOLUME
    bucketBalanceBefore            1                                                      100
    bucketBalanceAfter             1                                                      100
    carryOverBucket                1                                                    false
</code></pre>
        <div class="note" id="concept_tmh_3s1_srb__note_rb2_5ly_nxb"><div class="notetitle"><img src="../../web/css/../images/note.svg" title="note-icon" class="noteicon" />Note:</div> <em class="ph i">reason</em> tag is available in failed addSubscription EDR in
          case of subscription creation is failed.</div>

      </div>

      <div class="section" id="concept_tmh_3s1_srb__section_ay1_ptt_h5b"><h3 class="title sectiontitle">Example 2 - EDR generated via autoManageSyncAction </h3>
        
        <pre class="pre codeblock" id="concept_tmh_3s1_srb__codeblock_tpj_rtt_h5b"><code>--------------------------------------
CDR length:                       3023
Release ID | Version ID:           7|2
Data record format | TS number:    1|7
Release identifier extension:        0
Name                         Tag                                                   Data
RecordType                   0                                      PROVISIONING_RECORD
invokedBy                    1                                     autoManageSyncAction
invokedMethod                1                                          addSubscription
result                       1                                                  SUCCESS
correlationID                1     X-CorrelationId:ed7e8dec-b75c-44e6-9913-0ff12056d83f
generationTimestamp          1                                      25/07/2022 15:59:10
meHostName                   1  naperil95vzwcchf-y-nk-ig-000-ig-charging-7cbf4fdd78-j6ccr                                                 
nccVersion                   1                                              SPS_22_7_R1
recordId                     1      20220725102910_e079bdd0-7ef0-4892-95f3-9c5387386a7b
RecordTimestamp              1                                      25/07/2022 15:59:10
  RecordProperty             0                                         subscriptionInfo
  subscriptionId             1                     8ef46979-3171-4d85-8f5d-c87dcbb6cebc
  renewalPriority            1                                                        0
  subscriptionCreationTime   1                                      25/07/2022 15:59:10
  typeOfSubscription         1                                                   DEVICE
  renewResetStatus           1                                                    false
  renewalMode                1                                                     NONE
  renewalUpdated             1                                                    false
  activationTime             1                                      25/07/2022 15:59:10
  globalEntity               1                                                    false
  entityLifeCycleName        1                             DefaultSubscriptionLifeCycle
  entityLifeCycleState       1                                                   Active
    RecordProperty           0                                               bundleInfo
    bundleName               1                                                 B2_43843
    bundleFee                1                                                        5
    dayOfWeek                1                                                   SUNDAY
    disableTTC               1                                                    false
    processingType           1                                              AUTO_MANAGE
    RecordProperty           0                                              accountInfo
    accountID                1                                             Account43869
    accountName              1                                             Account43869
    hourOfDay                1                                                        5
    dayOfWeek                1                                                  TUESDAY
    dayOfMonth               1                                                       23
    timeZoneId               1                                                      EST
    accountCreationTime      1                                      25/07/2022 15:58:45
    accountLastUpdateTime    1                                      25/07/2022 15:58:46
    accountOveragelimit      1                                           -9.999999999E9
    accountType              1                                                 PRE_PAID
    canaryMode               1                                                     NONE
    renewStatus              1                                                    false
    globalEntity             1                                                    false
    entityLifeCycleName      1                                  DefaultAccountLifeCycle
    entityLifeCycleState     1                                                   Active
    periodLifeCycleName      1                               DefaultAccountBillingCycle
    periodLifeCycleState     1                                                    Start
    RecordProperty           0                              chargingServiceInstanceInfo
    chargingServiceName      1                                           ChLogic1-43843
    creationTime             1                                      25/07/2022 15:59:10
      RecordProperty         0                                               bucketInfo
      bucketInstanceId       1                     156d4dc2-442c-4133-a9f5-4ab73f291a7d
      bucketName             1                                AllowanceLimitData1-43843
      RecordProperty         0                                              counterInfo
      counterInstanceId      1                     24fda557-c588-4b33-a818-732356f3e200
      counterID              1                                                 Ctr43843
    RecordProperty           0                                               deviceInfo
    deviceId                 1                                              Device43869
    deviceName               1                                              Device43869
    deviceType               1                                                   NORMAL
    syOCSEnabled             1                                                    false
    allowOverage             1                                                    false
    pwdEncrypted             1                                                    false
    canaryMode               1                                                     NONE
    offLineTimeStamp         1                                                        0
  RecordProperty             0                                            lifeCycleInfo
  entityLifeCycleState       1                                                   Active
  bundleName                 1                                                 B2_43843
  bundleActivationType       1                                                   NORMAL
  subscriptionInputDate      1                                      25/07/2022 15:59:10
  subscriptionId             1                     8ef46979-3171-4d85-8f5d-c87dcbb6cebc
  fee                        1                                                        5
  activationTime             1                                      25/07/2022 15:59:10
  result                     1                                                  Success
    RecordProperty           0                                        adjustBalanceInfo
    accountID                1                                             Account43869
    accountName              1                                             Account43869
    amount                   1                                                    -5.00
    accountType              1                                                 PRE_PAID
    accountOverageLimit      1                                            9999999999.00
    accountBalanceBefore     1                                                     0.00
    accountBalanceAfter      1                                                   975.00
    shadowBalanceBefore      1                                                     0.00
    shadowBalanceAfter       1                                                     0.00
    result                   1                                                  SUCCESS
    RecordProperty           0                                               bucketInfo
    bucketName               1                                AllowanceLimitData1-43843
    bucketUnitType           1                                                    MByte
    bucketKindOfUnit         1                                                   VOLUME
    bucketBalanceBefore      1                                               2097152000
    bucketBalanceAfter       1                                               2097152000
    carryOverBucket          1                                                    false
    RecordProperty           0                                              counterInfo
    counterName              1                                                 Ctr43843
    counterKey               1                     24fda557-c588-4b33-a818-732356f3e200
    counterType              1                                                    USAGE
    counterUnitType          1                                                    MByte
    counterKindOfUnit        1                                                   VOLUME
    alignGranularity         1                                                     TRUE
    counterValueBefore       1                                                        0
    counterValueAfter        1                                                        0
</code></pre>
      </div>

      <div class="section" id="concept_tmh_3s1_srb__section_ipb_rcd_g5b"><h3 class="title sectiontitle">Example 3</h3>
        
        <p class="p">If a user subscribes to a rollover type subscription and it is merged with an existing
          subscription of the same merge id, then a <em class="ph i">rolloverInfo</em> tag is added to the existing
          EDR.</p>

        <table cellpadding="4" cellspacing="0" summary="" id="concept_tmh_3s1_srb__table_y4l_byb_g5b" class="table" frame="border" border="1" rules="all"><caption><span class="tablecap"><span class="table--title-label">Table: </span>addSubscription EDR with rolloverInfo</span></caption><colgroup><col style="width:27.03213610586011%" /><col style="width:54.06427221172022%" /><col style="width:18.90359168241966%" /></colgroup><thead class="thead" style="text-align:left;">
              <tr class="row">
                <th class="entry cellrowborder" style="vertical-align:top;" id="d115832e79">EDR tag</th>

                <th class="entry cellrowborder" style="vertical-align:top;" id="d115832e82">Description</th>

                <th class="entry cellrowborder" style="vertical-align:top;" id="d115832e85">Example</th>

              </tr>

            </thead>
<tbody class="tbody">
              <tr class="row">
                <td class="entry cellrowborder" style="vertical-align:top;" headers="d115832e79 ">oldSubscriptionId</td>

                <td class="entry cellrowborder" style="vertical-align:top;" headers="d115832e82 ">Subscription Id of the existing subscription.</td>

                <td class="entry cellrowborder" style="vertical-align:top;" headers="d115832e85 ">19c77acd-4013-4f96-89ba-a941c965e3bf</td>

              </tr>

              <tr class="row">
                <td class="entry cellrowborder" style="vertical-align:top;" headers="d115832e79 ">oldBundleName</td>

                <td class="entry cellrowborder" style="vertical-align:top;" headers="d115832e82 ">Bundle name from the existing subscription.</td>

                <td class="entry cellrowborder" style="vertical-align:top;" headers="d115832e85 ">B1</td>

              </tr>

              <tr class="row">
                <td class="entry cellrowborder" style="vertical-align:top;" headers="d115832e79 ">oldSubscriptionEndTime</td>

                <td class="entry cellrowborder" style="vertical-align:top;" headers="d115832e82 ">End date from the existing subscription PLC.</td>

                <td class="entry cellrowborder" style="vertical-align:top;" headers="d115832e85 ">03-06-2022 19:16</td>

              </tr>

              <tr class="row">
                <td class="entry cellrowborder" style="vertical-align:top;" headers="d115832e79 ">oldSubscriptionValidityTime</td>

                <td class="entry cellrowborder" style="vertical-align:top;" headers="d115832e82 ">Validity time from the existing subscription ELC.</td>

                <td class="entry cellrowborder" style="vertical-align:top;" headers="d115832e85 ">13-06-2022 21:01</td>

              </tr>

              <tr class="row">
                <td class="entry cellrowborder" style="vertical-align:top;" headers="d115832e79 ">newSubscriptionId</td>

                <td class="entry cellrowborder" style="vertical-align:top;" headers="d115832e82 ">Subscription Id of the newly created subscription after rollover.</td>

                <td class="entry cellrowborder" style="vertical-align:top;" headers="d115832e85 ">c85ce33b-58ef-4165-a537-0822055e1bfc</td>

              </tr>

              <tr class="row">
                <td class="entry cellrowborder" style="vertical-align:top;" headers="d115832e79 ">newBundleName</td>

                <td class="entry cellrowborder" style="vertical-align:top;" headers="d115832e82 ">Bundle name from the newly created subscription after rollover.</td>

                <td class="entry cellrowborder" style="vertical-align:top;" headers="d115832e85 ">B2</td>

              </tr>

              <tr class="row">
                <td class="entry cellrowborder" style="vertical-align:top;" headers="d115832e79 ">newSubscriptionEndTime</td>

                <td class="entry cellrowborder" style="vertical-align:top;" headers="d115832e82 ">End date from the new subscription PLC after rollover.</td>

                <td class="entry cellrowborder" style="vertical-align:top;" headers="d115832e85 ">13-06-2022 19:32</td>

              </tr>

              <tr class="row">
                <td class="entry cellrowborder" style="vertical-align:top;" headers="d115832e79 ">newSubscriptionValidityTime</td>

                <td class="entry cellrowborder" style="vertical-align:top;" headers="d115832e82 ">Validity time from the new subscription ELC after rollover.</td>

                <td class="entry cellrowborder" style="vertical-align:top;" headers="d115832e85 ">14-06-2022 00:02</td>

              </tr>

              <tr class="row">
                <td class="entry cellrowborder" style="vertical-align:top;" headers="d115832e79 ">subscriptionMergeId</td>

                <td class="entry cellrowborder" style="vertical-align:top;" headers="d115832e82 ">Common <em class="ph i">Merge ID</em> of old and new subscriptions.</td>

                <td class="entry cellrowborder" style="vertical-align:top;" headers="d115832e85 ">ONNET</td>

              </tr>

              <tr class="row">
                <td class="entry cellrowborder" style="vertical-align:top;" headers="d115832e79 ">rolloverBucketInfo</td>

                <td class="entry cellrowborder" style="vertical-align:top;" headers="d115832e82 ">Bucket level rollover detail [List].</td>

                <td class="entry cellrowborder" style="vertical-align:top;" headers="d115832e85 "> </td>

              </tr>

              <tr class="row">
                <td class="entry cellrowborder" style="vertical-align:top;" headers="d115832e79 ">bucketUnitType</td>

                <td class="entry cellrowborder" style="vertical-align:top;" headers="d115832e82 ">Base level unit type of the bucket.</td>

                <td class="entry cellrowborder" style="vertical-align:top;" headers="d115832e85 ">Byte</td>

              </tr>

              <tr class="row">
                <td class="entry cellrowborder" style="vertical-align:top;" headers="d115832e79 ">bucketKindOfUnit</td>

                <td class="entry cellrowborder" style="vertical-align:top;" headers="d115832e82 ">Its possible values are as follows:<ul class="ul" id="concept_tmh_3s1_srb__ul_pxj_hzb_g5b">
                    <li class="li">TIME</li>

                    <li class="li">VOLUME</li>

                    <li class="li">MONEY</li>

                    <li class="li">UNIT</li>

                  </ul>
</td>

                <td class="entry cellrowborder" style="vertical-align:top;" headers="d115832e85 ">VOLUME</td>

              </tr>

              <tr class="row">
                <td class="entry cellrowborder" style="vertical-align:top;" headers="d115832e79 ">oldBucketName</td>

                <td class="entry cellrowborder" style="vertical-align:top;" headers="d115832e82 ">Bucket name of the existing subscription bucket instance.</td>

                <td class="entry cellrowborder" style="vertical-align:top;" headers="d115832e85 ">Bucket1</td>

              </tr>

              <tr class="row">
                <td class="entry cellrowborder" style="vertical-align:top;" headers="d115832e79 ">oldBucketEndTime</td>

                <td class="entry cellrowborder" style="vertical-align:top;" headers="d115832e82 ">
                  <p class="p">Bucket instanse end time of the existing subscription (If the bucket has its
                    own lifecycle).</p>

                </td>

                <td class="entry cellrowborder" style="vertical-align:top;" headers="d115832e85 ">03-06-2022 19:16</td>

              </tr>

              <tr class="row">
                <td class="entry cellrowborder" style="vertical-align:top;" headers="d115832e79 ">oldBucketIV</td>

                <td class="entry cellrowborder" style="vertical-align:top;" headers="d115832e82 ">Initial value of the old bucket instance at the time of rollover.</td>

                <td class="entry cellrowborder" style="vertical-align:top;" headers="d115832e85 ">120</td>

              </tr>

              <tr class="row">
                <td class="entry cellrowborder" style="vertical-align:top;" headers="d115832e79 ">oldBucketCV</td>

                <td class="entry cellrowborder" style="vertical-align:top;" headers="d115832e82 ">Current value (CV) of the old bucket instance at the time of
                  rollover.</td>

                <td class="entry cellrowborder" style="vertical-align:top;" headers="d115832e85 ">50</td>

              </tr>

              <tr class="row">
                <td class="entry cellrowborder" style="vertical-align:top;" headers="d115832e79 ">oldBucketUV</td>

                <td class="entry cellrowborder" style="vertical-align:top;" headers="d115832e82 ">Unused value (UV) of the old bucket instance at the time of rollover. Note
                  that oldBucketUV = oldBucketCV + reserved value.</td>

                <td class="entry cellrowborder" style="vertical-align:top;" headers="d115832e85 ">50</td>

              </tr>

              <tr class="row">
                <td class="entry cellrowborder" style="vertical-align:top;" headers="d115832e79 ">newBucketName</td>

                <td class="entry cellrowborder" style="vertical-align:top;" headers="d115832e82 ">Bucket name of the newly created bucket instance from the new
                  subscription.</td>

                <td class="entry cellrowborder" style="vertical-align:top;" headers="d115832e85 ">Bucket2</td>

              </tr>

              <tr class="row">
                <td class="entry cellrowborder" style="vertical-align:top;" headers="d115832e79 ">newBucketEndTime</td>

                <td class="entry cellrowborder" style="vertical-align:top;" headers="d115832e82 ">
                  <p class="p">End time of the newly created bucket instance (If the bucket has its own
                    lifecycle).</p>

                </td>

                <td class="entry cellrowborder" style="vertical-align:top;" headers="d115832e85 ">13-06-2022 19:32</td>

              </tr>

              <tr class="row">
                <td class="entry cellrowborder" style="vertical-align:top;" headers="d115832e79 ">newBucketIV</td>

                <td class="entry cellrowborder" style="vertical-align:top;" headers="d115832e82 ">
                  <p class="p">Initial value of the newly created bucket instance before rollover.</p>

                </td>

                <td class="entry cellrowborder" style="vertical-align:top;" headers="d115832e85 ">300</td>

              </tr>

              <tr class="row">
                <td class="entry cellrowborder" style="vertical-align:top;" headers="d115832e79 ">newBucketCV</td>

                <td class="entry cellrowborder" style="vertical-align:top;" headers="d115832e82 ">
                  <p class="p">Current value of the newly created bucket instance before rollover.</p>

                </td>

                <td class="entry cellrowborder" style="vertical-align:top;" headers="d115832e85 ">300</td>

              </tr>

              <tr class="row">
                <td class="entry cellrowborder" style="vertical-align:top;" headers="d115832e79 ">newBucketUV</td>

                <td class="entry cellrowborder" style="vertical-align:top;" headers="d115832e82 ">Newly created Bucket Instance's original Unused value before rollover </td>

                <td class="entry cellrowborder" style="vertical-align:top;" headers="d115832e85 ">300</td>

              </tr>

              <tr class="row">
                <td class="entry cellrowborder" style="vertical-align:top;" headers="d115832e79 ">newBucketIVAfterRollover</td>

                <td class="entry cellrowborder" style="vertical-align:top;" headers="d115832e82 ">
                  <p class="p">Initial value of the newly created bucket instance after rollover.</p>

                </td>

                <td class="entry cellrowborder" style="vertical-align:top;" headers="d115832e85 ">350</td>

              </tr>

              <tr class="row">
                <td class="entry cellrowborder" style="vertical-align:top;" headers="d115832e79 ">newBucketCVAfterRollover</td>

                <td class="entry cellrowborder" style="vertical-align:top;" headers="d115832e82 ">
                  <p class="p">Current value of the newly created bucket instance after rollover.</p>

                </td>

                <td class="entry cellrowborder" style="vertical-align:top;" headers="d115832e85 ">350</td>

              </tr>

              <tr class="row">
                <td class="entry cellrowborder" style="vertical-align:top;" headers="d115832e79 ">newBucketUVAfterRollover</td>

                <td class="entry cellrowborder" style="vertical-align:top;" headers="d115832e82 ">
                  <p class="p">Unused value of the newly created bucket instance after rollover.</p>

                </td>

                <td class="entry cellrowborder" style="vertical-align:top;" headers="d115832e85 ">350</td>

              </tr>

            </tbody>
</table>

        <pre class="pre codeblock" id="concept_tmh_3s1_srb__codeblock_wsn_rcd_g5b"><code>
--------------------------------------
CDR length:                       5847
Release ID | Version ID:           7|2
Data record format | TS number:    1|7
Release identifier extension:        0
Name                           Tag                                                  Data
RecordType                     0                                     PROVISIONING_RECORD
invokedBy                      1                                              webService
invokedMethod                  1                                         addSubscription
result                         1                                                 SUCCESS
generationTimestamp            1                                     13/07/2022 11:14:19
meHostName                     1  naperil95vzwcchf-y-nk-ig-000-ig-charging-7cbf4fdd78-j6ccr                                                  
nccVersion                     1                                             SPS_22_7_R1
recordId                       1     20220713111419_08ace573-9451-42e3-83e4-a2f0550d88ad
RecordTimestamp                1                                     13/07/2022 11:14:19
  RecordProperty               0                                        subscriptionInfo
  subscriptionId               1                    82993c90-ebf3-4547-a14f-c1db2a3e3d56
  renewalPriority              1                                                       0
  subscriptionCreationTime     1                                     13/07/2022 11:14:19
  typeOfSubscription           1                                                  DEVICE
  renewResetStatus             1                                                   false
  remainingRenewals            1                                                       0
  renewalMode                  1                                                    NONE
  renewalUpdated               1                                                   false
  activationTime               1                                     13/07/2022 11:14:19
  typeOfBundleChange           1                                                ROLLOVER
  maxRenewals                  1                                                       0
  queueId                      1                                                  Queue2
  globalEntity                 1                                                   false
  entityLifeCycleName          1                         SubscriptionLifeCycle_24hrs1346
  entityLifeCycleState         1                                                 Removed
    RecordProperty             0                                              bundleInfo
    bundleName                 1                                            Service11346
    bundleFee                  1                                                      20
    dayOfWeek                  1                                                  SUNDAY
    disableTTC                 1                                                   false
    processingType             1                                                    NONE
    RecordProperty             0                                             accountInfo
    accountID                  1                                             Account7461
    accountName                1                                             Account7461
    hourOfDay                  1                                                       0
    dayOfWeek                  1                                                  MONDAY
    dayOfMonth                 1                                                       1
    timeZoneId                 1                                                     IST
    accountCreationTime        1                                     13/07/2022 11:14:19
    accountLastUpdateTime      1                                     13/07/2022 11:14:19
    accountOveragelimit        1                                                 -1000.0
    accountType                1                                                PRE_PAID
    canaryMode                 1                                                    NONE
    globalEntity               1                                                   false
    entityLifeCycleName        1                                 DefaultAccountLifeCycle
    entityLifeCycleState       1                                                  Active
    periodLifeCycleName        1                              DefaultAccountBillingCycle
    periodLifeCycleState       1                                                   Start
      RecordProperty           0                                      accountBalanceInfo
      balance                  1                                                   -30.0
      availableBalance         1                                                   -30.0
      prevBalance              1                                                     0.0
      prevAvailableBalance     1                                                     0.0
      accountBalanceBefore     1                                                     0.0
      accountBalanceAfter      1                                                     0.0
      shadowBalanceAfter       1                                                     0.0
      shadowBalanceBefore      1                                                     0.0
      shadowBalance            1                                                     0.0
      globalEntity             1                                                   false
    RecordProperty             0                             chargingServiceInstanceInfo
    chargingServiceName        1                                           ChLogic-11346
    creationTime               1                                     13/07/2022 11:14:19
      RecordProperty           0                                              bucketInfo
      bucketInstanceId         1                    cd94c7dd-7e69-48ac-bb7c-ca5991861629
      bucketName               1                                               BKT-11346
      RecordProperty           0                                             counterInfo
      counterInstanceId        1                    09146871-87c2-4413-8022-7f453d76dffe
      counterID                1                                               CTR-11346
    RecordProperty             0                                              deviceInfo
    deviceId                   1                                              Device7461
    deviceName                 1                                              Device7461
    deviceType                 1                                                  NORMAL
    syOCSEnabled               1                                                   false
    allowOverage               1                                                   false
    pwdEncrypted               1                                                   false
    canaryMode                 1                                                    NONE
    offLineTimeStamp           1                                                       0
  RecordProperty               0                                        subscriptionInfo
  subscriptionId               1                    c40bed8f-4d10-4170-9119-192f4d4ff8ef
  renewalPriority              1                                                       0
  subscriptionCreationTime     1                                     13/07/2022 11:14:19
  typeOfSubscription           1                                                  DEVICE
  renewResetStatus             1                                                   false
  remainingRenewals            1                                                       0
  renewalMode                  1                                                    NONE
  renewalUpdated               1                                                   false
  activationTime               1                                     13/07/2022 11:14:19
  maxRenewals                  1                                                       0
  queueId                      1                                                  Queue2
  globalEntity                 1                                                   false
  entityLifeCycleName          1                         SubscriptionLifeCycle_24hrs1346
  entityLifeCycleState         1                                                  Active
    RecordProperty             0                                              bundleInfo
    bundleName                 1                                            Service21346
    bundleFee                  1                                                      10
    dayOfWeek                  1                                                  SUNDAY
    disableTTC                 1                                                   false
    processingType             1                                                    NONE
    RecordProperty             0                                             accountInfo
    accountID                  1                                             Account7461
    accountName                1                                             Account7461
    hourOfDay                  1                                                       0
    dayOfWeek                  1                                                  MONDAY
    dayOfMonth                 1                                                       1
    timeZoneId                 1                                                     IST
    accountCreationTime        1                                     13/07/2022 11:14:19
    accountLastUpdateTime      1                                     13/07/2022 11:14:19
    accountOveragelimit        1                                                 -1000.0
    accountType                1                                                PRE_PAID
    canaryMode                 1                                                    NONE
    renewStatus                1                                                   false
    globalEntity               1                                                   false
    entityLifeCycleName        1                                 DefaultAccountLifeCycle
    entityLifeCycleState       1                                                  Active
    periodLifeCycleName        1                              DefaultAccountBillingCycle
    periodLifeCycleState       1                                                   Start
      RecordProperty           0                                      accountBalanceInfo
      balance                  1                                                   -30.0
      availableBalance         1                                                   -30.0
      prevBalance              1                                                     0.0
      prevAvailableBalance     1                                                     0.0
      accountBalanceBefore     1                                                     0.0
      accountBalanceAfter      1                                                     0.0
      shadowBalanceAfter       1                                                     0.0
      shadowBalanceBefore      1                                                     0.0
      shadowBalance            1                                                     0.0
      globalEntity             1                                                   false
    RecordProperty             0                             chargingServiceInstanceInfo
    chargingServiceName        1                                           ChLogic-21346
    creationTime               1                                     13/07/2022 11:14:19
      RecordProperty           0                                              bucketInfo
      bucketInstanceId         1                    2e95e99a-cace-4bf8-a609-7190173a27f4
      bucketName               1                                               BKT-21346
      RecordProperty           0                                             counterInfo
      counterInstanceId        1                    c489d6b0-777b-4089-bf3c-cf2fcbfb0928
      counterID                1                                               CTR-21346
    RecordProperty             0                                              deviceInfo
    deviceId                   1                                              Device7461
    deviceName                 1                                              Device7461
    deviceType                 1                                                  NORMAL
    syOCSEnabled               1                                                   false
    allowOverage               1                                                   false
    pwdEncrypted               1                                                   false
    canaryMode                 1                                                    NONE
    offLineTimeStamp           1                                                       0
  RecordProperty               0                                           lifeCycleInfo
  queueId                      1                                                  Queue2
  entityLifeCycleState         1                                                  Active
  bundleName                   1                                            Service21346
  bundleActivationType         1                                      SUBSCRIPTION_MERGE
  subscriptionInputDate        1                                     13/07/2022 11:14:19
  subscriptionId               1                    c40bed8f-4d10-4170-9119-192f4d4ff8ef
  fee                          1                                                      10
  activationTime               1                                     13/07/2022 11:14:19
  result                       1                                                 Success
    RecordProperty             0                                       adjustBalanceInfo
    accountID                  1                                             Account7461
    accountName                1                                             Account7461
    amount                     1                                                  -10.00
    accountType                1                                                PRE_PAID
    accountOverageLimit        1                                                 1000.00
    accountBalanceBefore       1                                                    0.00
    accountBalanceAfter        1                                                  -30.00
    shadowBalanceBefore        1                                                    0.00
    shadowBalanceAfter         1                                                    0.00
    result                     1                                                 SUCCESS
    RecordProperty             0                                              bucketInfo
    bucketName                 1                                               BKT-21346
    bucketUnitType             1                                                   MByte
    bucketKindOfUnit           1                                                  VOLUME
    bucketBalanceBefore        1                                               419430400
    bucketBalanceAfter         1                                               419430400
    carryOverBucket            1                                                   false
    RecordProperty             0                                             counterInfo
    counterName                1                                               CTR-21346
    counterKey                 1                    c489d6b0-777b-4089-bf3c-cf2fcbfb0928
    counterType                1                                                   USAGE
    counterUnitType            1                                                   MByte
    counterKindOfUnit          1                                                  VOLUME
    alignGranularity           1                                                    TRUE
    counterValueBefore         1                                                       0
    counterValueAfter          1                                                       0
  RecordProperty               0                                            rolloverInfo
  oldSubscriptionId            1                    82993c90-ebf3-4547-a14f-c1db2a3e3d56
  oldBundleName                1                                            Service11346
  newSubscriptionId            1                    c40bed8f-4d10-4170-9119-192f4d4ff8ef
  newBundleName                1                                            Service21346
  subscriptionMergeId          1                                                  Queue2
    RecordProperty             0                                      rolloverBucketInfo
    bucketUnitType             1                                                   MByte
    bucketKindOfUnit           1                                                  VOLUME
    oldBucketName              1                                               BKT-11346
    oldBucketIV                1                                               104857600
    oldBucketCV                1                                               104857600
    oldBucketUV                1                                               104857600
    newBucketName              1                                               BKT-21346
    newBucketIV                1                                               314572800
    newBucketCV                1                                               314572800
    newBucketUV                1                                               314572800
    newBucketIVAfterRollover   1                                               419430400
    newBucketCVAfterRollover   1                                               419430400
    newBucketUVAfterRollover   1                                               419430400
</code></pre>
      </div>

      <div class="section" id="concept_tmh_3s1_srb__section_r5w_ddd_g5b"><h3 class="title sectiontitle">Example 4</h3>
        
        <p class="p">While merging the subscriptions, the remaining data from the old bundle is merged with
          the new bundle except the reserved amount. If the reserved session receives the under
          commit call after rollover, then the leftover units from the reserved amount are added in
          the corresponding new bucket. </p>

        <p class="p">The <em class="ph i">rollOverBucketInfo</em> tag is added to the existing <em class="ph i">bucketInfo</em> tag of the
          bucket of the old subscription.</p>

        <table cellpadding="4" cellspacing="0" summary="" id="concept_tmh_3s1_srb__table_sjj_b1c_g5b" class="table" frame="border" border="1" rules="all"><caption><span class="tablecap"><span class="table--title-label">Table: </span>addSubscription EDR with rollOverBucketInfo</span></caption><colgroup><col style="width:33.33333333333333%" /><col style="width:33.33333333333333%" /><col style="width:33.33333333333333%" /></colgroup><thead class="thead" style="text-align:left;">
              <tr class="row">
                <th class="entry cellrowborder" style="vertical-align:top;" id="d115832e474">EDR tag</th>

                <th class="entry cellrowborder" style="vertical-align:top;" id="d115832e477">Description</th>

                <th class="entry cellrowborder" style="vertical-align:top;" id="d115832e480">Example</th>

              </tr>

            </thead>
<tbody class="tbody">
              <tr class="row">
                <td class="entry cellrowborder" style="vertical-align:top;" headers="d115832e474 ">newSubscriptionId</td>

                <td class="entry cellrowborder" style="vertical-align:top;" headers="d115832e477 ">Id of the new subscription created after rollover.</td>

                <td class="entry cellrowborder" style="vertical-align:top;" headers="d115832e480 ">19c77acd-4013-4f96-89ba-a941c965e3bf</td>

              </tr>

              <tr class="row">
                <td class="entry cellrowborder" style="vertical-align:top;" headers="d115832e474 ">newBundleName</td>

                <td class="entry cellrowborder" style="vertical-align:top;" headers="d115832e477 ">
                  <p class="p">Name of the new bundle created after rollover.</p>

                </td>

                <td class="entry cellrowborder" style="vertical-align:top;" headers="d115832e480 ">B1</td>

              </tr>

              <tr class="row">
                <td class="entry cellrowborder" style="vertical-align:top;" headers="d115832e474 ">mergeId</td>

                <td class="entry cellrowborder" style="vertical-align:top;" headers="d115832e477 ">Common <em class="ph i">Merge ID</em> of old and new subscriptions,</td>

                <td class="entry cellrowborder" style="vertical-align:top;" headers="d115832e480 ">ONNET</td>

              </tr>

              <tr class="row">
                <td class="entry cellrowborder" style="vertical-align:top;" headers="d115832e474 ">newBucketName</td>

                <td class="entry cellrowborder" style="vertical-align:top;" headers="d115832e477 ">
                  <p class="p">Name of the new bucket created after rollover.</p>

                </td>

                <td class="entry cellrowborder" style="vertical-align:top;" headers="d115832e480 ">Bucket1</td>

              </tr>

              <tr class="row">
                <td class="entry cellrowborder" style="vertical-align:top;" headers="d115832e474 ">rollOverAmount</td>

                <td class="entry cellrowborder" style="vertical-align:top;" headers="d115832e477 ">Remaining amount due to under commit, which is added in the new
                  bucket.</td>

                <td class="entry cellrowborder" style="vertical-align:top;" headers="d115832e480 ">50</td>

              </tr>

              <tr class="row">
                <td class="entry cellrowborder" style="vertical-align:top;" headers="d115832e474 ">newBucketIVAfterRollover</td>

                <td class="entry cellrowborder" style="vertical-align:top;" headers="d115832e477 ">Initial value of the new bucket after the under commit call.</td>

                <td class="entry cellrowborder" style="vertical-align:top;" headers="d115832e480 ">1050</td>

              </tr>

              <tr class="row">
                <td class="entry cellrowborder" style="vertical-align:top;" headers="d115832e474 ">newBucketCVAfterRollover</td>

                <td class="entry cellrowborder" style="vertical-align:top;" headers="d115832e477 ">Current value of the new bucket after the under commit call.</td>

                <td class="entry cellrowborder" style="vertical-align:top;" headers="d115832e480 ">1050</td>

              </tr>

              <tr class="row">
                <td class="entry cellrowborder" style="vertical-align:top;" headers="d115832e474 ">newBucketUVAfterRollover</td>

                <td class="entry cellrowborder" style="vertical-align:top;" headers="d115832e477 ">Unused value of the new bucket after the under commit call.</td>

                <td class="entry cellrowborder" style="vertical-align:top;" headers="d115832e480 ">1050</td>

              </tr>

            </tbody>
</table>

        <pre class="pre codeblock" id="concept_tmh_3s1_srb__codeblock_oyk_2dd_g5b"><code>
--------------------------------------
CDR length:                       4185
Release ID | Version ID:           7|2
Data record format | TS number:    1|7
Release identifier extension:        0
Name                                     Tag                                                  Data
RecordType                               0                                       OCSChargingRecord
recordId                                 1     20220713112441_ff92d4d4-f5c4-4bcf-ad24-7a7e61e7bd05
generationTimestamp                      1                                     13/07/2022 11:24:41
sessionId                                1                                         GY-SESSION:7467
serviceContextId                         1                                          32260@3gpp.org
requestType                              1                                          UPDATE_REQUEST
sessionSequenceNumber                    1                                                       1
sessionStartTime                         1                                     13/07/2022 11:22:39
callAnswerTime                           1                                     13/07/2022 11:24:41
dayOfWeek                                1                                               Wednesday
originHost                               1                           r_pcef1.diam.originRealm1.com
deviceId                                 1                                              Device7467
deviceName                               1                                              Device7467
deviceState                              1                                                  Active
devicePartitionId                        1                                                       1
deviceSiteId                             1                                                       1
imsChargingIdentifier                    1                                     0.274.34-1431350.81
totalRoundedDuration                     1                                                    1800
mediaName                                1                                                   video
roamingIndicator                         1                                                    HOME
causeForRecClosing                       1                                                       0
callingPartyAddress                      1                                              9811237467
calledPartyAddress                       1                                               111111111
roleOfNode                               1                                        Originating-Role
userLocationInformation                  1                                       21111100000006011
rATType                                  1                                                       6
resultCode                               1                                                    2001
recordOpeningTime                        1                                     13/07/2022 11:22:39
recordClosureTime                        1                                     13/07/2022 11:24:41
duration                                 1                                                     122
recordSequenceNumber                     1                                                       2
meHostName                               1  naperil95vzwcchf-y-nk-ig-000-ig-charging-7cbf4fdd78-j6ccr                                                   
nccVersion                               1                                             SPS_22_7_R1
RecordTimestamp                          1                                     13/07/2022 11:24:41
  RecordProperty                         0                                    listOfSubscriptionID
    RecordProperty                       0                                          subscriptionId
    subscriptionIdType                   1                                                       0
    subscriptionIdData                   1                                              9811237467
    RecordProperty                       0                                          subscriptionId
    subscriptionIdType                   1                                                       1
    subscriptionIdData                   1                                           4041174670001
  RecordProperty                         0                                              listOfMscc
    RecordProperty                       0                                                    mscc
    ratingGroup                          1                                                       1
    serviceIdentifier                    1                                                       4
    chargingType                         1                                         ONLINE_CHARGING
    recordEventType                      1                                                     IMS
    firstDataStart                       1                                     13/07/2022 11:22:39
    grantedUnits                         1                                                    4200
    usageType                            1                                                    TIME
    usedUnitType                         1                                                    TIME
    resultCode                           1                                                    2001
    recordEventResult                    1                                                      00
    subRecordEventType                   1                                                     MOC
    localSequenceNumber                  1                                                       2
    totalTimeConsumed                    1                                                    1800
      RecordProperty                     0                                              deviceInfo
        RecordProperty                   0                                        subscriptionInfo
        subscriptionId                   1                    4c95266c-40b2-4366-a43e-364ac926bcf7
        subscriptionState                1                                                 Removed
        bundleName                       1                                                  B17467
        bundleActivationType             1                                      SUBSCRIPTION_MERGE
        accountID                        1                                             Account7467
        accountName                      1                                             Account7467
        subscriptionStartDateTime        1                                     13/07/2022 11:22:38
        subscriptionEndDateTime          1                                     13/07/2022 11:32:00
          RecordProperty                 0                                     chargingServiceInfo
          chargingServiceName            1                                                 CL17467
          chargingServiceType            1                                                    TIME
          chargingServicePriority        1                                                       1
          chargingServiceCategory        1                                         DefaultCategory
            RecordProperty               0                                              bucketInfo
            bucketName                   1                                                 AL17467
            bucketUnitType               1                                                  Minute
            bucketKindOfUnit             1                                                    TIME
            bucketBalanceBefore          1                                                    7200
            bucketBalanceAfter           1                                                    5400
            carryOverBucket              1                                                   false
            bucketCommitedUnits          1                                                    1800
            bucketReservedUnits          1                                                       0
            secondaryCostCommitted       1                                                    0.00
            tariffID                     1                                   CL17467_ChargingRules
            totalTimeCharged             1                                                    1800
            roundedTimeCharged           1                                                    1800
            deltaTime                    1                                                       0
              RecordProperty             0                                      rolloverBucketInfo
              newSubscriptionId          1                    60e50897-0b0a-4a90-a7f2-07bad79f1aa5
              newBundleName              1                                                  B27467
              mergeId                    1                                                   ONNET
              newBucketName              1                                                 AL27467
              rolloverAmount             1                                                    2400
              newBucketIVAfterRollover   1                                                   23400
              newBucketCVAfterRollover   1                                                   23400
              newBucketUVAfterRollover   1                                                   23400
          RecordProperty                 0                                             counterInfo
          counterName                    1                                                 CC17467
          counterKey                     1                    54e535c2-0a36-425c-9bb1-6b71efc64b15
          counterType                    1                                            SUBSCRIPTION
          counterUnitType                1                                                  Minute
          counterKindOfUnit              1                                                    TIME
          alignGranularity               1                                                    TRUE
          counterValueBefore             1                                                       0
          counterValueAfter              1                                                    1800
          counterPolicySignalState       1                                                     -99
        RecordProperty                   0                                        subscriptionInfo
        subscriptionId                   1                    60e50897-0b0a-4a90-a7f2-07bad79f1aa5
        subscriptionState                1                                                  Active
        bundleName                       1                                                  B27467
        bundleActivationType             1                                      SUBSCRIPTION_MERGE
        accountID                        1                                             Account7467
        accountName                      1                                             Account7467
        subscriptionStartDateTime        1                                     13/07/2022 11:22:40
        subscriptionEndDateTime          1                                     13/07/2022 11:32:00
          RecordProperty                 0                                             counterInfo
          counterName                    1                                                 CC27467
          counterKey                     1                    ca625d52-c6ed-4ac0-b194-083744051f17
          counterType                    1                                            SUBSCRIPTION
          counterUnitType                1                                                  Minute
          counterKindOfUnit              1                                                    TIME
          alignGranularity               1                                                    TRUE
          counterValueBefore             1                                                       0
          counterValueAfter              1                                                       0
          counterPolicySignalState       1                                                     -99
          RecordProperty                 0                                     chargingServiceInfo
          chargingServiceName            1                                                 CL27467
          chargingServiceType            1                                                    TIME
          chargingServicePriority        1                                                       2
          chargingServiceCategory        1                                         DefaultCategory
            RecordProperty               0                                              bucketInfo
            bucketName                   1                                                 AL27467
            bucketUnitType               1                                                  Minute
            bucketKindOfUnit             1                                                    TIME
            bucketBalanceBefore          1                                                   23400
            bucketBalanceAfter           1                                                   23400
            carryOverBucket              1                                                   false
            bucketCommitedUnits          1                                                       0
            bucketReservedUnits          1                                                    4200
            secondaryCostCommitted       1                                                    0.00
            tariffID                     1                                   CL27467_ChargingRules
</code></pre>
      </div>

      <div class="section" id="concept_tmh_3s1_srb__section_tkf_vtf_swb"><h3 class="title sectiontitle">Example 5 </h3>
        
        <p class="p"><strong class="ph b">addSubscription EDR with campaign functionality</strong></p>

        <div class="p">
          <pre class="pre codeblock" id="concept_tmh_3s1_srb__codeblock_kdm_kh3_swb"><code>--------------------------------------
CDR length:                       3821
Release ID | Version ID:           7|2
Data record format | TS number:    1|7
Release identifier extension:        0
Name                         Tag                                                   Data
RecordType                   0                                      PROVISIONING_RECORD
invokedBy                    1                                               webService
invokedMethod                1                                          addSubscription
result                       1                                                  SUCCESS
correlationID                1     X-CorrelationId:df1951f0-c5f0-4925-a518-87a5964629ec
generationTimestamp          1                                      05/03/2023 08:27:54
meHostName                   1  naperil95vzwcchf-y-nk-ig-000-ig-charging-7cbf4fdd78-j6ccr                                                   
nccVersion                   1                                              SPS_23_2_R1
recordId                     1      20230305082754_986b6f2f-330e-4553-ba01-42baa4c35d1a
RecordTimestamp              1                                      05/03/2023 08:27:54
  RecordProperty             0                                         subscriptionInfo
  subscriptionId             1                     cf933fff-310d-4894-b70d-679e4e654753
  renewalPriority            1                                                        0
  subscriptionCreationTime   1                                      05/03/2023 08:27:54
  typeOfSubscription         1                                                   DEVICE
  renewResetStatus           1                                                    false
  renewalMode                1                                                     NONE
  renewalUpdated             1                                                    false
  activationTime             1                                      05/03/2023 08:27:54
  globalEntity               1                                                    false
  entityLifeCycleName        1                             DefaultSubscriptionLifeCycle
  entityLifeCycleState       1                                                   Active
  periodLifeCycleName        1                     DefaultSubscriptionCampaignLifeCycle
  periodLifeCycleState       1                                                   Active
    RecordProperty           0                                               bundleInfo
    bundleName               1                                                bundle100
    bundleFee                1                                                       50
    campaignStartDate        1                                      04/01/2023 03:00:00
    campaignEndDate          1                                      30/04/2023 08:25:00
    subscriptionEndDate      1                                      12/04/2023 08:25:00
    renewalEndDate           1                                      14/03/2023 22:00:00
    dayOfWeek                1                                                   SUNDAY
    taxIncluded              1                                                    false
    disableTTC               1                                                    false
    randomizeVT              1                                                    false
    processingType           1                                                     NONE
    RecordProperty           0                                              accountInfo
    accountID                1                                                 account1
    accountName              1                                                 account1
    hourOfDay                1                                                        0
    dayOfWeek                1                                                   SUNDAY
    dayOfMonth               1                                                        2
    timeZoneId               1                                                   Israel
    accountCreationTime      1                                      05/03/2023 08:12:28
    accountLastUpdateTime    1                                      05/03/2023 08:12:29
    accountOveragelimit      1                                           -9.999999999E9
    accountType              1                                                 PRE_PAID
    canaryMode               1                                                     NONE
    renewStatus              1                                                    false
    taxIncluded              1                                                    false
    globalEntity             1                                                    false
    entityLifeCycleName      1                                  DefaultAccountLifeCycle
    entityLifeCycleState     1                                                   Active
    periodLifeCycleName      1                               DefaultAccountBillingCycle
    periodLifeCycleState     1                                                    Start
      RecordProperty         0                                       accountBalanceInfo
      balance                1                                                    -50.0
      availableBalance       1                                                    -50.0
      prevBalance            1                                                      0.0
      prevAvailableBalance   1                                                      0.0
      accountBalanceBefore   1                                                      0.0
      accountBalanceAfter    1                                                    -50.0
      globalEntity           1                                                    false
    RecordProperty           0                              chargingServiceInstanceInfo
    chargingServiceName      1                                                      ch1
    creationTime             1                                      05/03/2023 08:27:54
      RecordProperty         0                                               bucketInfo
      bucketInstanceId       1                     14ad4ef3-b19e-44c2-adb6-86dbfa0012ee
      bucketName             1                                                      al1
    RecordProperty           0                                               deviceInfo
    deviceId                 1                                                  device1
    deviceName               1                                                  device1
    deviceType               1                                                   NORMAL
    syOCSEnabled             1                                                    false
    allowOverage             1                                                    false
    pwdEncrypted             1                                                    false
    canaryMode               1                                                     NONE
    offLineTimeStamp         1                                                        0
  RecordProperty             0                                            lifeCycleInfo
  entityLifeCycleState       1                                                   Active
  bundleName                 1                                                bundle100
  bundleActivationType       1                                                   NORMAL
  subscriptionInputDate      1                                      05/03/2023 08:27:54
  subscriptionId             1                     cf933fff-310d-4894-b70d-679e4e654753
  fee                        1                                                       50
  activationTime             1                                      05/03/2023 08:27:54
  result                     1                                                  Success
    RecordProperty           0                                        adjustBalanceInfo
    accountID                1                                                 account1
    accountName              1                                                 account1
    amount                   1                                                   -50.00
    accountType              1                                                 PRE_PAID
    accountOverageLimit      1                                            9999999999.00
    accountBalanceBefore     1                                                     0.00
    accountBalanceAfter      1                                                   -50.00
    result                   1                                                  SUCCESS
    adjustMode               1                                                     DECR
    RecordProperty           0                                               bucketInfo
    bucketName               1                                                      al1
    bucketUnitType           1                                                    MByte
    bucketKindOfUnit         1                                                   VOLUME
    bucketBalanceBefore      1                                                 10485760
    bucketBalanceAfter       1                                                 10485760
    carryOverBucket          1                                                    false
  RecordProperty             0                        subscriptionResetPeriodActionInfo
  invokedBy                  1                                        ResetPeriodAction
  triggeredEntityType        1                                             Subscription
  triggeredEntityId          1                     cf933fff-310d-4894-b70d-679e4e654753
  transitionName             1                                             OnStartEvent
  transitionStartState       1                                                PreActive
  entityLifeCycleName        1                             DefaultSubscriptionLifeCycle
  triggeredBy                1                                                    EVENT
  triggeredAtTime            1                                      05/03/2023 08:27:54
  periodicLifeCycleName      1                     DefaultSubscriptionCampaignLifeCycle
  prevBillCycleStartTime     1                                      05/03/2023 08:27:54
  entityLifeCycleState       1                                                   Active
  bundleName                 1                                                bundle100
  bundleActivationType       1                                                   NORMAL
  billingCycleSource         1                                                  ACCOUNT
  activationTime             1                                      05/03/2023 08:27:54
  hourOfDay                  1                                                        0
  dayOfMonth                 1                                                        2
  dayOfWeek                  1                                                   SUNDAY
  startTime                  1                                      05/03/2023 08:27:54
  endTime                    1                                      01/04/2023 21:00:00
</code></pre>
        </div>

      </div>

      <div class="section" id="concept_tmh_3s1_srb__section_kfp_zrl_tvb"><h3 class="title sectiontitle">Example 6</h3>
        
        <p class="p"><strong class="ph b">addSubscription EDR with AdditionalBalanceInfo</strong></p>

        <pre class="pre codeblock" id="concept_tmh_3s1_srb__codeblock_u3d_csl_tvb"><code>--------------------------------------
CDR length:                       2772
Release ID | Version ID:           7|2
Data record format | TS number:    1|7
Release identifier extension:        0
Name                         Tag                                                  Data
RecordType                   0                                     PROVISIONING_RECORD
invokedBy                    1                                              webService
invokedMethod                1                                         addSubscription
result                       1                                                 SUCCESS
generationTimestamp          1                                     30/11/2022 18:07:17
meHostName                   1  naperil95vzwcchf-y-nk-ig-000-ig-charging-7cbf4fdd78-j6ccr                                            
nccVersion                   1                                             SPS_23_0_R1
recordId                     1     20221130123717_9b050ab6-8506-4bd4-a367-257a3d22897f
RecordTimestamp              1                                     30/11/2022 18:07:17
  RecordProperty             0                                        subscriptionInfo
  subscriptionId             1                    cf5c3401-a4c6-41aa-a13b-db6e3a50b772
  renewalPriority            1                                                       0
  subscriptionCreationTime   1                                     30/11/2022 18:07:17
  typeOfSubscription         1                                                  DEVICE
  renewResetStatus           1                                                   false
  remainingRenewals          1                                                      10
  renewalMode                1                                                    NONE
  renewalUpdated             1                                                   false
  activationTime             1                                     30/11/2022 18:07:17
  maxRenewals                1                                                      10
  globalEntity               1                                                   false
  entityLifeCycleName        1                            DefaultSubscriptionLifeCycle
  entityLifeCycleState       1                                                  Active
    RecordProperty           0                                              bundleInfo
    bundleName               1                                         Bundle2fee_3692
    bundleFee                1                                                      15
    dayOfWeek                1                                                  SUNDAY
    disableTTC               1                                                   false
    randomizeVT              1                                                   false
    processingType           1                                                    NONE
    RecordProperty           0                                   additionalBalanceInfo
    chargingServiceName      1                                                 SB13692
    usageType                1                                       SECONDARY_BALANCE
    usedAs                   1                                                     FEE
      RecordProperty         0                                              bucketInfo
      bucketName             1                                               CBkt13692
      bucketInstanceId       1                    3960eb63-4ed0-437f-a8ee-b430d63d1fab
      bucketBalanceBefore    1                                                    10.0
      bucketBalanceAfter     1                                                     0.0
    RecordProperty           0                                             accountInfo
    accountID                1                                             Account3701
    accountName              1                                             Account3701
    hourOfDay                1                                                       9
    dayOfWeek                1                                                  FRIDAY
    dayOfMonth               1                                                       1
    timeZoneId               1                                           Asia/Calcutta
    accountCreationTime      1                                     30/11/2022 17:58:29
    accountLastUpdateTime    1                                     30/11/2022 17:58:29
    accountOveragelimit      1                                                    -0.0
    accountType              1                                                PRE_PAID
    canaryMode               1                                                    NONE
    renewStatus              1                                                   false
    globalEntity             1                                                   false
    entityLifeCycleName      1                                 DefaultAccountLifeCycle
    entityLifeCycleState     1                                                  Active
    periodLifeCycleName      1                              DefaultAccountBillingCycle
    periodLifeCycleState     1                                                   Start
      RecordProperty         0                                      accountBalanceInfo
      balance                1                                                    95.0
      availableBalance       1                                                    95.0
      prevBalance            1                                                     0.0
      prevAvailableBalance   1                                                     0.0
      accountBalanceBefore   1                                                   100.0
      accountBalanceAfter    1                                                    95.0
      globalEntity           1                                                   false
    RecordProperty           0                             chargingServiceInstanceInfo
    chargingServiceName      1                                           ChLogicMB3692
    creationTime             1                                     30/11/2022 18:07:17
    RecordProperty           0                                              deviceInfo
    deviceId                 1                                              Device3701
    deviceName               1                                              Device3701
    deviceType               1                                                  NORMAL
    syOCSEnabled             1                                                   false
    allowOverage             1                                                   false
    pwdEncrypted             1                                                   false
    canaryMode               1                                                    NONE
    offLineTimeStamp         1                                                       0
  RecordProperty             0                                           lifeCycleInfo
  entityLifeCycleState       1                                                  Active
  bundleName                 1                                         Bundle2fee_3692
  bundleActivationType       1                                                  NORMAL
  subscriptionInputDate      1                                     30/11/2022 18:07:17
  subscriptionId             1                    cf5c3401-a4c6-41aa-a13b-db6e3a50b772
  fee                        1                                                      15
  activationTime             1                                     30/11/2022 18:07:17
  result                     1                                                 Success
    RecordProperty           0                                       adjustBalanceInfo
    accountID                1                                             Account3701
    accountName              1                                             Account3701
    amount                   1                                                   -5.00
    accountType              1                                                PRE_PAID
    accountOverageLimit      1                                                    0.00
    accountBalanceBefore     1                                                  100.00
    accountBalanceAfter      1                                                   95.00
    result                   1                                                 SUCCESS
    adjustMode               1                                                    DECR</code></pre>
      </div>

      <div class="section" id="concept_tmh_3s1_srb__section_i4g_lwl_swb"><h3 class="title sectiontitle">Example 7</h3>
        
        <p class="p"><strong class="ph b">addSubscription when tax is included to the fee</strong></p>

        <div class="p">
          <pre class="pre codeblock" id="concept_tmh_3s1_srb__codeblock_eyx_rtq_swb"><code>--------------------------------------
CDR length:                       2667
Release ID | Version ID:           7|2
Data record format | TS number:    1|7
Release identifier extension:        0
Name                         Tag                                                   Data
RecordType                   0                                      PROVISIONING_RECORD
invokedBy                    1                                               webService
invokedMethod                1                                          addSubscription
result                       1                                                  SUCCESS
correlationID                1     X-CorrelationId:0aed5f3c-8880-465a-81b8-0b549b073f1f
generationTimestamp          1                                      01/03/2023 12:37:37
meHostName                   1  naperil95vzwcchf-y-nk-ig-000-ig-charging-7cbf4fdd78-j6ccr                                                
nccVersion                   1                                              SPS_23_2_R1
recordId                     1      20230301070737_8d2341e9-7181-4d36-8e1d-134a5a7ad022
RecordTimestamp              1                                      01/03/2023 12:37:37
  RecordProperty             0                                         subscriptionInfo
  subscriptionId             1                     a2166c57-1982-4079-b324-1771d2e2817c
  renewalPriority            1                                                        0
  subscriptionCreationTime   1                                      01/03/2023 12:37:37
  typeOfSubscription         1                                                   DEVICE
  renewResetStatus           1                                                    false
  renewalMode                1                                                     NONE
  renewalUpdated             1                                                    false
  activationTime             1                                      01/03/2023 12:37:37
  globalEntity               1                                                    false
  entityLifeCycleName        1                             DefaultSubscriptionLifeCycle
  entityLifeCycleState       1                                                   Active
    RecordProperty           0                                               bundleInfo
    bundleName               1                                              Bundle_Time
    bundleFee                1                                                       25
    dayOfWeek                1                                                   SUNDAY
    taxIncluded              1                                                     true
    disableTTC               1                                                    false
    randomizeVT              1                                                    false
    processingType           1                                                     NONE
    RecordProperty           0                                              accountInfo
    accountID                1                                                     A122
    accountName              1                                                     A122
    hourOfDay                1                                                        0
    dayOfWeek                1                                                   SUNDAY
    dayOfMonth               1                                                        1
    timeZoneId               1                                             Asia/Kolkata
    accountCreationTime      1                                      01/03/2023 12:34:40
    accountLastUpdateTime    1                                      01/03/2023 12:34:40
    accountOveragelimit      1                                           -9.999999999E9
    accountType              1                                                 PRE_PAID
    canaryMode               1                                                     NONE
    renewStatus              1                                                    false
    taxIncluded              1                                                    false
    globalEntity             1                                                    false
    entityLifeCycleName      1                                  DefaultAccountLifeCycle
    entityLifeCycleState     1                                                   Active
    periodLifeCycleName      1                               DefaultAccountBillingCycle
    periodLifeCycleState     1                                                    Start
      RecordProperty         0                                       accountBalanceInfo
      balance                1                                                     95.0
      availableBalance       1                                                     95.0
      prevBalance            1                                                      0.0
      prevAvailableBalance   1                                                      0.0
      accountBalanceBefore   1                                                    120.0
      accountBalanceAfter    1                                                     95.0
      globalEntity           1                                                    false
    RecordProperty           0                              chargingServiceInstanceInfo
    chargingServiceName      1                                                  CL_Time
    creationTime             1                                      01/03/2023 12:37:37
    RecordProperty           0                                               deviceInfo
    deviceId                 1                                                      D11
    deviceName               1                                                      D11
    deviceType               1                                                   NORMAL
    syOCSEnabled             1                                                    false
    allowOverage             1                                                    false
    pwdEncrypted             1                                                    false
    canaryMode               1                                                     NONE
    offLineTimeStamp         1                                                        0
  RecordProperty             0                                            lifeCycleInfo
  entityLifeCycleState       1                                                   Active
  bundleName                 1                                              Bundle_Time
  bundleActivationType       1                                                   NORMAL
  subscriptionInputDate      1                                      01/03/2023 12:37:37
  subscriptionId             1                     a2166c57-1982-4079-b324-1771d2e2817c
  fee                        1                                                25.000000
  taxationID                 1                                                  Tax_dec
  taxRateApplied             1                                                10.250000
  totalTaxAmount             1                                                 2.324264
  feeWithoutTax              1                                                22.675736
  activationTime             1                                      01/03/2023 12:37:37
  result                     1                                                  Success
    RecordProperty           0                                        adjustBalanceInfo
    accountID                1                                                     A122
    accountName              1                                                     A122
    amount                   1                                               -25.000000
    accountType              1                                                 PRE_PAID
    accountOverageLimit      1                                        9999999999.000000
    accountBalanceBefore     1                                               120.000000
    accountBalanceAfter      1                                                95.000000
    result                   1                                                  SUCCESS
    adjustMode               1                                                     DECR

</code></pre>
        </div>

      </div>

    </div>
</div>
<div class="footer"><hr /><p>CDR/EDR Reference • P556766-DN1000055014-R23.8 • 1 • <a href="../home.html">Cover</a> • ©2023 Nokia. Nokia Confidential Information • Use subject to agreed restrictions on disclosure and use.</p></div></body>
</html>