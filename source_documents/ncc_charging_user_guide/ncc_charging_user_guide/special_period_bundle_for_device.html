<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2023" />
<meta name="DC.rights.owner" content="(C) Copyright 2023" />
<meta name="generator" content="DITA-OT" /><meta name="DC.type" content="concept" />
<meta name="DC.title" content="Special period bundle for device" />
<meta name="prodname" content="Nokia Converged Charging" />
<meta name="version" content="Release 23.8" />
<meta name="DC.format" content="XHTML" />
<meta name="DC.identifier" content="special_period_bundle_for_device" />
<link rel="stylesheet" type="text/css" href="../../web/css/commonltr.css" />
<link rel="stylesheet" type="text/css" href="../../web/css/styles.min.css" />
<link rel="stylesheet" type="text/css" href="../../web/css/common-extended.css" /><title>Special period bundle for device</title>
<script src="../web/js/nswtc.js" language="javascript" type="text/javascript">/*(◎_◎;)*/</script>
<script src="../../web/css/../js/script.min.js" language="javascript" type="text/javascript">/*(◎_◎;)*/</script>
</head>
<body id="special_period_bundle_for_device">
<div class="header"><div id="feedback-link-placeholder" class="feedback-link"></div><hr /></div><h1 class="title topictitle1" id="ariaid-title1">Special period bundle for device</h1>
<div class="body conbody">
        <div class="p">This feature provides the functionality to configure the bundles based on time of the
            day, day of the week, or specific day of the year. Bundles can have the following
            special periods:<ul class="ul" id="special_period_bundle_for_device__ul_jfb_f3y_qvb">
                <li class="li">Birthday: Applicable on a specific day of the year. Birthday information is
                    provisioned using device custom data.</li>

                <li class="li">Weekend: Applicable from Saturday 00:00 to Monday 00:00.</li>

                <li class="li">Happy hour: Applicable on specific days of the week. For example: from time1
                    (Monday) to time2 (Friday).</li>

            </ul>
</div>

        <p class="p">The special period bundle is applicable only during the configured period. At the start
            of the special period, SNR is triggered with policy counter (PC) status. At the end of
            the period, the policy counter is considered to be in exhausted or not applicable state.
            Hence, SNR is triggered and its status is fetched using the exhausted value of the
            resource.</p>

        <div class="p">To trigger SNR at the start and end of the special period, the subscription entity
            lifecycle event <em class="ph i">Repeat Special Period Event</em> and lifecycle action <em class="ph i">Reset Special
                Period Action</em> should be configured. For details on subscription entity type
            lifecycle configuration for special period bundle, see <a class="xref" href="special_bundle_lifecycle_configuration.html">Special period bundle lifecycle configuration</a>.<div class="note" id="special_period_bundle_for_device__note_sqf_qyy_qvb"><div class="notetitle"><img src="../../web/css/../images/note.svg" title="note-icon" class="noteicon" />Note:</div> For
                bundles with special period, the policy counter and its status should be configured
                in the threshold profile (<em class="ph i">Send-SNR</em> action) for the initial value and
                exhausted value. Else, the SNR is not triggered at the start and end of the special
                period.</div>
</div>

        <p class="p">In the call, the start and end time of the bundle with special period is considered as a
            candidate of VT. That is, the final VT is set based on all applicable time points such
            as subscription start time and end time, activation time, and so on. The start and end
            time of the bundle with special period impacts only the VT. </p>

        <p class="p">The bundle’s special period start time and end time are not used in the TTC time.
            Randomization of VT and SNR sending time is configured in rules to spread out the
            traffic in NCC and PCRF.</p>

        <p class="p">When bundle is subscribed to a device, or bundle is renewed, PC status is sent in the
            SNR. That is, if the bundle subscription or renewal happens during the bundle’s special
            period, then the PC status is fetched using PC current resource value. Else, the PC
            status is fetched using the exhausted value of the resource.</p>

        <p class="p">For Sy call, PC status is sent in the SLA. That is, if Sy call occurs during the bundle’s
            special period, then the PC status is retrieved using PC current resource value. Else,
            the PC status is retrieved using the exhausted value of the resource.</p>

        <div class="section" id="special_period_bundle_for_device__section_e5y_hcz_qvb"><h2 class="title sectiontitle">Configuration</h2>
            
            <div class="sectiondiv"><strong class="ph b">Application preference</strong><p class="p">Special period of the bundle can be
                    configured using the application preference <em class="ph i">Service Eligible per Time
                        Period</em>.</p>
<div class="p">The application preference <em class="ph i">Service Eligible per Time
                        Period</em> is used to determine whether bundle is associated with special
                    eligible time period. <div class="note" id="special_period_bundle_for_device__note_lhb_tcz_qvb"><div class="notetitle"><img src="../../web/css/../images/note.svg" title="note-icon" class="noteicon" />Note:</div> For details on configuring ME
                        application preferences, see <em class="ph i">Global Configuration
                Guide</em>.</div>
</div>
</div>
            <div class="sectiondiv"><strong class="ph b">Rules configuration</strong><div class="p">The following attributes are available in
                        <em class="ph i">BUNDLE</em> source context to configure the bundle special period:<ul class="ul" id="special_period_bundle_for_device__ul_hxl_zcz_qvb">
                        <li class="li"><em class="ph i">BUNDLE.Applicable-Period-Type</em></li>

                        <li class="li"><em class="ph i">BUNDLE.Week-Days</em></li>

                        <li class="li"><em class="ph i">BUNDLE.Start-End-Time</em></li>

                        <li class="li"><em class="ph i">BUNDLE.Special-Date</em></li>

                        <li class="li"><em class="ph i">BUNDLE.VT-And-Time-Period-AF-Factor</em></li>

                        <li class="li"><em class="ph i">BUNDLE.Start-Time-Impact-VT</em></li>

                        <li class="li"><em class="ph i">BUNDLE.In-Advance-Mode</em></li>

                    </ul>
<div class="note" id="special_period_bundle_for_device__note_j4v_tt1_svb"><div class="notetitle"><img src="../../web/css/../images/note.svg" title="note-icon" class="noteicon" />Note:</div> For more details on <em class="ph i">BUNDLE</em> source
                        context attributes, see <a class="xref" href="ruleattributes_bundle_source_context.html">BUNDLE source context</a>.</div>
</div>
<div class="p"><em class="ph i">SUBSCRIPTION.Bundle-Rule-Trigger-Type</em> is available
                    in <em class="ph i">SUBSCRIPTION </em> source context. See the following image for
                        <em class="ph i">Bundle-Rule-Trigger-Type</em> attribute configuration:<div class="fig fignone" id="special_period_bundle_for_device__fig_evt_pfz_qvb">
                        <img class="image break" id="special_period_bundle_for_device__image_zdx_qfz_qvb" height="192" src="../images/bundle_trigger_type.PNG" width="576" />
                    </div>
<div class="note" id="special_period_bundle_for_device__note_cc5_d51_svb"><div class="notetitle"><img src="../../web/css/../images/note.svg" title="note-icon" class="noteicon" />Note:</div> For more details on
                            <em class="ph i">Bundle-Rule-Trigger-Type</em>, see <a class="xref" href="ruleattributes_subscription_source_context.html">SUBSCRIPTION source context</a>.</div>
</div>
</div>
            <div class="sectiondiv"><strong class="ph b"><em class="ph i">CALL_COMMON.In-Special-Period</em> attribute
                        confiuration</strong><p class="p"><em class="ph i">In-Special-Period</em> checks whether the current time
                    is in the interval of the special period configured for the subscription.
                    </p>
<p class="p">If special period is not configured for the subscription, then
                        <em class="ph i">In-Special-Period</em> attribute returns true.</p>
<p class="p">For start time of the
                    special period, if <em class="ph i">In-Advance-Mode</em> is set to <var class="keyword varname">true</var>,
                    then the start time is calculated as follows:</p>
<p class="p"><var class="keyword varname">Start time -
                        VT-And-Time-Period-AF-Factor</var>. That is, the valid period is from
                    [start time – <em class="ph i">VT-And-Time-Period-AF-Factor</em>] to end time. Else, the valid
                    time period is [start time, end time].</p>
<p class="p">For example:</p>
<div class="p">If
                        <em class="ph i">Start-End-Time</em> attribute is configured as <em class="ph i">“10:00:00,14:00:00”</em>,
                        <em class="ph i">VT-And-Time-Period-AF-Factor</em> is set to 60 seconds, and
                        <em class="ph i">In-Advance-Mode</em> is set to <var class="keyword varname">true</var>, then the period
                    starts at <var class="keyword varname">09:59:00</var> and ends at
                        <var class="keyword varname">14:00:00</var>.<div class="note" id="special_period_bundle_for_device__note_lhx_2y1_svb"><div class="notetitle"><img src="../../web/css/../images/note.svg" title="note-icon" class="noteicon" />Note:</div> If current time is
                        same as the end time, then the subscription is not
                applicable.</div>
</div>
</div>
            <div class="sectiondiv"><strong class="ph b">Lifecycle configuration for special period bundle</strong><p class="p">For the special
                    period bundle, to trigger SNR at the start and end of the special period, the
                    subscription entity lifecycle event <em class="ph i">Repeat Special Period Event</em> and
                    lifecycle action <em class="ph i">Reset Special Period Action</em> should be configured.
                    </p>
<p class="p">For details on lifecycle configuration for special period bundle, see
                        <a class="xref" href="special_bundle_lifecycle_configuration.html">Special period bundle lifecycle configuration</a>.</p>
</div>
            <div class="sectiondiv"><strong class="ph b">Examples</strong><div class="p"><strong class="ph b">Example 1: Special date (Birthday) bundle
                        configuration</strong><div class="fig fignone" id="special_period_bundle_for_device__fig_vqx_tgz_qvb">
                        <img class="image break" id="special_period_bundle_for_device__image_b35_ygz_qvb" height="96" src="../images/special_day_bundle_config.PNG" width="576" />
                    </div>
</div>
<div class="p"> Special date is the custom data of device. It is defined in the
                    custom data of the device before use. Multiple special dates can be configured
                    as shown in the following image:<div class="fig fignone" id="special_period_bundle_for_device__fig_ocp_ny2_fwb">
                        <img class="image break" id="special_period_bundle_for_device__image_pvw_qy2_fwb" height="192" src="../images/multiple_special_dates.png" width="480" />
                    </div>
</div>
<p class="p">If <em class="ph i">Special-Date</em> attribute is configured, then the attributes
                        <em class="ph i">Week-Days</em>, <em class="ph i">Applicable-Period-Type</em> and <em class="ph i">Start-End-Time</em>
                    are not applicable. Hence, if <em class="ph i">Special-Date</em> attribute is configured, then
                    configuring the attributes <em class="ph i">Week-Days</em>, <em class="ph i">Applicable-Period-Type</em> and
                        <em class="ph i">Start-End-Time</em> is not necessary.</p>
<div class="p"><strong class="ph b">Example 2: Weekend bundle
                        configuration</strong><div class="fig fignone" id="special_period_bundle_for_device__fig_mp2_zgz_qvb">
                        <img class="image break" id="special_period_bundle_for_device__image_ors_zgz_qvb" height="96" src="../images/weekend_bundle_config.PNG" width="576" />
                    </div>
</div>
<p class="p">For weekend bundle configuration, <em class="ph i">Start-End-Time</em> is not
                    configured. It means the whole of Saturday and Sunday are
                        applicable.</p>
<div class="p"><strong class="ph b">Example 3: Happy hour bundle configuration</strong><div class="fig fignone" id="special_period_bundle_for_device__fig_jdy_zgz_qvb">
                        <img class="image break" id="special_period_bundle_for_device__image_y1q_1hz_qvb" height="96" src="../images/happy_hour_bundle_config.PNG" width="576" />
                    </div>
</div>
<div class="note" id="special_period_bundle_for_device__note_wfg_2gz_qvb"><div class="notetitle"><img src="../../web/css/../images/note.svg" title="note-icon" class="noteicon" />Note:</div> For configuring the bundle with special
                    period, <em class="ph i">VT-And-Time-Period-AF-Factor</em> attribute is mandatory.
                        <em class="ph i">Start-Time-Impact-VT</em> and <em class="ph i">In-Advance-Mode</em> attributes are
                    optional and can be configured based on requirement.</div>
</div>
            <div class="sectiondiv"><strong class="ph b">Additional information</strong><ul class="ul" id="special_period_bundle_for_device__ul_swq_ghz_qvb">
                    <li class="li">When multiple special periods are configured, and if the interval between
                        the end time of current period and the start time of next period is smaller
                        than the configured randomization factor, then these two time periods are
                        treated as a single period. <p class="p">For example: Special period is from 00:00:00
                            to 23:55:00 on Monday, Tuesday and Thursday. The randomization factor is
                            15 minutes. The special periods of the bundles are merged from 00:00:00
                            Monday to 23:55:00 Tuesday, and from 00:00:00 Tuesday to 23:55:00
                            Thursday.</p>
</li>

                    <li class="li"><em class="ph i">CALL_COMMON.In-Special-Period</em> attribute in the <em class="ph i">CALL_COMMON</em>
                        source context should be configured to control the subscription applicable
                        only for a pre-defined special period.</li>

                    <li class="li">This feature is applicable only for bundles that are subscribed to a
                        device.</li>

                    <li class="li">For special period bundle, the pending policy counter status is ignored in
                        SLA and SNR.</li>

                    <li class="li">To trigger SNR for a subscription at the start and end of special period, a
                        policy counter (PC) should be configured in the subscription. If policy
                        counter is used, then virtual PC is not supported.</li>

                    <li class="li">For Bundle with special period configured, related entity LC should include
                        the new trigger Event and action to send SNR for entering or leaving the
                        timeframe, otherwise may get unexpected result.<p class="p">For the special period
                            bundle, to trigger SNR at the start and end of the special period, the
                            related entity lifecycle event and lifecycle action should be
                            configured. </p>
</li>

                </ul>
</div>
        </div>

    </div>
<div class="footer"><hr /><p>Charging User Guide • P556766-DN1000054947-R23.8 • 1 • <a href="../home.html">Cover</a> • ©2023 Nokia. Nokia Confidential Information • Use subject to agreed restrictions on disclosure and use.</p></div></body>
</html>