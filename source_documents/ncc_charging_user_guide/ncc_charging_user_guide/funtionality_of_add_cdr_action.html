<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2023" />
<meta name="DC.rights.owner" content="(C) Copyright 2023" />
<meta name="generator" content="DITA-OT" /><meta name="DC.type" content="concept" />
<meta name="DC.title" content="Resource post processing evaluation on RESERVATION" />
<meta name="prodname" content="Nokia Converged Charging" />
<meta name="version" content="Release 23.8" />
<meta name="DC.format" content="XHTML" />
<meta name="DC.identifier" content="funtionality_of_add_cdr_action" />
<link rel="stylesheet" type="text/css" href="../../web/css/commonltr.css" />
<link rel="stylesheet" type="text/css" href="../../web/css/styles.min.css" />
<link rel="stylesheet" type="text/css" href="../../web/css/common-extended.css" /><title>Resource post processing evaluation on RESERVATION</title>
<script src="../web/js/nswtc.js" language="javascript" type="text/javascript">/*(◎_◎;)*/</script>
<script src="../../web/css/../js/script.min.js" language="javascript" type="text/javascript">/*(◎_◎;)*/</script>
</head>
<body id="funtionality_of_add_cdr_action">
<div class="header"><div id="feedback-link-placeholder" class="feedback-link"></div><hr /></div><h1 class="title topictitle1" id="ariaid-title1">Resource post processing evaluation on RESERVATION</h1>
<div class="body conbody">
        <p class="p">Execution of <em class="ph i">RESOURCE_POST_PROCESSING</em> on reservation supports to save custom field
            in session through <strong class="ph b">Add-CustomField-In-Session</strong> and also supports to add custom CDR
            tags through the action attribute <strong class="ph b">Add-CDR</strong>. This works only when
                <em class="ph i">Resource-Trigger-Applicable = RESERVATION</em> is also configured along with these
            actions. If not configured, by default it works for resource <em class="ph i">COMMIT</em>.</p>

        <div class="fig fignone" id="funtionality_of_add_cdr_action__fig_s11_55w_z4b"><span class="figcap"><span class="fig--title-label">Figure: </span>Add custom tag in CDR</span>
            
            <a href="../images/add-cdr.png" class="image"><img class="image break scalefit" id="funtionality_of_add_cdr_action__image_t11_55w_z4b" src="../images/add-cdr.png" height="31" width="411" /></a>
        </div>

        <div class="fig fignone" id="funtionality_of_add_cdr_action__fig_zqm_stq_1pb"><span class="figcap"><span class="fig--title-label">Figure: </span>Add custom field in session</span>
            
            <a href="../images/custom_field_in_session.png" class="image"><img class="image break scalefit" id="funtionality_of_add_cdr_action__image_arm_stq_1pb" src="../images/custom_field_in_session.png" /></a>
        </div>

        <div class="section" id="funtionality_of_add_cdr_action__section_dqj_x3b_jqb"><h2 class="title sectiontitle">Additional information</h2>
            
            <ul class="ul" id="funtionality_of_add_cdr_action__ul_n3l_x5w_z4b">
                <li class="li">Execution of <em class="ph i">RESOURCE_POST_PROCESSING</em> on reservation is done only when
                    complete reservation is performed successfully.</li>

                <li class="li">Execution of <em class="ph i">RESOURCE_POST_PROCESSING</em> during reservation supports only
                    for consumption of resources, that is, bucket, main balance, counter, and
                    no-charge.</li>

                <li class="li">Threshold source contexts in <em class="ph i">RESOURCE_POST_PROCESSING</em> trigger is
                    applicable during <em class="ph i">RESERVATION</em> as follows:<ul class="ul" id="funtionality_of_add_cdr_action__ul_lrz_jhb_jqb">
                        <li class="li"><strong class="ph b">For reservation type threshold:</strong><p class="p">Account: Thresholds on
                                reservation are not applicable for account. So, source context
                                attributes related to threshold in <em class="ph i">RESOURCE_POST_PROCESSING</em>
                                trigger is not applicable during reservation.</p>
<p class="p">Bucket:
                                Reservation type thresholds are applicable in
                                    <em class="ph i">RESOURCE_POST_PROCESSING</em> trigger during reservation. So,
                                source context attributes related to bucket threshold are applicable
                                in <em class="ph i">RESOURCE_POST_PROCESSING</em> on reservation.</p>
</li>

                        <li class="li"><strong class="ph b">For commit type threshold:</strong><p class="p">For commit type thresholds, the two
                                source contexts
                                    <em class="ph i">RESOURCE_POST_PROCESSING.Last-Crossed-Threshold-Of-TPG</em>
                                (TPG) and <em class="ph i">RESOURCE_POST_PROCESSING.Find-TPG-By-Prefix</em> are
                                applicable in reservation, which was earlier applicable for commit
                                only.</p>
</li>

                    </ul>
</li>

                <li class="li">For terminate request, the <em class="ph i">CALL_RESULT.Resource-Trigger-Applicable</em> should
                    not be updated to <em class="ph i">ResourceTriggerApplicable_RESERVATION</em>. <div class="p">This can be
                        configured in rules as show in the following image: <div class="fig fignone" id="funtionality_of_add_cdr_action__fig_fjn_y4b_ntb">
                            <a href="../images/terminate_req_rule_config.png" class="image"><img class="image break scalefit" id="funtionality_of_add_cdr_action__image_kfv_z4b_ntb" height="96" src="../images/terminate_req_rule_config.png" width="384" /></a>
                        </div>
</div>
<p class="p"><em class="ph i">CALL_RESULT.Resource-Trigger-Applicable</em> is set to
                            <em class="ph i">ResourceTriggerApplicable_RESERVATION</em> only for
                        <em class="ph i">RESERVATION</em>. It should not be set to
                            <em class="ph i">ResourceTriggerApplicable_RESERVATION</em> in case of
                        <em class="ph i">COMMIT</em>.</p>
</li>

            </ul>

        </div>

    </div>
<div class="footer"><hr /><p>Charging User Guide • P556766-DN1000054947-R23.8 • 1 • <a href="../home.html">Cover</a> • ©2023 Nokia. Nokia Confidential Information • Use subject to agreed restrictions on disclosure and use.</p></div></body>
</html>