<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2023" />
<meta name="DC.rights.owner" content="(C) Copyright 2023" />
<meta name="generator" content="DITA-OT" /><meta name="DC.type" content="concept" />
<meta name="DC.title" content="Lifecycle state examination" />
<meta name="prodname" content="Nokia Converged Charging" />
<meta name="version" content="Release 23.8" />
<meta name="DC.format" content="XHTML" />
<meta name="DC.identifier" content="id9yz-09126-ug01-pczza-sp1-lcstateex" />
<link rel="stylesheet" type="text/css" href="../../web/css/commonltr.css" />
<link rel="stylesheet" type="text/css" href="../../web/css/styles.min.css" />
<link rel="stylesheet" type="text/css" href="../../web/css/common-extended.css" /><title>Lifecycle state examination</title>
<script src="../web/js/nswtc.js" language="javascript" type="text/javascript">/*(◎_◎;)*/</script>
<script src="../../web/css/../js/script.min.js" language="javascript" type="text/javascript">/*(◎_◎;)*/</script>
</head>
<body id="id9yz-09126-ug01-pczza-sp1-lcstateex">
<div class="header"><div id="feedback-link-placeholder" class="feedback-link"></div><hr /></div><h1 class="title topictitle1" id="ariaid-title1">Lifecycle state examination</h1>
<div class="body conbody">
        <p class="p">The lifecycle check is done at the start of a data session to identify the state of the
            device, group, subscription, and account used for charging the session. </p>

<div class="section"><h2 class="title sectiontitle">Barring handled by call control</h2>
<p class="p">There are three types of barring handled by call control:</p>
<ul class="ul">
<li class="li">
<p class="p">Device barring</p>

</li>

<li class="li">
<p class="p">Subscription barring</p>

</li>

<li class="li">
<p class="p">Group barring</p>

</li>

</ul>

<p class="p">
<span class="ph uicontrol">Device barring</span>
</p>

<p class="p">Device barring occurs when a device is in a state with the barring flag set to true. In processing a credit control request (CCR) message, device barring is handled in various scenarios.</p>

<p class="p">If a device is barred in a CCR-I call, call control does not allow the request to be handled and does not forward it to the rating engine. However, in the case of a barred device with an active session, call control forwards the request to the rating engine for further processing. If a device is barred mid-session, the rating engine allows the commit of Used Service Units (USU) but does not allow any new reservation requests (RSU) received as part of the CCR-U call. Instead, the result code <samp class="ph systemoutput">NEW_RES_NOT_ALLOWED_DEVICE_BARRED</samp> is sent or in the case of an over commit, the result code <samp class="ph systemoutput">CALL_OK_LOST_CREDIT_DEVICE_BARRED</samp> is sent, and the session is cleared by the rating engine. In the same manner, a CCR-T with an over commit has the session cleared by the rating engine after the result code <samp class="ph systemoutput">CALL_OK_LOST_CREDIT_DEVICE_BARRED</samp> is sent.</p>

<p class="p">For a CCR-I / CCR-E, the barring flag check occurs when the device is identified. If the device is in the state with the barring flag set to true, call control rejects the request and returns <samp class="ph systemoutput">5003 - DIAMETER_AUTHORIZATION_REJECTED</samp> with the error message ‘The device is in barring state.’</p>

<p class="p">For a CCR-U / CCR-T, the barring flag check occurs in the middle of a Multiple-Services-Credit-Control (MSCC) validation. When a CCR-U is processed and no MSCC or no USU is present and the device is barred, call control rejects the request and returns <samp class="ph systemoutput">5003 - DIAMETER_AUTHORIZATION_REJECTED</samp> with the error message ‘The device is in barring state’. If there is a USU in the MSCC and the device is barred, the request is passed to Rating to commit the outstanding reservation. For a CCR-T, the processing is normal. The rating engine commits any USU and call control returns the result code <samp class="ph systemoutput">CALL_OK</samp>.</p>

<p class="p">
<span class="ph uicontrol">Subscription barring</span>
</p>

<p class="p">Subscription barring occurs when a subscription is in a state with the barring flag set to true. If a subscription linked to a device or a group is in a state with the barring flag set to true, it is not included in further execution. If all subscriptions linked to a device or a group are in the state with the barring flag set to true, the result code <samp class="ph systemoutput">ALL_SUBSCRIPTIONS_BARRED</samp> is sent to call control in a rating engine answer. </p>

<div class="note"><div class="notetitle"><img src="../../web/css/../images/note.svg" title="note-icon" class="noteicon" />Note:</div> The entity and period lifecycles for account and subscription are checked for barred
                state.</div>

<p class="p">For a CCR-U, if all the subscriptions linked to a device are in the state with the barring flag set to true, the units to be reserved are rejected. However, for a normal commit (commit that is already reserved or a partial commit), the rating engine returns the result code <samp class="ph systemoutput">NEW_RES_ALLOWED_ALL_SUBSCRIPTIONS_BARRED</samp> and the session is cleared at the rating engine. For an over commit quantity in the update request, the quantity is lost and the result code <samp class="ph systemoutput">NOT_ENOUGH_LOST_CREDIT_SUB_BARRED</samp> is sent. The session is cleared at the rating engine.</p>

<p class="p">For a CCR-T, if all the subscriptions linked to a device are in a state with the barring flag set to true, the rating engine commits USU for outstanding reserved units and returns the result code <samp class="ph systemoutput">CALL_OK</samp>. The session is then cleared at the rating engine. However, if all the subscriptions linked to a device are in a state with the barring flag set to true and there is an over commit quantity in the terminate request, the quantity is lost and the result code <samp class="ph systemoutput">CALL_OK_LOST_CREDIT_SUB_BARRED</samp>  is sent. The session is cleared at the rating engine.</p>

<p class="p">The following table lists the Diameter error messages sent when device barring or subscription barring occurs. </p>

<table cellpadding="4" cellspacing="0" summary="" class="table" width="100%" frame="border" border="1" rules="all"><caption><span class="tablecap"><span class="table--title-label">Table: </span>Diameter error messages sent when barring occurs</span></caption><colgroup><col /><col /></colgroup><thead class="thead" style="text-align:left;">
                        <tr class="row">
                            <th class="entry cellrowborder" style="vertical-align:top;" id="d376219e144">
                                <p class="p">Error message</p>

                           </th>

                            <th class="entry cellrowborder" style="vertical-align:top;" id="d376219e150">
                                <p class="p">Description</p>

                           </th>

                        </tr>

                    </thead>
<tbody class="tbody">
                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d376219e144 ">NEW_RES_NOT_ALLOWED_DEVICE_BARRED</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d376219e150 ">Commit is complete for previous RSU but new reservation is not
                                allowed as the device is barred.</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d376219e144 ">CALL_OK_LOST_CREDIT_DEVICE_BARRED</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d376219e150 ">Call is OK but over commit credit is lost because of a barred
                                device.</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d376219e144 ">NEW_RES_NOT_ALLOWED_ALL_SUB_BARRED</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d376219e150 ">Commit is complete for previous RSU but new reservation is not
                                allowed as all attached subscriptions are barred.</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d376219e144 ">CALL_OK_LOST_CREDIT_SUB_BARRED</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d376219e150 ">Call is OK but over commit credit is lost because the
                                subscription is barred.</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d376219e144 ">CALL_OK_PARTIAL_RESERVE_SUB_BARRED</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d376219e150 ">Call is OK but reservation is reduced because the subscription
                                is barred.</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d376219e144 ">NOT_ENOUGH_CREDIT_SUB_BARRED</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d376219e150 ">Call is rejected for not enough credit because the subscription
                                is barred.</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d376219e144 ">NOT_ENOUGH_LOST_CREDIT_SUB_BARRED</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d376219e150 ">Call is rejected for not enough credit and over commit credit
                                lost because the subscription is barred.</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d376219e144 ">All_SUBSCRIPTIONS_BARRED</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d376219e150 ">All subscriptions linked to the device are barred in case of
                                InitialRequest or EventRequest with Direct Debit Action.</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d376219e144 ">NO_SUBSCRIPTION_ATTACHED_WITH_DEVICE</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d376219e150 ">No subscription is linked to the device in case of
                                InitialRequest or EventRequest with Direct Debit Action.</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d376219e144 ">DB_SUBSCRIPTION_LIST_NOT_FOUND</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d376219e150 ">No subscriptions are found in database.</td>

                        </tr>

                    </tbody>
</table>

<p class="p">
<span class="ph uicontrol">Group barring</span>
</p>

<p class="p">Group barring occurs when a group is in a state with the barring flag set to true. In such scenario, the barred Group is not included in further execution. </p>

<div class="note"><div class="notetitle"><img src="../../web/css/../images/note.svg" title="note-icon" class="noteicon" />Note:</div> The entity lifecycle for group is checked for barred state.</div>

<p class="p">For a CCR-I or Event Request with Direct Debit, the result code ALL_GROUPS_BARRED is sent to call control in rating engine answer for the following cases:</p>
<ul class="ul">
<li class="li">
<p class="p">If the device has no subscriptions</p>

</li>

<li class="li">
<p class="p">At least one group has subscription(s) and all the groups having subscriptions are barred</p>

</li>

</ul>

<p class="p">The groups with no subscriptions attached are ignored in barring check, that is, this (ALL_GROUPS_BARRED) result code is sent irrespective of whether groups with no subscriptions are active / barred.</p>

<p class="p">In case of group hierarchy, the traversal order of top most group is respected. This (ALL_GROUPS_BARRED) result code is sent when device has no subscriptions, and at least one group has subscriptions, and all the groups occurring first in the traversal order are barred. Active groups with no subscriptions attached are ignored while traversing the groups in traversal order.</p>

<p class="p">For a CCR-U, if the device has no subscriptions, and at least one group has subscription(s), and all the groups having subscriptions are barred, the units to be reserved are rejected. However, for a normal commit (commit that is already reserved or a partial commit), the rating engine returns the result code NEW_RES_NOT_ALLOWED_GROUP_BARRED. For an over commit quantity in the update request, the quantity is lost and the result code NOT_ENOUGH_LOST_CREDIT_GROUP_BARRED is sent. In all such scenarios, the session is cleared at the rating engine. </p>

<p class="p">For a CCR-T, the rating engine commits USU for outstanding reserved units and returns the result code CALL_OK for the following cases:</p>
<ul class="ul">
<li class="li">
<p class="p">If the device has no subscriptions</p>

</li>

<li class="li">
<p class="p">At least one group has subscription(s) and all the groups having subscriptions are barred</p>

</li>

</ul>

<p class="p">For an over commit quantity in the terminate request, the quantity is lost and the result code CALL_OK_LOST_CREDIT_GROUP_BARRED is sent. In all such scenarios, the session is cleared at the rating engine. </p>

<p class="p">
<span class="ph uicontrol">Example 1: Scenarios when ALL_GROUPS_BARRED is sent</span>
</p>

<div class="fig fignone">
                
                <img class="image break" src="../images/img9yz-09126-ug01-pczza-sp1-group_barring_default.png" />
            </div>

<p class="p">In the preceding diagram, ALL_GROUPS_BARRED is sent in CCR-I for the following configuration of Group hierarchy with barred Group:</p>
<ol class="ol">
<li class="li">
<p class="p">Group 2 is barred and it may or may not have subscriptions. Group 1 may or may not be barred and may or may not have subscriptions.</p>

</li>

<li class="li">
<p class="p">Group 3 is barred and it may or may not have subscriptions. Group 1 may or may not be barred and may or may not have subscriptions.</p>

</li>

<li class="li">
<p class="p">Group 5 is barred and it may or may not have subscriptions.</p>

</li>

<li class="li">
<p class="p">At least one of the groups Group 1, Group 2, Group 3, Group 4 and Group 5 must have subscriptions attached.</p>

</li>

</ol>

<p class="p">Following is another set of configuration of Group hierarchy with barred Group for which ALL_GROUPS_BARRED is sent:</p>
<ol class="ol">
<li class="li">
<p class="p">Group 2 is not barred and it does not have any subscriptions. Group 1 is barred and it may or may not have subscriptions.</p>

</li>

<li class="li">
<p class="p">Group 3 is not barred and it does not have any subscriptions. Group 4 is barred and it may or may not have subscriptions.</p>

</li>

<li class="li">
<p class="p">Group 5 is barred and it may or may not have subscriptions.</p>

</li>

<li class="li">
<p class="p">At least one of the groups Group 1, Group 4 and Group 5 must have subscriptions attached.</p>

</li>

</ol>

<p class="p">
<span class="ph uicontrol">Example 2: Group barring scenario</span>
</p>

<p class="p">Consider that a Group (G1) has two devices D1 and D2. The devices do not have any subscriptions but Group has two subscriptions S1 and S2 and each subscribed to 100 GB bundle. Group subscription 1 (G1S1) is barred whereas Group subscription 2 (G1S2) is not barred. </p>

<p class="p">Execute an IEC call with RSU 150 GB.</p>

<p class="p">IEC call fails with result code 4012 (NOT_ENOUGH_CREDIT)</p>

<div class="p">The following table lists the Diameter error messages sent when group barring occurs. <table cellpadding="4" cellspacing="0" summary="" class="table" width="100%" frame="border" border="1" rules="all"><caption><span class="tablecap"><span class="table--title-label">Table: </span>Diameter error messages sent when group barring occurs</span></caption><colgroup><col /><col /></colgroup><thead class="thead" style="text-align:left;">
                            <tr class="row">
                                <th class="entry cellrowborder" style="vertical-align:top;" id="d376219e416">
                                    <p class="p">Error Message</p>

                               </th>

                                <th class="entry cellrowborder" style="vertical-align:top;" id="d376219e422">
                                    <p class="p">Description</p>

                               </th>

                            </tr>

                        </thead>
<tbody class="tbody">
                            <tr class="row">
                                <td class="entry cellrowborder" style="vertical-align:middle;" headers="d376219e416 "> ALL_GROUPS_BARRED</td>

                                <td class="entry cellrowborder" style="vertical-align:middle;" headers="d376219e422 "> Subscriptions are not attached to device and
                                    at least one group has subscriptions. All the groups having
                                    subscriptions are barred in case of Initial Request or Event
                                    Request with Direct Debit Action.</td>

                            </tr>

                            <tr class="row">
                                <td class="entry cellrowborder" style="vertical-align:middle;" headers="d376219e416 "> NEW_RES_NOT_ALLOWED_GROUP_BARRED</td>

                                <td class="entry cellrowborder" style="vertical-align:middle;" headers="d376219e422 "> Commit is complete for previous RSU, but new
                                    reservation is not allowed as no subscriptions are attached to
                                    device. At least one group has subscriptions and all the groups
                                    having subscriptions are barred.</td>

                            </tr>

                            <tr class="row">
                                <td class="entry cellrowborder" style="vertical-align:middle;" headers="d376219e416 "> NOT_ENOUGH_LOST_CREDIT_GROUP_BARRED</td>

                                <td class="entry cellrowborder" style="vertical-align:middle;" headers="d376219e422 "> Call is rejected for not enough credit and
                                    over commit credit lost as no subscriptions are attached to
                                    device. At least one group has subscriptions and all the groups
                                    having subscriptions are barred.</td>

                            </tr>

                            <tr class="row">
                                <td class="entry cellrowborder" style="vertical-align:middle;" headers="d376219e416 "> CALL_OK_LOST_CREDIT_GROUP_BARRED</td>

                                <td class="entry cellrowborder" style="vertical-align:middle;" headers="d376219e422 "> Call is OK but over commit credit is lost as
                                    no subscriptions are attached to device. At least one group has
                                    subscriptions and all the groups having subscriptions are
                                    barred.</td>

                            </tr>

                        </tbody>
</table>
</div>

</div>

<div class="section"><h2 class="title sectiontitle">Barring handled by rating engine</h2>
<p class="p">Rating engine handles the account barring.</p>

<p class="p">If NCC identifies that an account is used for charging the data session, then the lifecycle state
                is checked to identify whether the account is in barred state. If it is in barred
                state, then that account is not used for charging. If there is no further resource
                available for charging, the call is dropped.</p>

<div class="note"><div class="notetitle"><img src="../../web/css/../images/note.svg" title="note-icon" class="noteicon" />Note:</div> The entity and period lifecycles for account and subscription are checked for barred
                state.</div>

<p class="p">If a device has multiple subscriptions associated to multiple accounts, then the lifecycle state is checked for the account selected for charging the data session. </p>

<p class="p">
<span class="ph uicontrol">Example 1:</span> Consider a case where the iPhone device has two subscriptions and the account of one bundle is in barred state. In this case, partial reservation is done from the account that is in the active state. In this example, let us consider that the Acc2 is in barred state, then the charging is done from the <var class="keyword varname">Acc1</var> account.</p>

<p class="p">The following figure shows the iPhone device entity with subscriptions included:</p>

<div class="fig fignone">
                
                <img class="image break" src="../images/img9yz-09126-ug01-pczza-sp1-lifecycle_state_check_default.png" height="135" width="480" />
            </div>

<p class="p">
<span class="ph uicontrol">Example 2:</span> Consider a case where the iPhone device has two subscriptions and the configuration is done in such a way that the charging is done from account first followed by next subscription bucket. This can be done by setting priority in the charging services entity. In this case, during a data session, the lifecycle state of account changes to barred state, then the charging is done from the subscription bucket.</p>

<p class="p">Provision the following entities:</p>

<table cellpadding="4" cellspacing="0" summary="" class="table" width="100%" frame="border" border="1" rules="all"><colgroup><col style="width:34.96503496503497%" /><col style="width:65.03496503496503%" /></colgroup><thead class="thead" style="text-align:left;">
                        <tr class="row">
                            <th class="entry cellrowborder" style="vertical-align:top;" id="d376219e527">
                                <p class="p">Entity</p>

                           </th>

                            <th class="entry cellrowborder" style="vertical-align:top;" id="d376219e533">
                                <p class="p">Task</p>

                           </th>

                        </tr>

                    </thead>
<tbody class="tbody">
                        <tr class="row">
                            <td class="entry cellrowborder" rowspan="2" style="vertical-align:top;" headers="d376219e527 "> Charging services</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d376219e533 ">
                                <p class="p">Create two charging services. CS1 has high priority with no
                                    bucket and CS2 has low priority than CS1 but with a bucket.</p>

                                <p class="p">Name: CS1, priority = 1</p>

                                
                                <img class="image" src="../images/img9yz-09126-ug01-pczza-sp1-lc_cs1_default.png" height="76" width="210" />
                           </td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d376219e533 ">
                                <p class="p">Name: CS2, priority = 10, Bucket69799, Initial value = 1000, Unit
                                    Type name = MByte</p>

                                
                                <img class="image" src="../images/img9yz-09126-ug01-pczza-sp1-lc2_cs2_default.png" height="68" width="206" />
                           </td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d376219e527 ">Bundles</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d376219e533 ">Create two bundles and associate the charging services.</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d376219e527 ">Account</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d376219e533 ">Create an account to associate with the bundles linked to the
                                device.</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d376219e527 ">Device</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d376219e533 ">
                                <p class="p">Create a device and associate the bundles. See the figures after
                                    the table for sample values.</p>

                           </td>

                        </tr>

                    </tbody>
</table>

<div class="fig fignone">
                
                <img class="image break" src="../images/img9yz-09126-ug01-pczza-sp1-lc_accountsubscription_default.png" height="190" width="462" />
            </div>

<div class="fig fignone">
                
                <img class="image break" src="../images/img9yz-09126-ug01-pczza-sp1-lc_devicebundle_default.png" height="143" width="536" />
            </div>

<p class="p">
<span class="ph uicontrol">Result codes </span>
</p>

<p class="p">Different result codes are generated in case where the account is barred. The account barring result code is considered when one or more account is barred during reservation. The following table has the list of result codes for the account barred scenario:</p>

<table cellpadding="4" cellspacing="0" summary="" class="table" width="100%" frame="border" border="1" rules="all"><caption><span class="tablecap"><span class="table--title-label">Table: </span>Result codes - Account barring</span></caption><colgroup><col /><col /><col /><col /><col /><col /></colgroup><thead class="thead" style="text-align:left;">
                        <tr class="row">
                            <th class="entry cellrowborder" style="vertical-align:top;" id="d376219e648">
                                <p class="p">Request Type</p>

                           </th>

                            <th class="entry cellrowborder" colspan="2" style="vertical-align:top;" id="d376219e654">
                                <p class="p">Scenario</p>

                           </th>

                            <th class="entry cellrowborder" style="vertical-align:top;" id="d376219e660">
                                <p class="p">Rating result code</p>

                           </th>

                            <th class="entry cellrowborder" style="vertical-align:top;" id="d376219e666">
                                <p class="p">Diameter result code</p>

                           </th>

                            <th class="entry cellrowborder" style="vertical-align:top;" id="d376219e672">
                                <p class="p">RecordEventResultTag</p>

                           </th>

                        </tr>

                    </thead>
<tbody class="tbody">
                        <tr class="row">
                            <td class="entry cellrowborder" rowspan="2" style="vertical-align:top;" headers="d376219e648 "> EVENT</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d376219e654 ">ACCOUNT BARRED</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d376219e654 ">FULL RESERVATION</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d376219e660 ">CALL_OK</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d376219e666 ">RESULT_DIAMETER_SUCCESS (2001)</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d376219e672 ">00</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d376219e654 ">ACCOUNT BARRED</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d376219e654 ">NO RESERVATION</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d376219e660 ">NOT_ENOUGH_CREDIT_ACCOUNT_BARRED</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d376219e666 ">RESULT_DIAMETER_END_USER_SERVICE_DENIED (4010)</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d376219e672 ">25</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" rowspan="2" style="vertical-align:top;" headers="d376219e648 "> INITIAL</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d376219e654 ">ACCOUNT BARRED</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d376219e654 ">PARTIAL RESERVATION</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d376219e660 ">CALL_OK_PARTIAL_RESERVE_ACCOUNT_BARRED</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d376219e666 ">RESULT_DIAMETER_LIMITED_SUCCESS (2002)</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d376219e672 ">09</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d376219e654 ">ACCOUNT BARRED</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d376219e654 ">NO RESERVATION</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d376219e660 ">NOT_ENOUGH_CREDIT_ACCOUNT_BARRED</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d376219e666 ">RESULT_DIAMETER_END_USER_SERVICE_DENIED (4010)</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d376219e672 ">25</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" rowspan="10" style="vertical-align:top;" headers="d376219e648 "> UPDATE</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d376219e654 ">ACCOUNT BARRED</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d376219e654 ">FULL COMMIT/NO RESERVATION</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d376219e660 ">NEW_RES_NOT_ALLOWED_ACCOUNT_BARRED</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d376219e666 ">RESULT_DIAMETER_END_USER_SERVICE_DENIED (4010)</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d376219e672 ">108</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d376219e654 ">ACCOUNT BARRED</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d376219e654 ">FULL COMMIT/PARTIAL RESERVATION</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d376219e660 ">CALL_OK_PARTIAL_RESERVE_ACCOUNT_BARRED</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d376219e666 ">RESULT_DIAMETER_LIMITED_SUCCESS (2002)</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d376219e672 ">09</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d376219e654 ">ACCOUNT BARRED</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d376219e654 ">FULL COMMIT/FULL RESERVATION</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d376219e660 ">CALL_OK</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d376219e666 ">RESULT_DIAMETER_SUCCESS (2001)</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d376219e672 ">00</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d376219e654 ">ACCOUNT BARRED</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d376219e654 ">UNDER COMMIT/NO RESERVATION</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d376219e660 ">NEW_RES_NOT_ALLOWED_ACCOUNT_BARRED</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d376219e666 ">RESULT_DIAMETER_END_USER_SERVICE_DENIED (4010)</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d376219e672 ">108</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d376219e654 ">ACCOUNT BARRED</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d376219e654 ">UNDER COMMIT/FULL RESERVATION</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d376219e660 ">CALL_OK</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d376219e666 ">RESULT_DIAMETER_SUCCESS (2001)</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d376219e672 ">00</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d376219e654 ">ACCOUNT BARRED</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d376219e654 ">UNDER COMMIT/PARTIAL RESERVATION</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d376219e660 ">CALL_OK_PARTIAL_RESERVE_ACCOUNT_BARRED</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d376219e666 ">RESULT_DIAMETER_LIMITED_SUCCESS (2002)</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d376219e672 ">09</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d376219e654 ">ACCOUNT BARRED</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d376219e654 ">OVER COMMIT/NO RESERVATION/CREDIT LOSS</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d376219e660 ">NEW_RES_NOT_ALLOWED_LOST_CREDIT_ACCOUNT_BARRED</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d376219e666 ">RESULT_DIAMETER_END_USER_SERVICE_DENIED (4010)</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d376219e672 ">26</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d376219e654 ">ACCOUNT BARRED</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d376219e654 ">OVER COMMIT/FULL RESERVATION/NO CREDIT LOSS</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d376219e660 ">CALL_OK</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d376219e666 ">RESULT_DIAMETER_SUCCESS (2001)</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d376219e672 ">00</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d376219e654 ">ACCOUNT BARRED</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d376219e654 ">OVER COMMIT/NO RESERVATION/NO CREDIT LOSS</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d376219e660 ">NEW_RES_NOT_ALLOWED_ACCOUNT_BARRED</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d376219e666 ">RESULT_DIAMETER_END_USER_SERVICE_DENIED (4010)</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d376219e672 ">108</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d376219e654 ">ACCOUNT BARRED</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d376219e654 ">OVER COMMIT/PARTIAL RESERVATION/NO CREDIT LOSS</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d376219e660 ">CALL_OK_PARTIAL_RESERVE_ACCOUNT_BARRED</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d376219e666 ">RESULT_DIAMETER_LIMITED_SUCCESS (2002)</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d376219e672 ">09</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" rowspan="4" style="vertical-align:top;" headers="d376219e648 "> TERMINATE</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d376219e654 ">ACCOUNT BARRED</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d376219e654 ">FULL COMMIT</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d376219e660 ">CALL_OK</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d376219e666 ">RESULT_DIAMETER_SUCCESS (2001)</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d376219e672 ">00</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d376219e654 ">ACCOUNT BARRED</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d376219e654 ">UNDER COMMIT</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d376219e660 ">CALL_OK</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d376219e666 ">RESULT_DIAMETER_SUCCESS (2001)</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d376219e672 ">00</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d376219e654 ">ACCOUNT BARRED</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d376219e654 ">OVER COMMIT/ CREDIT LOSS</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d376219e660 ">CALL_OK_LOST_CREDIT_ACCOUNT_BARRED</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d376219e666 ">RESULT_DIAMETER_LIMITED_SUCCESS (2002)</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d376219e672 ">10</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d376219e654 ">ACCOUNT BARRED</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d376219e654 ">OVER COMMIT/NO CREDIT LOSS</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d376219e660 ">CALL_OK</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d376219e666 ">RESULT_DIAMETER_SUCCESS (2001)</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d376219e672 ">00</td>

                        </tr>

                    </tbody>
</table>

</div>

</div>
<div class="footer"><hr /><p>Charging User Guide • P556766-DN1000054947-R23.8 • 1 • <a href="../home.html">Cover</a> • ©2023 Nokia. Nokia Confidential Information • Use subject to agreed restrictions on disclosure and use.</p></div></body>
</html>