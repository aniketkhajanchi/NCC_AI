<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2023" />
<meta name="DC.rights.owner" content="(C) Copyright 2023" />
<meta name="generator" content="DITA-OT" /><meta name="DC.type" content="concept" />
<meta name="DC.title" content="NS EDR tags" />
<meta name="prodname" content="Nokia Converged Charging" />
<meta name="version" content="Release 23.8" />
<meta name="DC.format" content="XHTML" />
<meta name="DC.identifier" content="d1e53273" />
<link rel="stylesheet" type="text/css" href="../../web/css/commonltr.css" />
<link rel="stylesheet" type="text/css" href="../../web/css/styles.min.css" />
<link rel="stylesheet" type="text/css" href="../../web/css/common-extended.css" /><title>NS EDR tags</title>
<script src="../web/js/nswtc.js" language="javascript" type="text/javascript">/*(◎_◎;)*/</script>
<script src="../../web/css/../js/script.min.js" language="javascript" type="text/javascript">/*(◎_◎;)*/</script>
</head>
<body id="d1e53273">
<div class="header"><div id="feedback-link-placeholder" class="feedback-link"></div><hr /></div><h1 class="title topictitle1" id="ariaid-title1">NS EDR tags</h1>
<div class="body conbody">
        <p class="p">The following table provides information about the tags generated in NS EDRs.</p>

        <table cellpadding="4" cellspacing="0" summary="" class="table" frame="border" border="1" rules="all"><caption><span class="tablecap"><span class="table--title-label">Table: </span>NS EDR tags</span></caption><colgroup><col style="width:23.364485981308412%" /><col style="width:46.028037383177576%" /><col style="width:30.607476635514026%" /></colgroup><thead class="thead" style="text-align:left;">
                    <tr class="row">
                        <th class="entry cellrowborder" style="vertical-align:top;" id="d68239e45">
                            <p class="p">Name</p>

                        </th>

                        <th class="entry cellrowborder" style="vertical-align:top;" id="d68239e51">
                            <p class="p">Description</p>

                        </th>

                        <th class="entry cellrowborder" style="vertical-align:top;" id="d68239e57">
                            <p class="p">Example</p>

                        </th>

                    </tr>

                </thead>
<tbody class="tbody">
                    <tr class="row">
                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d68239e45 ">RecordType</td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d68239e51 ">The type of CDR. For NS, its value is set as
                            NotificationEvent.</td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d68239e57 ">NotificationEvent</td>

                    </tr>

                    <tr class="row">
                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d68239e45 ">recordId</td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d68239e51 ">
                            <p class="p">A unique ID for each CDR having format
                                    <var class="keyword varname">&lt;DateTime&gt;_UUID</var> where
                                    <var class="keyword varname">&lt;DateTime&gt;</var> is in
                                    <var class="keyword varname">YYYYMMDDHHMMSS</var> format and UTC designation.
                            </p>

                        </td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d68239e57 ">20220324110447_70df8c5d-16ce-4f71-a108-4f9980082b1a</td>

                    </tr>

                    <tr class="row">
                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d68239e45 ">serviceProvider</td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d68239e51 ">
                            <p class="p">Indicates the service provider (MNO/MVNO) for which the CDR is
                                applicable. This tag is generated only if service provider is
                                enabled.</p>

                        </td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d68239e57 ">MVNO1</td>

                    </tr>

                    <tr class="row">
                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d68239e45 ">messageId</td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d68239e51 ">The notification message ID.</td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d68239e57 ">null-4463009692096616</td>

                    </tr>

                    <tr class="row">
                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d68239e45 ">recipientId</td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d68239e51 ">The recipient address of the primary REST server. <p class="p">It is generated
                                only when the REST notification succeeds via primary instance or NS
                                fails to send the REST notification.</p>
</td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d68239e57 ">na@na.com</td>

                    </tr>

                    <tr class="row">
                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d68239e45 ">secondaryRecipientId</td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d68239e51 ">The recipient address of the secondary REST server if defined. <p class="p">It
                                is generated only when the REST notification succeeds via secondary
                                instance or NS fails to send the REST notification.</p>
</td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d68239e57 ">http://x.x.x.x:9998/spb/generichttpserver/offerlogging</td>

                    </tr>

                    <tr class="row">
                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d68239e45 ">serverInstance</td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d68239e51 ">Indicates whether the REST notification server is primary or
                            secondary. It is generate only if the REST notification is
                            succesful.</td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d68239e57 ">PRIMARY</td>

                    </tr>

                    <tr class="row">
                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d68239e45 ">messageContent</td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d68239e51 ">The content of the notification.</td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d68239e57 ">Subject: Call Cost Notification: Hi, Kindly recharge for Rs.
                            1,234.00</td>

                    </tr>

                    <tr class="row">
                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d68239e45 ">recipientServer</td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d68239e51 ">The name of the REST outbound server configured in NCC.</td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d68239e57 ">Rest</td>

                    </tr>

                    <tr class="row">
                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d68239e45 ">sentTime</td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d68239e51 ">Sending/scheduling time of message (local platform
                            timestamp).</td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d68239e57 ">1531460909943</td>

                    </tr>

                    <tr class="row">
                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d68239e45 ">deliveryTime</td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d68239e51 ">Delivery time of message (local platform timestamp).</td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d68239e57 ">1531460912037</td>

                    </tr>

                    <tr class="row">
                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d68239e45 ">channel</td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d68239e51 ">The notification channel [SMS, EMAIL, REST, SOAP, TCPIP].</td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d68239e57 ">EMAIL</td>

                    </tr>

                    <tr class="row">
                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d68239e45 ">notificationType</td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d68239e51 ">The notification type [Usage, Failures, Account Update, Offers,
                            Threshold].</td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d68239e57 ">USAGE</td>

                    </tr>

                    <tr class="row">
                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d68239e45 ">msgId</td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d68239e51 ">
                            <p class="p">It contains the value of system site name. </p>

                            <p class="p">This tag is generated if the application preference <em class="ph i">Dynamic
                                    Notification Custom Flag</em> is set to
                                <var class="keyword varname">true</var>.</p>

                        </td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d68239e57 ">Alaska</td>

                    </tr>

                    <tr class="row">
                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d68239e45 ">e164</td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d68239e51 ">
                            <p class="p">It contains the value of e164 configured in device.</p>

                            <p class="p">It is a generic tag available for all notification channels.</p>

                            <p class="p">It is NOT generated if 164 is not configured in device.</p>

                        </td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d68239e57 ">1234567890</td>

                    </tr>

                    <tr class="row">
                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d68239e45 ">childDeviceId</td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d68239e51 ">
                            <p class="p">It contains the value of DeviceId.</p>

                            <p class="p">It is applicable only for group notifications, for all notification
                                channels.</p>

                            <p class="p">This tag is generated for notifications meant for member(s) of the
                                group. This tag is NOT generated for notifications meant for Group
                                Admin.</p>

                        </td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d68239e57 ">D11</td>

                    </tr>

                    <tr class="row">
                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d68239e45 ">entityId</td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d68239e51 ">The entity ID, for which the EDR is generated.</td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d68239e57 ">G1</td>

                    </tr>

                    <tr class="row">
                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d68239e45 ">entityType</td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d68239e51 ">The type of entity for which the EDR was generated.</td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d68239e57 ">GROUP</td>

                    </tr>

                    <tr class="row">
                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d68239e45 ">notificationTemplateId</td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d68239e51 ">Identifier of the notification template.</td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d68239e57 ">tmpl1</td>

                    </tr>

                    <tr class="row">
                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d68239e45 ">notificationVariable</td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d68239e51 ">CSV representation of the notification variable map
                            [variable1:value1,variable2:value2,...].</td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d68239e57 ">LastCost:1234,CurrentBalance:10019898</td>

                    </tr>

                    <tr class="row">
                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d68239e45 ">notificationDeliveryResult</td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d68239e51 ">
                            <p class="p">The result of the notification delivery:</p>

                            <ul class="ul" id="d1e53273__ul_iz5_3db_f3b">
                                <li class="li">
                                    <p class="p">FAILURE: The notification delivery failed.</p>

                                </li>

                                <li class="li">
                                    <p class="p">SUCCESS: The notification delivery was successful.</p>

                                </li>

                                <li class="li">
                                    <p class="p">SUPPRESSED NOTIFICATION: The notification was not sent as the
                                            <em class="ph i">notifSuppress</em> parameter was <em class="ph i">true</em>.in the
                                        incoming request.</p>

                                </li>

                                <li class="li">
                                    <p class="p">RETRYING: The notification delivery failed, and NS is
                                        retrying to send it.</p>

                                </li>

                            </ul>

                        </td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d68239e57 ">SUCCESS</td>

                    </tr>

                    <tr class="row">
                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d68239e45 ">RecordTimestamp</td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d68239e51 ">Signifies the date and time of the CDR/EDR generation. This value is
                taken from the CDR module timestamp. By default, it is presented in standard
                DD/MM/YYYY HH:MM:SS format, as shown in the first example.<p class="p">However, the format can
                  be changed to include milliseconds as well, as shown in the second example. This
                  value is in millisecond format with timezoneoffset. Since RecordTimestamp tag is
                  generated in GMT time, timezone offset is +0000. For this, the ETCD key
                    <var class="keyword varname">timestampInMS</var> must be set to
                  <var class="keyword varname">true</var>.</p>
<div class="note caution"><div class="cautiontitle"><img src="../../web/css/../images/caution.svg" title="caution-icon" class="noteicon" />CAUTION:</div> Contact Nokia Support to change
                  any ETCD key.</div>
</td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d68239e57 ">
                <p class="p">10/12/2020 17:45:15</p>

                <p class="p">10/12/2020 17:45:15.617+0000</p>

              </td>

                    </tr>

                    <tr class="row">
                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d68239e45 ">meHostName</td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d68239e51 ">Host name of the pod that processed the request and generated the
                            CDR/EDR. This tag is present in all CDRs/EDRs.</td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d68239e57 ">naperil95vzwcchf-y-nk-ig-000-ig-charging-7cbf4fdd78-j6ccr</td>

                    </tr>

                    <tr class="row">
                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d68239e45 ">nccVersion</td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d68239e51 ">The version of NCC. This tag is present in all CDRs/EDRs.</td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d68239e57 ">SPS_21_0_R1</td>

                    </tr>

                    <tr class="row">
                        <td class="entry cellrowborder" colspan="3" style="vertical-align:top;" headers="d68239e45 d68239e51 d68239e57 "> In addition to the above, the
                            following parameters are available in the EDRs for some
                            operator-specific scenarios.</td>

                    </tr>

                    <tr class="row">
                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d68239e45 ">ackReceiveTime</td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d68239e51 ">Time when the acknowledgment is received (Local Platform Timestamp).
                            If no acknowledgement is received, then this parameter is null.</td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d68239e57 ">-</td>

                    </tr>

                    <tr class="row">
                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d68239e45 ">notificationEvent</td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d68239e51 ">The notification event type. This is the EVT parameter, for example,
                            CCRU / CCRT / NOTRST / ALTNEA / ALTNEA1 / ALTNEA2…/ ALTLMT /
                            OVGLMT.</td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d68239e57 ">CCRT</td>

                    </tr>

                    <tr class="row">
                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d68239e45 ">retryCount</td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d68239e51 ">Number of times the message has been retried.</td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d68239e57 ">2</td>

                    </tr>

                    <tr class="row">
                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d68239e45 ">retryCountSecondary</td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d68239e51 ">Represents the number of times the message has been retried over
                            secondary REST server(if configured)</td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d68239e57 "> </td>

                    </tr>

                    <tr class="row">
                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d68239e45 ">httpErrorCode</td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d68239e51 ">If End result of notification delivery is failure then corresponding
                            HTTP Error code needs to be dumped into this EDR as per final HTTP Error
                            code returned.</td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d68239e57 "> </td>

                    </tr>

                    <tr class="row">
                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d68239e45 ">reason</td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d68239e51 ">
                            <div class="p">
                                <table cellpadding="4" cellspacing="0" summary="" id="d1e53273__table_lhg_qzq_w5b" class="table" frame="border" border="1" rules="all"><caption><span class="tablecap"><span class="table--title-label">Table: </span> Reason code for Notification Service EDRs</span></caption><colgroup><col style="width:22.98850574712644%" /><col style="width:77.01149425287358%" /></colgroup><thead class="thead" style="text-align:left;">
                                            <tr class="row">
                                                <th class="entry cellrowborder" style="vertical-align:top;" id="d68239e549">Value</th>

                                                <th class="entry cellrowborder" style="vertical-align:top;" id="d68239e552">Descriptions</th>

                                            </tr>

                                        </thead>
<tbody class="tbody">
                                            <tr class="row">
                                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d68239e549 ">0</td>

                                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d68239e552 ">Failed due to timeout</td>

                                            </tr>

                                            <tr class="row">
                                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d68239e549 ">1</td>

                                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d68239e552 ">Communication cannot be established</td>

                                            </tr>

                                            <tr class="row">
                                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d68239e549 ">2</td>

                                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d68239e552 ">SYN Timeout</td>

                                            </tr>

                                            <tr class="row">
                                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d68239e549 ">3</td>

                                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d68239e552 ">Unsuccessful response</td>

                                            </tr>

                                            <tr class="row">
                                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d68239e549 ">4</td>

                                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d68239e552 ">Bad Request</td>

                                            </tr>

                                            <tr class="row">
                                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d68239e549 ">5</td>

                                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d68239e552 ">Unspecified</td>

                                            </tr>

                                        </tbody>
</table>

                            </div>

                        </td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d68239e57 "> </td>

                    </tr>

                </tbody>
</table>

    </div>
<div class="footer"><hr /><p>CDR/EDR Reference • P556766-DN1000055014-R23.8 • 1 • <a href="../home.html">Cover</a> • ©2023 Nokia. Nokia Confidential Information • Use subject to agreed restrictions on disclosure and use.</p></div></body>
</html>