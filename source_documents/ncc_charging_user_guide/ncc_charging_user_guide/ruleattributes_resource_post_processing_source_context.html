<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2023" />
<meta name="DC.rights.owner" content="(C) Copyright 2023" />
<meta name="generator" content="DITA-OT" /><meta name="DC.type" content="concept" />
<meta name="DC.title" content="RESOURCE_POST_PROCESSING source context" />
<meta name="prodname" content="Nokia Converged Charging" />
<meta name="version" content="Release 23.8" />
<meta name="DC.format" content="XHTML" />
<meta name="DC.identifier" content="ruleattributes_resource_post_processing_source_context" />
<link rel="stylesheet" type="text/css" href="../../web/css/commonltr.css" />
<link rel="stylesheet" type="text/css" href="../../web/css/styles.min.css" />
<link rel="stylesheet" type="text/css" href="../../web/css/common-extended.css" /><title>RESOURCE_POST_PROCESSING source context</title>
<script src="../web/js/nswtc.js" language="javascript" type="text/javascript">/*(◎_◎;)*/</script>
<script src="../../web/css/../js/script.min.js" language="javascript" type="text/javascript">/*(◎_◎;)*/</script>
</head>
<body id="ruleattributes_resource_post_processing_source_context">
<div class="header"><div id="feedback-link-placeholder" class="feedback-link"></div><hr /></div><h1 class="title topictitle1" id="ariaid-title1">RESOURCE_POST_PROCESSING source context</h1>
<div class="body conbody">
            
            <table cellpadding="4" cellspacing="0" summary="" id="ruleattributes_resource_post_processing_source_context__table_g54_m4n_5mb" class="table" width="100%" frame="border" border="1" rules="all"><caption><span class="tablecap"><span class="table--title-label">Table: </span>RESOURCE_POST_PROCESSING source context</span></caption><colgroup><col style="width:30.76923076923077%" /><col style="width:38.46153846153847%" /><col style="width:30.76923076923077%" /></colgroup><thead class="thead" style="text-align:left;">
                    <tr class="row">
                        <th class="entry cellrowborder" style="vertical-align:top;" id="d60503e42">Attribute name</th>

                        <th class="entry cellrowborder" style="vertical-align:top;" id="d60503e45">Trigger</th>

                        <th class="entry cellrowborder" style="vertical-align:top;" id="d60503e48">Description</th>

                    </tr>

                </thead>
<tbody class="tbody">
                    <tr class="row">
                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e42 ">Balance-Committed-Amount</td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e45 ">RESOURCE_POST_PROCESSING</td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e48 ">This attribute provides the balance committed amount.</td>

                    </tr>

                    <tr class="row">
                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e42 ">Billing-Account-Id</td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e45 ">RESOURCE_POST_PROCESSING</td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e48 ">This attribute provides the Billing Account id defined in the
                            CustomData Dictionary of Device.</td>

                    </tr>

                    <tr class="row">
                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e42 ">Bucket-Committed-Units</td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e45 ">RESOURCE_POST_PROCESSING</td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e48 ">This attribute provides the committed units of a bucket.</td>

                    </tr>

                    <tr class="row">
                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e42 ">Bucket-Current-Step</td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e45 ">RESOURCE_POST_PROCESSING</td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e48 ">This attribute provides the current step of the bucket.</td>

                    </tr>

                    <tr class="row">
                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e42 ">Bucket-Step-Size</td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e45 ">RESOURCE_POST_PROCESSING</td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e48 ">This attribute indicates the bucket step size of current
                            step.</td>

                    </tr>

                    <tr class="row">
                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e42 ">Bucket-StepUp</td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e45 ">RESOURCE_POST_PROCESSING</td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e48 ">This attribute provides the value of a bucket step up flag.</td>

                    </tr>

                    <tr class="row">
                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e42 ">Bundle-Name</td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e45 ">RESOURCE_POST_PROCESSING</td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e48 ">This attribute provides the name of the bundle, subscribed by the
                            device.</td>

                    </tr>

                    <tr class="row">
                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e42 ">Charging-Service</td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e45 ">RESOURCE_POST_PROCESSING</td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e48 ">This attribute provides the charging service identifier.</td>

                    </tr>

                    <tr class="row">
                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e42 ">Class-Of-Service</td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e45 ">RESOURCE_POST_PROCESSING</td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e48 ">This attribute provides the Class of Service defined in the
                            CustomData Dictionary of Device.</td>

                    </tr>

                    <tr class="row">
                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e42 ">Counter-Mode</td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e45 ">RESOURCE_POST_PROCESSING</td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e48 ">This attribute provides the charging service identifier.</td>

                    </tr>

                    <tr class="row">
                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e42 ">Counter-Overage-Count</td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e45 ">RESOURCE_POST_PROCESSING</td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e48 ">This attribute provides the overage count of the counter.</td>

                    </tr>

                    <tr class="row">
                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e42 ">Counter-Overage-Limit</td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e45 ">RESOURCE_POST_PROCESSING</td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e48 ">This attribute provides the overage limit of the counter.</td>

                    </tr>

                    <tr class="row">
                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e42 ">Counter-Usage-Limit</td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e45 ">RESOURCE_POST_PROCESSING</td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e48 ">This attribute provides the usage limit of the counter.</td>

                    </tr>

                    <tr class="row">
                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e42 ">Current-Resource-Type</td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e45 ">RESOURCE_POST_PROCESSING</td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e48 ">This attribute provides the type of a current resource.</td>

                    </tr>

                    <tr class="row">
                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e42 ">Current-Value</td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e45 ">RESOURCE_POST_PROCESSING</td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e48 ">This attribute provides the current value of resource without
                            reservation.</td>

                    </tr>

                    <tr class="row">
                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e42 ">Discount-Id</td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e45 ">RESOURCE_POST_PROCESSING</td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e48 ">This attribute provides the discount id.</td>

                    </tr>

                    <tr class="row">
                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e42 ">Find-TPG-By-Prefix*</td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e45 ">RESOURCE_POST_PROCESSING</td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e48 ">This attribute finds the TPG Name by Prefix.</td>

                    </tr>

                    <tr class="row">
                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e42 ">Is-Threshold-Crossed</td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e45 ">RESOURCE_POST_PROCESSING</td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e48 ">This attribute checks whether the threshold is crossed or
                            not.</td>

                    </tr>

                    <tr class="row">
                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e42 ">Last-Billing-Cycle-Timestamp</td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e45 ">RESOURCE_POST_PROCESSING</td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e48 ">This attribute provides the timestamp of the last billing cycle
                            reset.</td>

                    </tr>

                    <tr class="row">
                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e42 ">Last-Crossed-Threshold-Name</td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e45 ">RESOURCE_POST_PROCESSING</td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e48 ">This attribute provides the name of a last crossed threshold.</td>

                    </tr>

                    <tr class="row">
                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e42 ">Last-Crossed-Threshold-Profile</td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e45 ">RESOURCE_POST_PROCESSING</td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e48 ">This attribute provides the profile of a last crossed
                            threshold.</td>

                    </tr>

                    <tr class="row">
                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e42 ">Last-Crossed-Threshold-Value</td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e45 ">RESOURCE_POST_PROCESSING</td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e48 ">This attribute provides the value of last crossed threshold.</td>

                    </tr>

                    <tr class="row">
                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e42 ">Last-Crossed-Threshold-Of-TPG*</td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e45 ">RESOURCE_POST_PROCESSING</td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e48 ">This attribute provides the last crossed threshold of a given
                            TPG.</td>

                    </tr>

                    <tr class="row">
                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e42 ">Previous-Threshold-Name-Of-TPG</td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e45 ">RESOURCE_POST_PROCESSING</td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e48 ">This attribute provides the previous threshold name of a Threshold
                            Profile Group.</td>

                    </tr>

                    <tr class="row">
                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e42 ">Reset-Timestamp</td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e45 ">RESOURCE_POST_PROCESSING</td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e48 ">This attribute provides the timestamp of the last reset of a
                            resource.</td>

                    </tr>

                    <tr class="row">
                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e42 ">BOU-Is-Activated</td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e45 ">RESOURCE_POST_PROCESSING</td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e48 ">This attribute checks whether the BOU is active or not.</td>

                    </tr>

                    <tr class="row">
                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e42 ">Resource-Type</td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e45 ">RESOURCE_POST_PROCESSING</td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e48 ">This attribute provides the type of resource.</td>

                    </tr>

                    <tr class="row">
                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e42 ">Resource-Trigger-Type</td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e45 ">RESOURCE_POST_PROCESSING</td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e48 ">This attribute checks whether the resource is triggered for
                            Reservation/Commit.</td>

                    </tr>

                    <tr class="row">
                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e42 ">Threshold-Crossed-By-Of-TPG</td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e45 ">RESOURCE_POST_PROCESSING</td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e48 ">This attribute returns the last crossed threshold of a threshold
                            profile group.</td>

                    </tr>

                    <tr class="row">
                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e42 ">Threshold-Crossed-Status</td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e45 ">RESOURCE_POST_PROCESSING</td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e48 ">This attribute checks whether the threshold crossed status in the
                            current call.</td>

                    </tr>

                    <tr class="row">
                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e42 ">TPG-Crossed-Status</td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e45 ">RESOURCE_POST_PROCESSING</td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e48 ">This attribute checks if any threshold of a given Threshold Profile
                            Group is crossed or not.</td>

                    </tr>

                    <tr class="row">
                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e42 ">Type-Of-Service</td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e45 ">RESOURCE_POST_PROCESSING</td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e48 ">This attribute provides the type of service.</td>

                    </tr>

                    <tr class="row">
                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e42 ">Unit-Of-Remaining-Allowance</td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e45 ">RESOURCE_POST_PROCESSING</td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e48 ">This attribute provides unit of remaining allowance.</td>

                    </tr>

                    <tr class="row">
                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e42 ">Unix-Timestamp</td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e45 ">RESOURCE_POST_PROCESSING</td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e48 ">This attribute provides the timestamp when notification was
                            generated.</td>

                    </tr>

                    <tr class="row">
                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e42 ">Unix-Timestamp-Ms</td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e45 ">RESOURCE_POST_PROCESSING</td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e48 ">This attribute provides the timestamp when notification was generated
                            in milliseconds.</td>

                    </tr>

                    <tr class="row">
                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e42 ">Used-Service-Units</td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e45 ">RESOURCE_POST_PROCESSING</td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e48 ">This attribute provides the value of used service unit AVP.</td>

                    </tr>

                </tbody>
</table>

        <div class="note"><div class="notetitle"><img src="../../web/css/../images/note.svg" title="note-icon" class="noteicon" />Note:</div> * The attributes <var class="keyword varname">Last-Crossed-Threshold-Of-TPG</var> and
                <var class="keyword varname">Find-TPG-By-Prefix</var> are also available for reservation.</div>

        <div class="section" id="ruleattributes_resource_post_processing_source_context__section_khy_xhh_bpb"><h2 class="title sectiontitle">Example:</h2>
            
            <p class="p">Following is an example to check whether the tag <em class="ph i">CStariffAMAcode</em> is dumped at
                the charging service level and the tag <em class="ph i">tariffAMAcode</em> at the bucket level on
                all the respective update and terminate requests if the threshold crosses when the
                attribute <em class="ph i">Last-Crossed-Threshold-Of-TPG</em> is used in
                    <var class="keyword varname">RESOURCE_POST_PROCESSING</var>:</p>

            <div class="p"><strong class="ph b">Pre-conditions</strong><ol class="ol" id="ruleattributes_resource_post_processing_source_context__ol_xzp_qjh_bpb">
                    <li class="li">Create a charging step object as follows:<table cellpadding="4" cellspacing="0" summary="" id="ruleattributes_resource_post_processing_source_context__table_sgz_rjh_bpb" class="table" frame="border" border="1" rules="all"><caption><span class="tablecap"><span class="table--title-label">Table: </span>Charging</span></caption><colgroup><col style="width:50%" /><col style="width:50%" /></colgroup><thead class="thead" style="text-align:left;">
                                    <tr class="row">
                                        <th class="entry cellrowborder" style="vertical-align:top;" id="d60503e547">Field</th>

                                        <th class="entry cellrowborder" style="vertical-align:top;" id="d60503e550">Value</th>

                                    </tr>

                                </thead>
<tbody class="tbody">
                                    <tr class="row">
                                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e547 ">Name</td>

                                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e550 ">ChargingStep</td>

                                    </tr>

                                    <tr class="row">
                                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e547 ">Unit</td>

                                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e550 ">Byte</td>

                                    </tr>

                                    <tr class="row">
                                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e547 ">Step size</td>

                                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e550 ">200 and 50</td>

                                    </tr>

                                </tbody>
</table>
</li>

                    <li class="li">Create a threshold of percentage type with percentage set at 20%.<table cellpadding="4" cellspacing="0" summary="" id="ruleattributes_resource_post_processing_source_context__table_wbh_qkh_bpb" class="table" frame="border" border="1" rules="all"><caption><span class="tablecap"><span class="table--title-label">Table: </span>Threshold</span></caption><colgroup><col style="width:50%" /><col style="width:50%" /></colgroup><thead class="thead" style="text-align:left;">
                                    <tr class="row">
                                        <th class="entry cellrowborder" style="vertical-align:top;" id="d60503e604">Field</th>

                                        <th class="entry cellrowborder" style="vertical-align:top;" id="d60503e607">Value</th>

                                    </tr>

                                </thead>
<tbody class="tbody">
                                    <tr class="row">
                                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e604 ">Name</td>

                                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e607 ">TPG1</td>

                                    </tr>

                                    <tr class="row">
                                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e604 ">Percentage type</td>

                                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e607 ">ThresholdPercent1</td>

                                    </tr>

                                </tbody>
</table>
</li>

                    <li class="li">Create the Charging Service object and add bucket into it with the value
                            <var class="keyword varname">128</var>, then choose the already defined Charging step
                        and apply the previously defined threshold into the bucket.<table cellpadding="4" cellspacing="0" summary="" id="ruleattributes_resource_post_processing_source_context__table_wxr_dlh_bpb" class="table" frame="border" border="1" rules="all"><caption><span class="tablecap"><span class="table--title-label">Table: </span>Charging Service</span></caption><colgroup><col style="width:50%" /><col style="width:50%" /></colgroup><thead class="thead" style="text-align:left;">
                                    <tr class="row">
                                        <th class="entry cellrowborder" style="vertical-align:top;" id="d60503e655">Field</th>

                                        <th class="entry cellrowborder" style="vertical-align:top;" id="d60503e658">Value</th>

                                    </tr>

                                </thead>
<tbody class="tbody">
                                    <tr class="row">
                                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e655 ">Name</td>

                                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e658 ">CS_1</td>

                                    </tr>

                                    <tr class="row">
                                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e655 ">Bucket</td>

                                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e658 ">128</td>

                                    </tr>

                                    <tr class="row">
                                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e655 ">Thresholds</td>

                                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e658 ">TPG1</td>

                                    </tr>

                                    <tr class="row">
                                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e655 ">Charging Step</td>

                                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e658 ">ChargingStep</td>

                                    </tr>

                                </tbody>
</table>
<a href="../images/ruleattributes_resource_post_processing_source_context7.png" class="image"><img class="image break scalefit" id="ruleattributes_resource_post_processing_source_context__image_izc_lvh_bpb" src="../images/ruleattributes_resource_post_processing_source_context7.png" height="164" width="640" /></a><a href="../images/ruleattributes_resource_post_processing_source_context8.png" class="image"><img class="image break scalefit" id="ruleattributes_resource_post_processing_source_context__image_ht4_nvh_bpb" src="../images/ruleattributes_resource_post_processing_source_context8.png" height="132" width="640" /></a><a href="../images/ruleattributes_resource_post_processing_source_context9.png" class="image"><img class="image break scalefit" id="ruleattributes_resource_post_processing_source_context__image_nbq_pvh_bpb" height="192" src="../images/ruleattributes_resource_post_processing_source_context9.png" width="672" /></a></li>

                    <li class="li">Create bundle account and device objects as follows:<table cellpadding="4" cellspacing="0" summary="" id="ruleattributes_resource_post_processing_source_context__table_hbr_rlh_bpb" class="table" frame="border" border="1" rules="all"><caption><span class="tablecap"><span class="table--title-label">Table: </span>Bundle</span></caption><colgroup><col style="width:50%" /><col style="width:50%" /></colgroup><thead class="thead" style="text-align:left;">
                                    <tr class="row">
                                        <th class="entry cellrowborder" style="vertical-align:top;" id="d60503e724">Field</th>

                                        <th class="entry cellrowborder" style="vertical-align:top;" id="d60503e727">Value</th>

                                    </tr>

                                </thead>
<tbody class="tbody">
                                    <tr class="row">
                                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e724 ">Name</td>

                                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e727 ">Bundle</td>

                                    </tr>

                                    <tr class="row">
                                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e724 ">Fee</td>

                                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e727 ">0</td>

                                    </tr>

                                    <tr class="row">
                                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e724 ">Charging Service List</td>

                                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e727 ">CS_1</td>

                                    </tr>

                                    <tr class="row">
                                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e724 ">Usage Control</td>

                                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e727 ">[]</td>

                                    </tr>

                                    <tr class="row">
                                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e724 ">Bundle Activation Type</td>

                                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e727 ">Normal</td>

                                    </tr>

                                    <tr class="row">
                                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e724 ">Usage Control Service List(Policy)*</td>

                                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e727 ">[]</td>

                                    </tr>

                                </tbody>
</table>
<div class="fig fignone" id="ruleattributes_resource_post_processing_source_context__fig_jk4_gmh_bpb"><span class="figcap"><span class="fig--title-label">Figure: </span>Device Object</span>
                            
                            <a href="../images/ruleattributes_resource_post_processing_source_context.png" class="image"><img class="image break scalefit" id="ruleattributes_resource_post_processing_source_context__image_zkf_gmh_bpb" src="../images/ruleattributes_resource_post_processing_source_context.png" height="154" width="680" /></a>
                        </div>
<div class="fig fignone" id="ruleattributes_resource_post_processing_source_context__fig_asg_lmh_bpb"><span class="figcap"><span class="fig--title-label">Figure: </span>Device Overview</span>
                            
                            <a href="../images/ruleattributes_resource_post_processing_source_context1.png" class="image"><img class="image break scalefit" id="ruleattributes_resource_post_processing_source_context__image_oxy_kmh_bpb" src="../images/ruleattributes_resource_post_processing_source_context1.png" height="158" width="680" /></a>
                        </div>
</li>

                    <li class="li">Create a complex map object as follows: <table cellpadding="4" cellspacing="0" summary="" id="ruleattributes_resource_post_processing_source_context__table_bj3_5mh_bpb" class="table" frame="border" border="1" rules="all"><caption><span class="tablecap"><span class="table--title-label">Table: </span>Complex map object values</span></caption><colgroup><col style="width:50%" /><col style="width:50%" /></colgroup><thead class="thead" style="text-align:left;">
                                    <tr class="row">
                                        <th class="entry cellrowborder" style="vertical-align:top;" id="d60503e823">Field</th>

                                        <th class="entry cellrowborder" style="vertical-align:top;" id="d60503e826">Value</th>

                                    </tr>

                                </thead>
<tbody class="tbody">
                                    <tr class="row">
                                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e823 ">Map Name</td>

                                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e826 ">Threshold_AMA_Mapping</td>

                                    </tr>

                                    <tr class="row">
                                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e823 ">MAP Keys</td>

                                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e826 ">BucketID, ThresholdName, BucketStep</td>

                                    </tr>

                                    <tr class="row">
                                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e823 ">MAP Values</td>

                                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e826 ">AMACode</td>

                                    </tr>

                                </tbody>
</table>
<table cellpadding="4" cellspacing="0" summary="" id="ruleattributes_resource_post_processing_source_context__table_gvx_hnh_bpb" class="table" frame="border" border="1" rules="all"><caption><span class="tablecap"><span class="table--title-label">Table: </span>Complex map object value details</span></caption><colgroup><col style="width:25%" /><col style="width:25%" /><col style="width:25%" /><col style="width:25%" /></colgroup><thead class="thead" style="text-align:left;">
                                    <tr class="row">
                                        <th class="entry cellrowborder" style="vertical-align:top;" id="d60503e881">BucketID</th>

                                        <th class="entry cellrowborder" style="vertical-align:top;" id="d60503e884">ThresholdName</th>

                                        <th class="entry cellrowborder" style="vertical-align:top;" id="d60503e887">BucketStep</th>

                                        <th class="entry cellrowborder" style="vertical-align:top;" id="d60503e890">AMACode</th>

                                    </tr>

                                </thead>
<tbody class="tbody">
                                    <tr class="row">
                                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e881 ">128</td>

                                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e884 ">ThresholdPercent2</td>

                                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e887 ">1</td>

                                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e890 ">5463</td>

                                    </tr>

                                    <tr class="row">
                                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e881 ">128</td>

                                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e884 ">ThresholdPercent1</td>

                                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e887 ">1</td>

                                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d60503e890 ">5465</td>

                                    </tr>

                                </tbody>
</table>
<div class="fig fignone" id="ruleattributes_resource_post_processing_source_context__fig_bpq_xnh_bpb"><span class="figcap"><span class="fig--title-label">Figure: </span>Complex map object</span>
                            
                            <a href="../images/ruleattributes_resource_post_processing_source_context2.png" class="image"><img class="image break scalefit" id="ruleattributes_resource_post_processing_source_context__image_udk_xnh_bpb" src="../images/ruleattributes_resource_post_processing_source_context2.png" height="224" width="640" /></a>
                        </div>
<a href="../images/ruleattributes_resource_post_processing_source_context3.png" class="image"><img class="image break scalefit" id="ruleattributes_resource_post_processing_source_context__image_lbb_c4h_bpb" src="../images/ruleattributes_resource_post_processing_source_context3.png" height="114" width="560" /></a></li>

                    <li class="li">Create the rule object with rule variable and rule group under trigger
                            (<var class="keyword varname">RESOURCE_POST_PROCESSING</var>)<div class="fig fignone" id="ruleattributes_resource_post_processing_source_context__fig_uwn_n4h_bpb"><span class="figcap"><span class="fig--title-label">Figure: </span>Rule Object</span>
                            
                            <a href="../images/ruleattributes_resource_post_processing_source_context4.png" class="image"><img class="image break scalefit" id="ruleattributes_resource_post_processing_source_context__image_v33_n4h_bpb" src="../images/ruleattributes_resource_post_processing_source_context4.png" height="213" width="720" /></a>
                        </div>
<div class="fig fignone" id="ruleattributes_resource_post_processing_source_context__fig_mdb_bph_bpb">
                            <a href="../images/ruleattributes_resource_post_processing_source_context5.png" class="image"><img class="image break scalefit" id="ruleattributes_resource_post_processing_source_context__image_kdj_bph_bpb" src="../images/ruleattributes_resource_post_processing_source_context5.png" height="182" width="640" /></a>
                        </div>
</li>

                </ol>
</div>

            <p class="p"><strong class="ph b">Execution</strong>:</p>

            <div class="p">Execute the single MSCC decentralized SCUR call with (<var class="keyword varname">RG=3300</var>) as
                    follows:<ol class="ol" id="ruleattributes_resource_post_processing_source_context__ol_oxr_brh_bpb">
                    <li class="li">CCR(I): RG=3300 : RSU= 30 bytes , GSU=30 bytes.</li>

                    <li class="li">CCR(U1): RG=3300 : USU=30 bytes, RSU= 30 bytes, GSU=30 bytes.</li>

                    <li class="li">CCR(U2): RG=3300 : USU= 30 bytes, RSU= 30 bytes, GSU=30 bytes
                            (<em class="ph i">ThresholdPercent1</em> is reached and as the total usage now becomes
                        60 bytes as percentage applied is of 20%) (tag
                            <var class="keyword varname">CStariffAMAcode</var> is dumped in the CDR for this request
                        at Charging service (CS) level and tag tariffAMAcode is dumped at bucket
                        level with value 5465.)</li>

                    <li class="li">CCR(U3): RG=3300 : USU= 30 bytes, RSU= 30 bytes, GSU=30 bytes (tag
                            <var class="keyword varname">CStariffAMAcode</var> is dumped in CDR for this request at
                        Charging service level (CS) and tag <var class="keyword varname">tariffAMAcode</var> is
                        dumped at bucket level with value <var class="keyword varname">5465</var> as threshold was
                        crossed in <em class="ph i">Update2</em> request).</li>

                    <li class="li">CCR(T'): RG=3300 : USU=30 bytes (tag <em class="ph i">CStariffAMAcode</em> is dumped in CDR
                        for this request at Charging service level (CS) and tag
                            <var class="keyword varname">tariffAMAcode</var> is dumped at bucket level with value
                            <var class="keyword varname">5465</var> as threshold was crossed in <em class="ph i">Update2</em>
                        request).</li>

                </ol>
<div class="fig fignone" id="ruleattributes_resource_post_processing_source_context__fig_d2n_lhn_bpb"><span class="figcap"><span class="fig--title-label">Figure: </span>Update 2 request</span>
                    
                    <a href="../images/ruleattributes_resource_post_processing_source_context10.png" class="image"><img class="image break scalefit" id="ruleattributes_resource_post_processing_source_context__image_a3v_qhn_bpb" src="../images/ruleattributes_resource_post_processing_source_context10.png" height="200" width="320" /></a>
                </div>
<div class="fig fignone" id="ruleattributes_resource_post_processing_source_context__fig_rcn_h3n_bpb">
                    <a href="../images/ruleattributes_resource_post_processing_source_context11.png" class="image"><img class="image break scalefit" id="ruleattributes_resource_post_processing_source_context__image_lck_g3n_bpb" src="../images/ruleattributes_resource_post_processing_source_context11.png" height="447" width="320" /></a>
                </div>
<div class="fig fignone" id="ruleattributes_resource_post_processing_source_context__fig_k4l_l3n_bpb"><span class="figcap"><span class="fig--title-label">Figure: </span>Update 3 request</span>
                    
                    <a href="../images/ruleattributes_resource_post_processing_source_context12.png" class="image"><img class="image break scalefit" id="ruleattributes_resource_post_processing_source_context__image_xs3_k3n_bpb" src="../images/ruleattributes_resource_post_processing_source_context12.png" height="416" width="320" /></a>
                </div>
<div class="fig fignone" id="ruleattributes_resource_post_processing_source_context__fig_hrj_43n_bpb"><span class="figcap"><span class="fig--title-label">Figure: </span>Terminate request</span>
                    
                    <a href="../images/ruleattributes_resource_post_processing_source_context13.png" class="image"><img class="image break scalefit" id="ruleattributes_resource_post_processing_source_context__image_lqv_p3n_bpb" src="../images/ruleattributes_resource_post_processing_source_context13.png" height="380" width="280" /></a>
                </div>
</div>

            <div class="p"><strong class="ph b">Verification</strong><ol class="ol" id="ruleattributes_resource_post_processing_source_context__ol_wcs_35h_bpb">
                    <li class="li">Verify that in CCR(U2) when 60 bytes are consumed for RG 3300, then the
                        threshold is crossed for <var class="keyword varname">ThresholdPercent1</var> and tag
                            <var class="keyword varname">CStariffAMAcode</var> is dumped in CDR for this request at
                        Charging service level (CS) and tag <var class="keyword varname">tariffAMAcode</var> is
                        dumped at the bucket level.</li>

                    <li class="li">Verify that in CCR(U3) also and tag <var class="keyword varname">CStariffAMAcode</var> is
                        dumped in CDR for this request at Charging service level (CS) and tag
                            <var class="keyword varname">tariffAMAcode</var> is dumped at bucket level as threshold
                        was crossed in the CCR(U2) request. </li>

                    <li class="li">Check that in CCR(T) also and tag <var class="keyword varname">CStariffAMAcode</var> is
                        dumped in CDR for this request at Charging service level (CS) and tag
                            <var class="keyword varname">tariffAMAcode</var> is dumped at bucket level as threshold
                        was crossed in CCR(U2) request.</li>

                </ol>
</div>

        </div>

        </div>
<div class="footer"><hr /><p>Charging User Guide • P556766-DN1000054947-R23.8 • 1 • <a href="../home.html">Cover</a> • ©2023 Nokia. Nokia Confidential Information • Use subject to agreed restrictions on disclosure and use.</p></div></body>
</html>