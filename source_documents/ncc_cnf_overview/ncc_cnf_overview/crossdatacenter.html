<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2023" />
<meta name="DC.rights.owner" content="(C) Copyright 2023" />
<meta name="generator" content="DITA-OT" /><meta name="DC.type" content="concept" />
<meta name="DC.title" content="Cross-datacenter replication (XDR)" />
<meta name="prodname" content="Nokia Converged Charging" />
<meta name="version" content="Release 23.8" />
<meta name="DC.format" content="XHTML" />
<meta name="DC.identifier" content="id9YZ-09018-UG00-PCZZA-d1e9419" />
<link rel="stylesheet" type="text/css" href="../../web/css/commonltr.css" />
<link rel="stylesheet" type="text/css" href="../../web/css/styles.min.css" />
<link rel="stylesheet" type="text/css" href="../../web/css/common-extended.css" /><title>Cross-datacenter replication (XDR)</title>
<script src="../web/js/nswtc.js" language="javascript" type="text/javascript">/*(◎_◎;)*/</script>
<script src="../../web/css/../js/script.min.js" language="javascript" type="text/javascript">/*(◎_◎;)*/</script>
</head>
<body id="id9YZ-09018-UG00-PCZZA-d1e9419">
<div class="header"><div id="feedback-link-placeholder" class="feedback-link"></div><hr /></div><h1 class="title topictitle1" id="ariaid-title1">Cross-datacenter replication (XDR)</h1>
<div class="body conbody">
        <p class="p">Data that is used by the NCC charging application is stored in the NCC Aerospike
            database. Aerospike supports cross-datacenter replication (XDR) features that enable
            N-way replication of data between database clusters. NCC uses XDR to replicate data
            between the two SM subsystems in the pair, between the two ME subsystems in each pair,
            and across all ME subsystems in the case of index mapping records in a networked pair of
            ME subsystems deployment model.</p>

        <div class="note"><div class="notetitle"><img src="../../web/css/../images/note.svg" title="note-icon" class="noteicon" />Note:</div> XDR is only used between database clusters (for example, between NCC systems). Within
            a particular NCC system, there is a single cluster of Aerospike database pods. NCC uses
            a replication factor of two within this local cluster, meaning that every record is
            stored two times within the cluster for redundancy. This internal cluster replication is
            not the same as the XDR feature used for cross-cluster replication.</div>

        <p class="p">XDR is configured on a per-namespace basis. There are some NCC namespaces that are
            local-only, with no XDR replication. Other namespaces are replicated only with the other
            SM or ME subsystem in this pair. And the global namespace used for index mapping records
            of ME subsystems is N-way replicated to all ME subsystems in the network in the case of
            networked pairs of ME subsystems, or to the other ME subsystem in the pair in the case
            of independent pairs of ME subsystems.</p>

        <p class="p">Normally, synchronization occurs very quickly across the network. XDR employs a very
            robust architecture, where transient network issues and replication slowdowns are
            tolerated. Synchronization might be temporarily slowed, but is achieved again once the
            impacting network or other issues are resolved.</p>

        <p class="p">NCC and Aerospike provide tools for observing the status of XDR between any two NCC
            systems. For more information about XDR replication, metrics, NCC data namespaces, and
            tools, see the <cite class="cite">Operation, Administration, and Maintenance Guide</cite> in the NCC
            documentation set.</p>

        <p class="p">When an SM or ME subsystem is recovering from a failure, part of its recovery logic is to
            evaluate the current state of its database synchronization, leveraging the XDR
            statistics available to the NCC software. Before coming back online for receiving
            incoming traffic, an NCC system waits until its XDR synchronization is caught back up.
            It is typically better for the other SM or ME subsystem to continue handling traffic,
            rather than coming back online to process traffic based on a local database, which is
            out-of-date and not yet in sync with peers in the network. Similarly, if an NCC system
            detects that its XDR synchronization has fallen behind beyond the point of
            recoverability, an alarm is generated indicating that a disaster recovery procedure is
            required to restore this particular NCC and prepare it to be ready to process traffic
            again.</p>

        <div class="section" id="id9YZ-09018-UG00-PCZZA-d1e9419__section_ilm_4fy_pnb"><h2 class="title sectiontitle">Disaster Recovery</h2>
            
            <p class="p">Disaster Recovery is the procedure for rebuilding the data and potentially the
                software on an NCC system, to get it back into good condition with its data
                synchronized with peers in the network so that it is ready to process traffic.</p>

            <p class="p">There are two primary reasons why a system might require a disaster recovery:</p>

            <ul class="ul" id="id9YZ-09018-UG00-PCZZA-d1e9419__ul_sq3_gw3_nlb">
                <li class="li">Data replication with an XDR peer has fallen too far behind, with the local
                    system no longer having current data.</li>

                <li class="li">A disaster situation occurs such that the local software, configuration, and
                    data need to be rebuilt (for example, a building fire or a massive corruption
                    event).</li>

            </ul>

            <p class="p">The first scenario only needs to rebuild the local data copy, as the
                software/configuration is fine. The basic procedure involves retrieving up-to-date
                data from XDR peers into the local recovering system. Also restoring various
                configuration data from the SM subsystem to the local system.</p>

            <p class="p">The second scenario is more severe and requires first a rebuild of the software, from
                a backup copy or a reinstall. When completed, then the above data recovery can take
                place.</p>

            <p class="p">For information about Aerospike XDR, see the Aerospike documentation.</p>

        </div>

    </div>
<div class="footer"><hr /><p>Overview Guide • P556766-DN1000054925-R23.8 • 1 • <a href="../home.html">Cover</a> • ©2023 Nokia. Nokia Confidential Information • Use subject to agreed restrictions on disclosure and use.</p></div></body>
</html>