<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2023" />
<meta name="DC.rights.owner" content="(C) Copyright 2023" />
<meta name="generator" content="DITA-OT" /><meta name="DC.type" content="concept" />
<meta name="DC.title" content="Rollover services (bundles)" />
<meta name="prodname" content="Nokia Converged Charging" />
<meta name="version" content="Release 23.8" />
<meta name="DC.format" content="XHTML" />
<meta name="DC.identifier" content="rollover_bundles" />
<link rel="stylesheet" type="text/css" href="../../web/css/commonltr.css" />
<link rel="stylesheet" type="text/css" href="../../web/css/styles.min.css" />
<link rel="stylesheet" type="text/css" href="../../web/css/common-extended.css" /><title>Rollover services (bundles)</title>
<script src="../web/js/nswtc.js" language="javascript" type="text/javascript">/*(◎_◎;)*/</script>
<script src="../../web/css/../js/script.min.js" language="javascript" type="text/javascript">/*(◎_◎;)*/</script>
</head>
<body id="rollover_bundles">
<div class="header"><div id="feedback-link-placeholder" class="feedback-link"></div><hr /></div><h1 class="title topictitle1" id="ariaid-title1">Rollover services (bundles)</h1>
<div class="body conbody">
        <p class="p">This feature provides the functionality to merge same type of services (bundles). For
            example, if a non-recurring service (bundle) with a certain validity period is
            subscribed, and another service of same type is subscribed again before the expiry of
            the existing service subscription, then the remaining balance of the existing service is
            combined with the balance of the new service at the bucket level. If the validity of the
            new service is greater than the remaining validity of the existing service subscription,
            then validity is extended based on the validity of the new service.</p>

        <p class="p">A service (bundle) which has a <em class="ph i">Merge ID</em>, and <em class="ph i">Avtivation type</em> as
                <em class="ph i">Subscription merge</em> is called rollover service.</p>

        <div class="p">Merging two services is applicable only if both services have the following:<ul class="ul" id="rollover_bundles__ul_zrl_cn5_f5b">
                <li class="li"><em class="ph i">Avtivation type</em> as <em class="ph i">Subscription merge</em></li>

                <li class="li">Same <em class="ph i">Merge ID</em>.</li>

            </ul>
 Consider the following important points for services (bundles) with same <em class="ph i">Merge
                ID</em>:<ul class="ul" id="rollover_bundles__ul_ply_4j5_f5b">
                <li class="li">The total number of buckets/allowance limits in all services (bundles) should be
                    same.</li>

                <li class="li">The number of buckets of each type (Time, Volume, Money, Unit, and so on.) in
                    all services (bundles) should be same.</li>

                <li class="li">If there are multiple buckets of same type, then the bucket name should be same
                    in all the services. This allows one-to-one mapping of buckets to merge the
                    services.</li>

                <li class="li">If there is a single bucket of any type, then the bucket name can be different
                    for different services. In this case, one-to-one mapping of buckets to merge the
                    services is performed by matching the bucket type.</li>

                <li class="li">After creating a rollover bundle, the <em class="ph i">Activation type</em> and <em class="ph i">Merge Id</em>
                    cannot be changed. That is, rollover service (bundle) cannot be changed to a
                    normal bundle, and an existing normal bundle cannot be changed to a rollover
                    bundle.
                    </li>

                <li class="li">Merging is not applicable to services with step bucket or carry-over bucket, and
                    future activation subscription.</li>

            </ul>
</div>

        <div class="section" id="rollover_bundles__section_uqf_gj5_f5b"><h2 class="title sectiontitle">Configuration</h2>
            
            <div class="p">To enable this feature, set the service (bundle) parameter <em class="ph i">Activation Type</em> to
                    <em class="ph i">Subscription merge</em>, and provide a <em class="ph i">Merge ID</em> (<em class="ph i">queueId</em> for
                REST API) while creating the service (bundle).<div class="fig fignone" id="rollover_bundles__fig_lvz_gj5_f5b">
                    <img class="image break" id="rollover_bundles__image_nys_kj5_f5b" height="288" src="../images/rollover_bundles.PNG" width="480" />
                </div>
</div>

            <div class="sectiondiv">
                <div class="p"><strong class="ph b">Additional information</strong><ul class="ul" id="rollover_bundles__ul_qg5_lrb_g5b">
                        <li class="li">After successful merging of existing bundle with the new bundle, the
                            existing bundle is moved to the barred state, and removed from the
                            system after the configured time in its lifecycle. The number of
                            subscriptions allowed in the barred state can be controlled or limited
                            using the application preference <em class="ph i">Maximum Number of Subscriptions in
                                Final State Allowed After Bundle Rollover</em> (A value of 0
                            indicates that there is no limit).</li>

                        <li class="li">
                            <div class="p">This feature is applicable to non-recurring services (bundles). It
                                works for recurring services as well. However, in case of a
                                recurring service, the upcoming renewal time of the subscription is
                                considered as the expiry of the service. <div class="note" id="rollover_bundles__note_whz_d5v_f5b"><div class="notetitle"><img src="../../web/css/../images/note.svg" title="note-icon" class="noteicon" />Note:</div> For a recurring service, the remaining balance does not combine
                                    with the balance of the new subscription at the time of
                                    renewal.</div>
</div>

                        </li>

                        <li class="li">If <em class="ph i">Change Plan</em> is performed from an existing service (B1) with
                                <em class="ph i">Activation type</em> as <em class="ph i">Subscription merge</em> to a new service
                            (B2) with the same <em class="ph i">Merge ID</em>, then these two services cannot be
                            merged. If the <em class="ph i">Change Plan</em> is performed from an existing service
                            (B1) to a new rollover service (B2), and a third subscription (B3) with
                            the same <em class="ph i">Merge ID</em> as B2 exists, then the remaining balance of
                            this subscription (B3) is merged into the new subscription (B2) that is
                            created after the <em class="ph i">Change Plan</em>.</li>

                        <li class="li">If a rollover service (bundle) is created with a validity time, another
                            rollover service is created with a different validity time, and the
                            application preference <em class="ph i">Align Subscription Period End to a Date</em> is
                            enabled, then the new bundle validity time is compared with the existing
                            bundle validity time, and the maximum value is considered as the
                            validity of the new subscription.</li>

                        <li class="li">If a rollover service (bundle) does not expire on its configured
                            validity time due to any reason, and a new rollover subscription is
                            added, then the existing subscription remains active and it is
                            applicable for merging. However, if <em class="ph i">Pending Lifecycle Renewal</em> is
                            enabled, then while adding a subscription, the pending lifecycles are
                            executed and the existing subscription is moved to the final state. The
                            existing subscription is not applicable for merging.</li>

                    </ul>
</div>

            </div>
        </div>

        <div class="section" id="rollover_bundles__section_mnf_pvv_f5b"><h2 class="title sectiontitle">Examples</h2>
            
            <div class="sectiondiv">
                <p class="p"><strong class="ph b">Example 1</strong></p>

                <p class="p"><strong class="ph b">Configuration:</strong></p>

                <div class="p">Consider the following configuration for services (bundles):<table cellpadding="4" cellspacing="0" summary="" id="rollover_bundles__table_p1y_rvv_f5b" class="table" frame="border" border="1" rules="all"><caption><span class="tablecap"><span class="table--title-label">Table: </span>Bundle configuration</span></caption><colgroup><col style="width:16.666666666666664%" /><col style="width:16.666666666666664%" /><col style="width:16.666666666666664%" /><col style="width:16.666666666666664%" /><col style="width:16.666666666666664%" /><col style="width:16.666666666666664%" /></colgroup><thead class="thead" style="text-align:left;">
                                <tr class="row">
                                    <th class="entry cellrowborder" rowspan="2" style="vertical-align:top;" id="d74920e215">Service (Bundle) name</th>

                                    <th class="entry cellrowborder" rowspan="2" style="vertical-align:top;" id="d74920e218">Activation type</th>

                                    <th class="entry cellrowborder" rowspan="2" style="vertical-align:top;" id="d74920e221">Merge ID</th>

                                    <th class="entry cellrowborder" colspan="3" style="vertical-align:top;" id="d74920e224">Buckets detail</th>

                                </tr>

                                <tr class="row">
                                    <th class="entry cellrowborder" style="vertical-align:top;" id="d74920e230">Name</th>

                                    <th class="entry cellrowborder" style="vertical-align:top;" id="d74920e233">Validity</th>

                                    <th class="entry cellrowborder" style="vertical-align:top;" id="d74920e236">Units</th>

                                </tr>

                            </thead>
<tbody class="tbody">
                                <tr class="row">
                                    <td class="entry cellrowborder" style="vertical-align:top;" headers="d74920e215 ">B1</td>

                                    <td class="entry cellrowborder" style="vertical-align:top;" headers="d74920e218 ">Subscription merge</td>

                                    <td class="entry cellrowborder" style="vertical-align:top;" headers="d74920e221 ">ONNET</td>

                                    <td class="entry cellrowborder" style="vertical-align:top;" headers="d74920e224 d74920e230 ">Voice1</td>

                                    <td class="entry cellrowborder" style="vertical-align:top;" headers="d74920e224 d74920e233 ">7 Days</td>

                                    <td class="entry cellrowborder" style="vertical-align:top;" headers="d74920e224 d74920e236 ">120 minutes</td>

                                </tr>

                                <tr class="row">
                                    <td class="entry cellrowborder" style="vertical-align:top;" headers="d74920e215 ">B2</td>

                                    <td class="entry cellrowborder" style="vertical-align:top;" headers="d74920e218 ">Subscription merge</td>

                                    <td class="entry cellrowborder" style="vertical-align:top;" headers="d74920e221 ">ONNET</td>

                                    <td class="entry cellrowborder" style="vertical-align:top;" headers="d74920e224 d74920e230 ">Voice2</td>

                                    <td class="entry cellrowborder" style="vertical-align:top;" headers="d74920e224 d74920e233 ">7 Days</td>

                                    <td class="entry cellrowborder" style="vertical-align:top;" headers="d74920e224 d74920e236 ">360 minutes</td>

                                </tr>

                            </tbody>
</table>
</div>

                <p class="p"><strong class="ph b">Execution:</strong></p>

                <p class="p">Subscriber purchases Bundle B1 on <em class="ph i">1st Dec</em> with a Bucket <em class="ph i">Voice1</em>
                    (Units = 120mins, End of Validity [EOV] = 8th Dec)</p>

                <div class="p">Subscriber purchased Bundle B2 on <em class="ph i">5th Dec</em> with a Bucket <em class="ph i">Voice2</em>
                    (Units = 360mins, End of Validity [EOV] = 12th Dec). Both bundles have same
                        <em class="ph i">Merge ID</em>. Hence, rollover is done for the following bundle
                        components:<ul class="ul" id="rollover_bundles__ul_zxk_fwv_f5b">
                        <li class="li">Remaining balance on 5th Dec: <em class="ph i">Voice1</em> (50mins, EOV 8th Dec)</li>

                        <li class="li">Bucket balance of the new bundle: Voice2 (300mins, EOV 12th Dec)</li>

                    </ul>
</div>

                <p class="p"><strong class="ph b">Result:</strong>
                </p>

                <div class="p">After rollover, the bucket details in the new subscription are as follows:<ul class="ul" id="rollover_bundles__ul_ayk_fwv_f5b">
                        <li class="li">Bundle name = B2, Bucket name = <em class="ph i">Voice2</em></li>

                        <li class="li">Bucket units = 350mins (50mins + 300mins)</li>

                        <li class="li">EOV = <em class="ph i">12th Dec</em> (maximum value between <em class="ph i">8th Dec</em> and <em class="ph i">12th
                                Dec</em>) </li>

                    </ul>
</div>

                <p class="p">Counters and thresholds associated with bundle B1 become invalid.</p>

                <p class="p">Counters and thresholds defined for bundle B2 are currently applicable.</p>

                <p class="p">Bundle B1 is moved to the barred state, and removed from the system after the
                    configured time in its lifecycle.</p>

            </div>
        </div>

    </div>
<div class="footer"><hr /><p>Charging User Guide • P556766-DN1000054947-R23.8 • 1 • <a href="../home.html">Cover</a> • ©2023 Nokia. Nokia Confidential Information • Use subject to agreed restrictions on disclosure and use.</p></div></body>
</html>