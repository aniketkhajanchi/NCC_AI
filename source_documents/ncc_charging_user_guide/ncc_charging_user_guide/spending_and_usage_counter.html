<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2023" />
<meta name="DC.rights.owner" content="(C) Copyright 2023" />
<meta name="generator" content="DITA-OT" /><meta name="DC.type" content="concept" />
<meta name="DC.title" content="Spending and usage counter" />
<meta name="prodname" content="Nokia Converged Charging" />
<meta name="version" content="Release 23.8" />
<meta name="DC.format" content="XHTML" />
<meta name="DC.identifier" content="spending_and_usage_counter" />
<link rel="stylesheet" type="text/css" href="../../web/css/commonltr.css" />
<link rel="stylesheet" type="text/css" href="../../web/css/styles.min.css" />
<link rel="stylesheet" type="text/css" href="../../web/css/common-extended.css" /><title>Spending and usage counter</title>
<script src="../web/js/nswtc.js" language="javascript" type="text/javascript">/*(◎_◎;)*/</script>
<script src="../../web/css/../js/script.min.js" language="javascript" type="text/javascript">/*(◎_◎;)*/</script>
</head>
<body id="spending_and_usage_counter">
<div class="header"><div id="feedback-link-placeholder" class="feedback-link"></div><hr /></div><h1 class="title topictitle1" id="ariaid-title1">Spending and usage counter</h1>
<div class="body conbody">
        <div class="note notice" id="spending_and_usage_counter__note_oyh_4kq_swb"><div class="noticetitle"><img src="../../web/css/../images/notice.svg" title="notice-icon" class="noteicon" />Notice:</div> Do not use the SM GUI and
                <em class="ph i">create/ChLogic</em> API to create <em class="ph i">Spending and Usage Counter</em> as they are
            still in development. Alternatively, it is advised to create a multi-service counter and
            attach it to the Charging Logic. The tariff (If only multi-service counter is attached
            in the Charging Logic) that can be used in the Charging Logic is
                <em class="ph i">System.Do-Nothing</em>. This creates a <em class="ph i">Spending and Usage Counter</em> which can
            be attached to a Service.</div>
        <p class="p">Spending and usage counter entity is a combination of a Charging Logic and multi-service
            counter. When spending and usage counter entity is created,  a Charging Logic and
            multi-service counter are aslo created. The name of the multi-service counter is
            generated by NCC using the following naming convention:</p>

        <p class="p"><em class="ph i">SpendingAndUsageCounter-Name</em>, where <em class="ph i">Name</em> is the name of the charging
            logic.</p>

        <p class="p">If a spending and usage counter is created with Charging Logic name XYZ, then a
            multi-service counter named <em class="ph i">SpendingAndUsageCounter-XYZ</em> is created. However, if
            another counter with the same name exists, then the multi-service counter with the name
                <em class="ph i">SpendingAndUsageCounter-XYZ</em> is not created. The created spending limit uses
            the existing counter.</p>

        <div class="p">
            <div class="note" id="spending_and_usage_counter__note_kvl_dr2_rwb"><div class="notetitle"><img src="../../web/css/../images/note.svg" title="note-icon" class="noteicon" />Note:</div> Spending and usage counter entity can be edited only in
                unpublished state.</div>

        </div>

        <p class="p">Spending and usage counters can be attached to a service.</p>

        <div class="p">Spending and usage counter can also be created using <em class="ph i">create/ChLogic</em> API. If the
                <em class="ph i">UsageType</em> parameter is set to <em class="ph i">SPENDING_LIMIT</em>, then a charging logic
            and multi-service counter can be configured together.<div class="note" id="spending_and_usage_counter__note_dqd_c5f_rwb"><div class="notetitle"><img src="../../web/css/../images/note.svg" title="note-icon" class="noteicon" />Note:</div> For
                more details on using the API, refer to the Swagger API documentation.</div>
</div>

        
        <div class="section" id="spending_and_usage_counter__section_rrt_1rb_lwb"><h2 class="title sectiontitle">Configuration</h2>
            
            <p class="p">Log into new GUI, and navigate to <span class="ph uicontrol">Charging → ☰ → Charging Management →
                    Spending and usage counter</span>. To define a new spending and usage
                counter, click <img class="image" id="spending_and_usage_counter__image_h3r_nbx_2qb" src="../images/hybrid_gui/new_button.png" height="54" width="104" /> and provide the details as described in the
                following table.</p>

            <table cellpadding="4" cellspacing="0" summary="" id="spending_and_usage_counter__table_bpb_grb_lwb" class="table" frame="border" border="1" rules="all"><caption><span class="tablecap"><span class="table--title-label">Table: </span>Parameters for spending and usage counter</span></caption><colgroup><col style="width:19.115044247787612%" /><col style="width:44.24778761061947%" /><col style="width:18.938053097345133%" /><col style="width:17.699115044247787%" /></colgroup><thead class="thead" style="text-align:left;">
                        <tr class="row">
                            <th class="entry cellrowborder" style="vertical-align:top;" id="d88764e119">Parameters</th>

                            <th class="entry cellrowborder" style="vertical-align:top;" id="d88764e122">Description</th>

                            <th class="entry cellrowborder" style="vertical-align:top;" id="d88764e125">Options</th>

                            <th class="entry cellrowborder" style="vertical-align:top;" id="d88764e128">Mandatory/Optional</th>

                        </tr>

                    </thead>
<tbody class="tbody">
                        <tr class="row">
                            <td class="entry cellrowborder" colspan="4" style="vertical-align:top;" headers="d88764e119 d88764e122 d88764e125 d88764e128 "><span class="ph uicontrol">APPLICABILITY
                                    RULE</span>: Limit service availability and applicability
                                with conditions. You can filter applicability with network, session,
                                subscriber and date and time criteria.<div class="note" id="spending_and_usage_counter__note_vdf_5yc_lwb"><div class="notetitle"><img src="../../web/css/../images/note.svg" title="note-icon" class="noteicon" />Note:</div> Applicability rules are defined for the counter and not for the
                                    charging logic.</div>
</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" colspan="4" style="vertical-align:top;" headers="d88764e119 d88764e122 d88764e125 d88764e128 "><span class="ph uicontrol">COUNTER RULE</span>: Use
                                rules to define counter and conditional actions. You can filter
                                applicability with network, session, subscriber and date and time
                                    criteria.<p class="p">Click <span class="ph uicontrol">+NEW</span> to add a new
                                    counter rule.</p>
<div class="note" id="spending_and_usage_counter__note_sx1_wyc_lwb"><div class="notetitle"><img src="../../web/css/../images/note.svg" title="note-icon" class="noteicon" />Note:</div> Counter rules are
                                    defined for the counter and not for the charging
                                logic.</div>
</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" colspan="4" style="vertical-align:top;" headers="d88764e119 d88764e122 d88764e125 d88764e128 "><span class="ph uicontrol">COUNTER
                                DETAILS</span></td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d88764e119 ">Name</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d88764e122 ">This parameter indicates the name of the charging logic.</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d88764e125 ">String</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d88764e128 ">Mandatory</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d88764e119 ">Description</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d88764e122 ">This parameter indicates the description of the charging
                                logic.</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d88764e125 ">String</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d88764e128 ">Optional</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d88764e119 ">Category</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d88764e122 ">
                                <p class="p">This parameter indicates the category associated with the
                                    charging logic.</p>

                                <p class="p">The default value is <var class="keyword varname">DefaultCategory</var>.</p>

                            </td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d88764e125 ">Select the required category from the predefined categories in
                                the drop-down list.</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d88764e128 ">Mandatory</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d88764e119 ">Priority</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d88764e122 ">
                                <p class="p">This parameter indicates the priority of the charging logic.
                                    Higher the number, lower is the priority of the charging logic.
                                    Multiple charging logics can have same priority.</p>

                                <div class="p">
                                    <div class="note" id="spending_and_usage_counter__note_zfg_qww_p5b"><div class="notetitle"><img src="../../web/css/../images/note.svg" title="note-icon" class="noteicon" />Note:</div> Ensure that the value of this
                                        parameter is greater than zero.</div>

                                </div>

                            </td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d88764e125 ">
                                <p class="p">Integer</p>

                                <p class="p">Valid range: 1 to 2147483647</p>

                            </td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d88764e128 ">Mandatory</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d88764e119 ">Limit</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d88764e122 ">This parameter specifies the spending and usage counter
                                limit.</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d88764e125 ">Integer</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d88764e128 ">Mandatory</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d88764e119 ">Unit type</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d88764e122 ">This parameter specifies the unit type of the spending and usage
                                counter. It has the following values:<ul class="ul" id="spending_and_usage_counter__ul_uys_12p_zqb">
                                    <li class="li"><span class="ph uicontrol">Unit</span></li>

                                    <li class="li"><span class="ph uicontrol">Time</span></li>

                                    <li class="li"><span class="ph uicontrol">Data</span></li>

                                    <li class="li"><span class="ph uicontrol">Money</span></li>

                                </ul>
<div class="note" id="spending_and_usage_counter__note_jpj_nkg_rwb"><div class="notetitle"><img src="../../web/css/../images/note.svg" title="note-icon" class="noteicon" />Note:</div> Unit type parameter cannot be
                                    updated.</div>
</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d88764e125 ">Enum</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d88764e128 ">Mandatory</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d88764e119 ">Unit</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d88764e122 ">This parameter specifies the spending and usage counter unit. It
                                is based on the <span class="ph uicontrol">Unit type</span>.<p class="p">For example,
                                        </p>
<p class="p"><span class="ph uicontrol">Money</span> (Unit type): Euro, Cent,
                                    Money (Units).</p>
<p class="p"><span class="ph uicontrol">Time</span>: Hour, Second,
                                    Day, Minute.</p>
<p class="p"><span class="ph uicontrol">Data</span>: Byte, KByte,
                                    MByte, GByte.</p>
<p class="p"><span class="ph uicontrol">Unit</span>: Unit</p>
<div class="note" id="spending_and_usage_counter__note_xgy_4kg_rwb"><div class="notetitle"><img src="../../web/css/../images/note.svg" title="note-icon" class="noteicon" />Note:</div> Unit parameter cannot be
                                updated.</div>
</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d88764e125 ">Enum</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d88764e128 ">Mandatory</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d88764e119 ">Threshold profile</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d88764e122 ">This parameter indicates the threshold profile already defined in
                                the system that can be attached to spending limit.</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d88764e125 ">Enum</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d88764e128 ">Optional</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d88764e119 ">Counter Incrementation Type</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d88764e122 ">
                                <p class="p">This parameter indicates the consumption type.</p>

                                <p class="p">The supported values are as follows:</p>

                                <ul class="ul" id="spending_and_usage_counter__ul_qhs_k42_tpb">
                                    <li class="li">
                                        <p class="p">
                                            <var class="keyword varname">All</var>: The counter is incremented when
                                            the consumption is done through any of the entities. For
                                            example, Bucket, Counter, Account or Charging
                                            Service.</p>

                                    </li>

                                    <li class="li">
                                        <p class="p">
                                            <var class="keyword varname">Allowance</var>: The counter is incremented
                                            when the consumption is done only through the
                                            bucket.</p>

                                    </li>

                                    <li class="li">
                                        <p class="p">
                                            <var class="keyword varname">Metering</var>: The counter is incremented
                                            when the consumption is done only through the
                                            counter.</p>

                                    </li>

                                    <li class="li">
                                        <p class="p">
                                            <var class="keyword varname">Account</var>: The counter is incremented
                                            when the consumption is done only through an
                                            account.</p>

                                    </li>

                                    <li class="li">
                                        <p class="p">
                                            <var class="keyword varname">Charging Logic</var>: The counter is
                                            incremented when the consumption is done only through
                                            the charging service.</p>

                                    </li>

                                </ul>

                                <div class="note" id="spending_and_usage_counter__note_xqh_www_p5b"><div class="notetitle"><img src="../../web/css/../images/note.svg" title="note-icon" class="noteicon" />Note:</div> For Allowance, Metering, and Charging
                                    Logic, if <var class="keyword varname">All</var> option is selected, then all
                                    the Buckets, Counters, or Charging Services are considered for
                                    consumption. If <em class="ph i">Selected</em> option is selected, then click
                                        <span class="ph uicontrol">OPEN SELECTOR</span> to select the Buckets,
                                    Counters, or Charging Services to be considered for
                                    consumption.</div>

                            </td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d88764e125 "> </td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d88764e128 ">Mandatory</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" colspan="4" style="vertical-align:top;" headers="d88764e119 d88764e122 d88764e125 d88764e128 "><span class="ph uicontrol">Counting
                                period</span></td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d88764e119 ">Inherit service period</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d88764e122 ">By default, this checkbox is checked.</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d88764e125 ">Select this check box to indicate whether service period should
                                be inherited.</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d88764e128 ">Optional</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d88764e119 ">Period type</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d88764e122 ">Default: Custom</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d88764e125 ">Enum</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d88764e128 ">Mandatory</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d88764e119 ">Periodical lifecycle</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d88764e122 ">This parameter indicates the billing cycle associated with the
                                counter.</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d88764e125 ">Enum</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d88764e128 ">Mandatory if <span class="ph uicontrol">Inherit service period</span> is not
                                selected.</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d88764e119 ">Align Subscription Period End to a Date</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d88764e122 ">By default, this checkbox is not checked.</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d88764e125 ">Select this check box to indicate whether subscription period
                                should be aligned to a date.</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d88764e128 ">Optional</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d88764e119 ">Reference Date</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d88764e122 ">It supports <var class="keyword varname">Day of Month </var>, and <var class="keyword varname">Day of
                                    Week</var> values.</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d88764e125 ">Enum</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d88764e128 ">Mandatory if <strong class="ph b">Align with Subscription period end to a date</strong>
                                is selected.</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d88764e119 ">Day of Month</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d88764e122 ">
                                <p class="p">Following are the supported values for this parameter</p>

                                <ul class="ul" id="spending_and_usage_counter__ul_idv_tmd_1rb">
                                    <li class="li">
                                        <p class="p">1 to 31</p>

                                    </li>

                                    <li class="li">
                                        <p class="p">
                                            <span class="ph uicontrol">Exact</span>: If selected, the day of
                                            week is aligned to subscription purchase date.</p>

                                    </li>

                                </ul>

                            </td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d88764e125 ">Integer</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d88764e128 ">Mandatory if <strong class="ph b">Align with Subscription period end to a date</strong>
                                is selected.</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d88764e119 ">Day of Week</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d88764e122 ">
                                <p class="p">Following are the supported values for this parameter</p>

                                <ul class="ul" id="spending_and_usage_counter__ul_vcq_kqw_fqb">
                                    <li class="li">
                                        <p class="p">Sunday to Saturday</p>

                                    </li>

                                    <li class="li">
                                        <p class="p">
                                            <span class="ph uicontrol">Exact</span>: If selected, the day of
                                            week is aligned to subscription purchase date.</p>

                                    </li>

                                </ul>

                            </td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d88764e125 ">String</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d88764e128 ">Mandatory if <strong class="ph b">Align with Subscription period end to a date</strong>
                                is selected.</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d88764e119 ">Hour of Day</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d88764e122 ">
                                <p class="p">Following are the supported values for this parameter</p>

                                <ul class="ul" id="spending_and_usage_counter__ul_kwq_nyc_fqb">
                                    <li class="li">
                                        <p class="p">0 to 23</p>

                                    </li>

                                    <li class="li">
                                        <p class="p">
                                            <span class="ph uicontrol">Exact</span>: If selected, the end date
                                            and time has the same time as subscription start
                                            time.</p>

                                    </li>

                                    <li class="li">
                                        <p class="p">
                                            <span class="ph uicontrol">Next Day Start</span>: If selected, the
                                            end date and time is aligned to 00:00:00 of next day as
                                            per the lifecycle periodicity. For example, if a monthly
                                            subscription is purchased on 20th Jan 13:45:00, then the
                                            end date and time of subscription is set to 21st Feb
                                            00:00:00.</p>

                                    </li>

                                </ul>

                            </td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d88764e125 ">Integer</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d88764e128 ">Mandatory if <strong class="ph b">Align with Subscription period end to a date</strong>
                                is selected.</td>

                        </tr>

                    </tbody>
</table>

        </div>

        <div class="section" id="spending_and_usage_counter__section_p25_hr2_rwb"><h2 class="title sectiontitle">Versioning</h2>
            
            <p class="p">To update a provisioned spending and usage counter, a new version should be created
                with the updated values. However, Unit type and Unit parameters cannot be
                updated.</p>

            <p class="p">To create a new version of spending and usage counter, Immediate Versioning must be
                enabled. That is, the SM application preference <em class="ph i">Entity Version Enabled</em> should
                be enabled, and <em class="ph i">Bundle Version Type</em> should be set to <em class="ph i">IMMEDIATE</em>.</p>

            <div class="p">When a new version of spending and usage counter is created, the definition of
                counter is updated with new values. <div class="note" id="spending_and_usage_counter__note_igk_glb_rwb"><div class="notetitle"><img src="../../web/css/../images/note.svg" title="note-icon" class="noteicon" />Note:</div> If a new version of
                    spending and usage counter is created which changes the applicability rules or
                    counter rules, then the changes are applicable immediately as the counter
                    definition is updated. Hence, it impacts late rating too. </div>
</div>

        </div>

        <div class="section" id="spending_and_usage_counter__section_ovm_vq2_rwb"><h2 class="title sectiontitle">Important points</h2>
            
            <div class="p">Application preferences configuration to be considered while creating spending and
                usage counter:<ul class="ul" id="spending_and_usage_counter__ul_qmv_vjg_rwb">
                    <li class="li">Set application preference <em class="ph i">Ignore CS priority for Notification-Reject</em>
                        to <var class="keyword varname">1</var> (Enabled).</li>

                    <li class="li">Set <em class="ph i">Increase Counter for Bundle Fee</em> to <var class="keyword varname">1</var>.</li>

                    <li class="li">Spending and usage counter (Reporting and Spending Limit Counter) should be
                        created with <em class="ph i">Counter Incrementation Type</em> set to <em class="ph i">All</em>.</li>

                </ul>
<div class="note" id="spending_and_usage_counter__note_ylr_fch_rwb"><div class="notetitle"><img src="../../web/css/../images/note.svg" title="note-icon" class="noteicon" />Note:</div> For details on configuring application preferences,
                    see sections <em class="ph i">Managed Element application preferences</em> and <em class="ph i">Service
                        Manager application preferences </em>in <em class="ph i">Global Configuration
                    Guide</em>.</div>
</div>

            <p class="p">Note the following important points about the important points about spending and
                usage counter:</p>

            <ul class="ul" id="spending_and_usage_counter__ul_lzf_wkb_rwb">
                <li class="li">When spending limit has reached due to any of the following conditions, then the
                    call is rejected: <ul class="ul" id="spending_and_usage_counter__ul_rzl_lc4_qwb">
                        <li class="li">BOU activation fee deduction of BOU bundles.</li>

                        <li class="li">Step-up fee deduction of Tiered Allowance.</li>

                        <li class="li">Normal rates.</li>

                    </ul>
</li>

                <li class="li">Multiple multi-service counters can be associated with a subscriber. For
                    example: If two multi-service counters are associated with a subscriber, then
                    one can be used for monetary/spending limit, and the other can be used as a
                    reporting counter for sending notification.</li>

                <li class="li">Applicability rule can be defined for counting in all or subset of
                        regions.<div class="p">Monetary limit counter:<div class="fig fignone" id="spending_and_usage_counter__fig_ugv_spg_rwb">
                            <img class="image break" id="spending_and_usage_counter__image_d2g_1qg_rwb" height="192" src="../images/monetary_limit_counter.PNG" width="192" />
                        </div>
</div>
<div class="p">Reporting counter:<div class="fig fignone" id="spending_and_usage_counter__fig_q3z_spg_rwb">
                            <img class="image break" id="spending_and_usage_counter__image_hlm_bqg_rwb" height="192" src="../images/reporting_counter.PNG" width="192" />
                        </div>
</div>
</li>

                <li class="li">
                    <p class="p">Monetary limit (multi-service spending limit counter) can be applied in a set
                        of regions. Monetary limit can be unblocked temporarily for the current
                        billing cycle.</p>

                    <p class="p">Applicability Condition of Threshold Profile Group can be used to define the
                        set of regions in which monetary limit is applicable. It can also be used to
                        unblock the  moentary limit temporarily for the current billing cycle.</p>

                    <div class="p">When the limit is reached, the subscriber can be unblocked temporarily by
                        creating a custom data named in the device. When the custom data is created,
                        the TPG is inapplicable due to the applicability condition which is defined,
                        for example, as shown in the following image: <div class="fig fignone" id="spending_and_usage_counter__fig_qjv_t1f_rwb">
                            <img class="image break" id="spending_and_usage_counter__image_wkd_1cf_rwb" height="288" src="../images/tpg_applicability_condition.png" width="288" />
                        </div>
</div>

                    <p class="p">When the TPG becomes inapplicable, the applicability of monetary limit is not
                        limited to the set of regions defined in applicability condition. Hence, the
                        subscriber is unblocked.</p>

                    <p class="p">The custom data can be removed from the device while renewing the
                        subsription. The action to delete custom data in the device can be defined
                        either in Account Periodic Lifecycle or Subscription Periodic Lifecycle.</p>

                    
                    <div class="p">For example: <code class="ph codeph">SPR_DEVICE.Custom-Data-Remove-Immediate =
                            "Unblock"</code><div class="fig fignone" id="spending_and_usage_counter__fig_l4z_hff_rwb">
                            <img class="image break" id="spending_and_usage_counter__image_sly_jgf_rwb" height="288" src="../images/remove_custom_data.png" width="576" />
                        </div>
</div>

                    <p class="p">If the action to delete custom data in device is configured in account PLC,
                        and the account has multiple devices, then the custom data of the first
                        device is modified (added, updated, or removed). </p>

                    <div class="p">
                        <div class="note" id="spending_and_usage_counter__note_efq_rbf_rwb"><div class="notetitle"><img src="../../web/css/../images/note.svg" title="note-icon" class="noteicon" />Note:</div> If the threshold is not applicable due to TPGs
                            applicability condition, then it is inapplicable for slice reduction as
                            well.</div>

                    </div>

                </li>

                <li class="li">
                    <div class="p">The monetary limit can be blocked temporarily by defining
                            <em class="ph i">Is-Bundle-In-ActiveSubs</em> rule in the TPG applicability condition.
                        If the device subscribes to an active bundle, then the TPG applicability
                        condition is inapplicable.<div class="fig fignone" id="spending_and_usage_counter__fig_zmv_ldf_rwb">
                            <img class="image break" id="spending_and_usage_counter__image_xzx_vgf_rwb" height="192" src="../images/unblock_monetary_limit.PNG" width="384" />
                            <p class="p">While renewing the subscription, the active bundle can be deleted by
                                defining <em class="ph i">Delete Subscription Action</em> in either Account
                                Periodic Lifecycle or Subscription Periodic Lifecycle.</p>

                            <img class="image break" id="spending_and_usage_counter__image_vgc_xgf_rwb" height="192" src="../images/unblock_monetary_limit2.PNG" width="576" />
                        </div>
</div>

                </li>

                <li class="li">Recurring threshold can be defined as a range in the reporting counter
                    (multi-service counter created using spending and usage counter entity). For
                    example, if a recurring threshold of 10€ is configured to be applicable between
                    50€ and 100€, then the applicable thresholds are 60€, 70€, 80€, 90€ and 100€
                    thresholds.</li>

                <li class="li">Notification is sent only once.<p class="p">If the limit is not reached due to granularity
                        in rates (although <em class="ph i">Skip Granularity for Low Balance</em> is set to
                            <var class="keyword varname">true</var>), BOU activation fee, or step-up fee (Tiered
                        Allowance), then the limit is considered to be reached and the notification
                        is sent only once.</p>
<p class="p">In the <em class="ph i">Notification-Reject</em> action, specify
                            <em class="ph i">NotificationSentControl_ONCE</em> to avoid sending the notification
                        multiple times.</p>
<div class="fig fignone" id="spending_and_usage_counter__fig_w2f_dhf_rwb">
                        <img class="image break" id="spending_and_usage_counter__image_ggt_dhf_rwb" height="192" src="../images/send_notification_once.PNG" width="576" />
                    </div>
</li>

            </ul>

        </div>

    </div>
<div class="footer"><hr /><p>Charging User Guide • P556766-DN1000054947-R23.8 • 1 • <a href="../home.html">Cover</a> • ©2023 Nokia. Nokia Confidential Information • Use subject to agreed restrictions on disclosure and use.</p></div></body>
</html>