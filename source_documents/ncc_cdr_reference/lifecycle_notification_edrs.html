<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2023" />
<meta name="DC.rights.owner" content="(C) Copyright 2023" />
<meta name="generator" content="DITA-OT" /><meta name="DC.type" content="concept" />
<meta name="DC.title" content="Lifecycle notification EDRs" />
<meta name="prodname" content="Nokia Converged Charging" />
<meta name="version" content="Release 23.8" />
<meta name="DC.format" content="XHTML" />
<meta name="DC.identifier" content="d1e8122" />
<link rel="stylesheet" type="text/css" href="../../web/css/commonltr.css" />
<link rel="stylesheet" type="text/css" href="../../web/css/styles.min.css" />
<link rel="stylesheet" type="text/css" href="../../web/css/common-extended.css" /><title>Lifecycle notification EDRs</title>
<script src="../web/js/nswtc.js" language="javascript" type="text/javascript">/*(◎_◎;)*/</script>
<script src="../../web/css/../js/script.min.js" language="javascript" type="text/javascript">/*(◎_◎;)*/</script>
</head>
<body id="d1e8122">
<div class="header"><div id="feedback-link-placeholder" class="feedback-link"></div><hr /></div><h1 class="title topictitle1" id="ariaid-title1">Lifecycle notification EDRs</h1>
<div class="body conbody">
		<p class="p">Lifecycle notification EDRs are generated as a result of notification events for
			Lifecycle.</p>

		<table cellpadding="4" cellspacing="0" summary="" id="d1e8122__table_dw3_kz5_23b" class="table" width="100%" frame="border" border="1" rules="all"><caption><span class="tablecap"><span class="table--title-label">Table: </span>Lifecycle notification EDR tags</span></caption><colgroup><col style="width:23.866348448687354%" /><col style="width:39.856801909307876%" /><col style="width:36.27684964200478%" /></colgroup><thead class="thead" style="text-align:left;">
					<tr class="row">
						<th class="entry cellrowborder" style="vertical-align:top;" id="d87508e45">Tag</th>

						<th class="entry cellrowborder" style="vertical-align:top;" id="d87508e48">Description</th>

						<th class="entry cellrowborder" style="vertical-align:top;" id="d87508e51">Example</th>

					</tr>

				</thead>
<tbody class="tbody">
					<tr class="row">
						<td class="entry cellrowborder" style="vertical-align:top;" headers="d87508e45 "> RecordType </td>

						<td class="entry cellrowborder" style="vertical-align:top;" headers="d87508e48 ">The type of EDR. </td>

						<td class="entry cellrowborder" style="vertical-align:top;" headers="d87508e51 "> LifeCycleNotificationRecord </td>

					</tr>

					<tr class="row">
						<td class="entry cellrowborder" style="vertical-align:top;" headers="d87508e45 ">recordId</td>

						<td class="entry cellrowborder" style="vertical-align:top;" headers="d87508e48 ">
							<p class="p">A unique ID for each CDR having format
									<var class="keyword varname">&lt;DateTime&gt;_UUID</var> where
									<var class="keyword varname">&lt;DateTime&gt;</var> is in
									<var class="keyword varname">YYYYMMDDHHMMSS</var> format and UTC designation.
							</p>

						</td>

						<td class="entry cellrowborder" style="vertical-align:top;" headers="d87508e51 ">20220324110447_70df8c5d-16ce-4f71-a108-4f9980082b1a</td>

					</tr>

					<tr class="row">
						<td class="entry cellrowborder" style="vertical-align:top;" headers="d87508e45 ">serviceProvider</td>

						<td class="entry cellrowborder" style="vertical-align:top;" headers="d87508e48 ">
							<p class="p">Indicates the service provider (MNO/MVNO) for which the CDR is
								applicable. This tag is generated only if service provider is
								enabled.</p>

						</td>

						<td class="entry cellrowborder" style="vertical-align:top;" headers="d87508e51 ">MVNO1</td>

					</tr>

					<tr class="row">
						<td class="entry cellrowborder" style="vertical-align:top;" headers="d87508e45 "> eventName </td>

						<td class="entry cellrowborder" style="vertical-align:top;" headers="d87508e48 "> The event for which the EDR was generated. </td>

						<td class="entry cellrowborder" style="vertical-align:top;" headers="d87508e51 "> SubscriptionRenewedEvent </td>

					</tr>

					<tr class="row">
						<td class="entry cellrowborder" style="vertical-align:top;" headers="d87508e45 "> entityId </td>

						<td class="entry cellrowborder" style="vertical-align:top;" headers="d87508e48 "> The identifier (ID) of the entity (Device, Group, Account,
							Subscription) for which the EDR was generated. </td>

						<td class="entry cellrowborder" style="vertical-align:top;" headers="d87508e51 "> Device62461 </td>

					</tr>

					<tr class="row">
						<td class="entry cellrowborder" style="vertical-align:top;" headers="d87508e45 "> entityType </td>

						<td class="entry cellrowborder" style="vertical-align:top;" headers="d87508e48 ">
							<p class="p">The entity type.</p>

							<p class="p">Valid values: Device, Group, Account, Subscription</p>

						</td>

						<td class="entry cellrowborder" style="vertical-align:top;" headers="d87508e51 "> Device </td>

					</tr>

					<tr class="row">
						<td class="entry cellrowborder" style="vertical-align:top;" headers="d87508e45 ">triggeredBy </td>

						<td class="entry cellrowborder" style="vertical-align:top;" headers="d87508e48 ">The reason for which the EDR was generated. <p class="p">Valid values: AUDIT,
								API, ON_CALL, EVENT </p>
<div class="note" id="d1e8122__note_hcn_1dj_5xb"><div class="notetitle"><img src="../../web/css/../images/note.svg" title="note-icon" class="noteicon" />Note:</div> EVENT is
								generated if Renew Subscription Action with allow event broadcast
								flag is configured in Account Period Lifecycle and Subscription
								Renewed event with Accept Broadcast event flag is configured in a
								subscription Lifecycle.</div>
</td>

						<td class="entry cellrowborder" style="vertical-align:top;" headers="d87508e51 "> AUDIT </td>

					</tr>

					<tr class="row">
						<td class="entry cellrowborder" style="vertical-align:top;" headers="d87508e45 "> notificationTemplateId </td>

						<td class="entry cellrowborder" style="vertical-align:top;" headers="d87508e48 "> The identifier of the notification template. </td>

						<td class="entry cellrowborder" style="vertical-align:top;" headers="d87508e51 "> TCPIP_Notification_Template_Subsc_Renew </td>

					</tr>

					<tr class="row">
						<td class="entry cellrowborder" style="vertical-align:top;" headers="d87508e45 "> notificationTemplateParams </td>

						<td class="entry cellrowborder" style="vertical-align:top;" headers="d87508e48 "> The notification template parameters. </td>

						<td class="entry cellrowborder" style="vertical-align:top;" headers="d87508e51 ">{APNRTRCOS=SPS, UNI=BYT, ACT=NOKIA, EVT=NOTRST, T=207,
							MDN=6246100001, USE=0, TOS=ADMN, TIM=1530181642, CID=C162461} </td>

					</tr>

					<tr class="row">
						<td class="entry cellrowborder" style="vertical-align:top;" headers="d87508e45 "> recipientId </td>

						<td class="entry cellrowborder" style="vertical-align:top;" headers="d87508e48 "> The identifier for the notification recipient. </td>

						<td class="entry cellrowborder" style="vertical-align:top;" headers="d87508e51 "> User62461 </td>

					</tr>

					<tr class="row">
						<td class="entry cellrowborder" style="vertical-align:top;" headers="d87508e45 "> bundleId </td>

						<td class="entry cellrowborder" style="vertical-align:top;" headers="d87508e48 "> This tag is available only for subscription entity. </td>

						<td class="entry cellrowborder" style="vertical-align:top;" headers="d87508e51 "> b1 </td>

					</tr>

					<tr class="row">
						<td class="entry cellrowborder" style="vertical-align:top;" headers="d87508e45 "> entityLifeCycleName </td>

						<td class="entry cellrowborder" style="vertical-align:top;" headers="d87508e48 ">
							<p class="p">The name of the lifecycle attached to the entities that triggered the
								entity lifecycle.</p>

							<p class="p">This tag is available only when ELC (entity lifecycle) is
								triggered.</p>

						</td>

						<td class="entry cellrowborder" style="vertical-align:top;" headers="d87508e51 "> gr_1_enti </td>

					</tr>

					<tr class="row">
						<td class="entry cellrowborder" style="vertical-align:top;" headers="d87508e45 "> periodicLifeCycleName </td>

						<td class="entry cellrowborder" style="vertical-align:top;" headers="d87508e48 ">
							<p class="p">The name of the lifecycle attached to the entities that triggered the
								periodic lifecycle.</p>

							<p class="p">This tag is available only when PLC (periodic lifecycle) is
								triggered.</p>

						</td>

						<td class="entry cellrowborder" style="vertical-align:top;" headers="d87508e51 "> </td>

					</tr>

					<tr class="row">
						<td class="entry cellrowborder" style="vertical-align:top;" headers="d87508e45 "> fromState </td>

						<td class="entry cellrowborder" style="vertical-align:top;" headers="d87508e48 "> The lifecycle state before the event. </td>

						<td class="entry cellrowborder" style="vertical-align:top;" headers="d87508e51 "> Renew </td>

					</tr>

					<tr class="row">
						<td class="entry cellrowborder" style="vertical-align:top;" headers="d87508e45 "> toState </td>

						<td class="entry cellrowborder" style="vertical-align:top;" headers="d87508e48 "> The lifecycle state after the event. </td>

						<td class="entry cellrowborder" style="vertical-align:top;" headers="d87508e51 "> Start </td>

					</tr>

					<tr class="row">
						<td class="entry cellrowborder" style="vertical-align:top;" headers="d87508e45 "> generationTimestamp </td>

						<td class="entry cellrowborder" style="vertical-align:top;" headers="d87508e48 "> Signifies the EDR generation time. </td>

						<td class="entry cellrowborder" style="vertical-align:top;" headers="d87508e51 "> 28-06-2018 15:57 </td>

					</tr>

					<tr class="row">
						<td class="entry cellrowborder" style="vertical-align:top;" headers="d87508e45 "> RecordTimestamp </td>

						<td class="entry cellrowborder" style="vertical-align:top;" headers="d87508e48 ">Signifies the date and time of the CDR/EDR generation. This value is
                taken from the CDR module timestamp. By default, it is presented in standard
                DD/MM/YYYY HH:MM:SS format, as shown in the first example.<p class="p">However, the format can
                  be changed to include milliseconds as well, as shown in the second example. This
                  value is in millisecond format with timezoneoffset. Since RecordTimestamp tag is
                  generated in GMT time, timezone offset is +0000. For this, the ETCD key
                    <var class="keyword varname">timestampInMS</var> must be set to
                  <var class="keyword varname">true</var>.</p>
<div class="note caution"><div class="cautiontitle"><img src="../../web/css/../images/caution.svg" title="caution-icon" class="noteicon" />CAUTION:</div> Contact Nokia Support to change
                  any ETCD key.</div>
</td>

						<td class="entry cellrowborder" style="vertical-align:top;" headers="d87508e51 ">
                <p class="p">10/12/2020 17:45:15</p>

                <p class="p">10/12/2020 17:45:15.617+0000</p>

              </td>

					</tr>

					<tr class="row">
						<td class="entry cellrowborder" style="vertical-align:top;" headers="d87508e45 "> deviceId </td>

						<td class="entry cellrowborder" style="vertical-align:top;" headers="d87508e48 "> When the notification is for device, this tag exists. </td>

						<td class="entry cellrowborder" style="vertical-align:top;" headers="d87508e51 "> dev1 </td>

					</tr>

					<tr class="row">
						<td class="entry cellrowborder" style="vertical-align:top;" headers="d87508e45 "> groupID </td>

						<td class="entry cellrowborder" style="vertical-align:top;" headers="d87508e48 "> When the notification is for group, this tag exists. </td>

						<td class="entry cellrowborder" style="vertical-align:top;" headers="d87508e51 "> gr1 </td>

					</tr>

				</tbody>
</table>

	</div>
<div class="topic concept nested1" aria-labelledby="ariaid-title2" id="concept_wjn_ft1_vlb"><h2 class="title topictitle2" id="ariaid-title2">Disabling EDR for lifecycle send notification action</h2>
<div class="body conbody">
			<p class="p">By default, EDR generation is enabled for send notification action in lifecycle.</p>

			<p class="p">To disable the EDR generation for this action, use the rule
					<code class="ph codeph">NOTIFICATION.Disable-Lifecycle-Notification-EDR</code>.</p>

		</div>
</div>
<div class="topic concept nested1" aria-labelledby="ariaid-title3" id="concept_tm3_dt1_vlb"><h2 class="title topictitle2" id="ariaid-title3">Disabling EDR logging for lifecycle actions</h2>
<div class="body conbody">
			<p class="p">By default, EDR logging is enabled for lifecycle actions. To disable this, set the
				application preference <strong class="ph b">Lifecycle CDR Logging Enabled</strong> to
					<span class="keyword parmname">false</span>. </p>

		</div>
</div>
<div class="topic concept nested1" aria-labelledby="ariaid-title4" id="concept_okv_kz5_23b"><h2 class="title topictitle2" id="ariaid-title4">Sample EDRs</h2>
<div class="body conbody">
			<div class="section" id="concept_okv_kz5_23b__section_ew3_kz5_23b">
				<div class="sectiondiv">
					<p class="p"><strong class="ph b">Group ELC</strong></p>

					<div class="fig fignone" id="concept_okv_kz5_23b__fig_fw3_kz5_23b">
						<pre class="pre codeblock"><code>-------------------------------------
CDR length:                       495
Release ID | Version ID:          7|2
Data record format | TS number:   1|7
Release identifier extension:       0
Name                         Tag                                  Data
RecordType                   0             LifeCycleNotificationRecord
serviceProvider              1                                   MVNO1
eventName                    1                         StartCycleEvent
entityId                     1    86092b47-5daa-4468-ada5-ba464b8c9905
entityType                   1                                   Group
triggeredBy                  1                                   AUDIT
groupID                      1    86092b47-5daa-4468-ada5-ba464b8c9905
notificationTemplateId       1                                   temp1
notificationTemplateParams   1     {APNRTRCOS=SPS, UNI=BYT, ACT=NOKIA, 
				         EVT=NOTRST, T=207, MDN=6246100001, 
				    	USE=0, TOS=ADMN, TIM=1530181642, 
				    				CID=C162461}
recipientId                  1                                      u1
entityLifeCycleName          1                               gr_1_enti
fromState                    1                                   start
toState                      1                                   start
generationTimestamp          1                     24/05/2019 11:39:23
RecordTimestamp              1                     24/05/2019 06:09:23
</code></pre>
					</div>

				</div>
				<div class="sectiondiv">
					<p class="p"><strong class="ph b">Account ELC</strong></p>

					<div class="fig fignone" id="concept_okv_kz5_23b__fig_gw3_kz5_23b">
						<pre class="pre codeblock"><code>-------------------------------------
CDR length:                       363
Release ID | Version ID:          7|2
Data record format | TS number:   1|7
Release identifier extension:       0
Name                     Tag                          Data
RecordType               0     LifeCycleNotificationRecord
serviceProvider          1                           MVNO1
eventName                1                 StartCycleEvent
entityId                 1                       ac_lipi_1
entityType               1                         Account
triggeredBy              1                           AUDIT
deviceId                 1                          D_lipi
notificationTemplateId   1                           temp1
recipientId              1                              u1
entityLifeCycleName      1                       ac_1_enti
fromState                1                           start
toState                  1                           start
generationTimestamp      1             23/05/2019 17:14:30
RecordTimestamp          1             23/05/2019 11:44:30</code></pre>
					</div>

				</div>
				<div class="sectiondiv">
					<p class="p"><strong class="ph b">Subscription ELC</strong></p>

					<div class="fig fignone" id="concept_okv_kz5_23b__fig_hw3_kz5_23b">
						<pre class="pre codeblock"><code>-------------------------------------
CDR length:                       419
Release ID | Version ID:          7|2
Data record format | TS number:   1|7
Release identifier extension:       0
Name                     Tag                                   Data
RecordType               0              LifeCycleNotificationRecord
serviceProvider          1                                    MVNO1
eventName                1                          StartCycleEvent
entityId                 1     3ffdaced-74e2-428f-9269-ae62bfc280ed
entityType               1                             Subscription
triggeredBy              1                                    AUDIT
deviceId                 1                                   D_lipi
notificationTemplateId   1                                    temp1
recipientId              1                                       u1
bundleId                 1                                 Bun_lipi
entityLifeCycleName      1                              Subs_1_enti
fromState                1                                    start
toState                  1                                    start
generationTimestamp      1                      23/05/2019 17:20:46
RecordTimestamp          1                      23/05/2019 11:50:46</code></pre>
					</div>

				</div>
				<div class="sectiondiv">
					<p class="p"><strong class="ph b">Device ELC</strong></p>

					<div class="fig fignone" id="concept_okv_kz5_23b__fig_iw3_kz5_23b">
						<pre class="pre codeblock"><code>-------------------------------------
CDR length:                       409
Release ID | Version ID:          7|2
Data record format | TS number:   1|7
Release identifier extension:       0
Name                         Tag                          Data
RecordType                   0     LifeCycleNotificationRecord
serviceProvider              1                           MVNO1
eventName                    1                 StartCycleEvent
entityId                     1                          D_lipi
entityType                   1                          Device
triggeredBy                  1                           AUDIT
deviceId                     1                          D_lipi
notificationTemplateId       1                           temp1
notificationTemplateParams   1               {deviceId=D_lipi}
recipientId                  1                              u1
entityLifeCycleName          1                      Dev_1_enti
fromState                    1                           start
toState                      1                           start
generationTimestamp          1             23/05/2019 17:25:38
RecordTimestamp              1             23/05/2019 11:55:38</code></pre>
					</div>

				</div>
				<div class="sectiondiv">
					<p class="p"><strong class="ph b">Subscription PLC</strong></p>

					<div class="fig fignone" id="concept_okv_kz5_23b__fig_jw3_kz5_23b">
						<pre class="pre codeblock"><code>-------------------------------------
CDR length:                       427
Release ID | Version ID:          7|2
Data record format | TS number:   1|7
Release identifier extension:       0
Name                     Tag                                   Data
RecordType               0              LifeCycleNotificationRecord
serviceProvider          1                                    MVNO1
eventName                1                          StartCycleEvent
entityId                 1     458af1fa-2437-4ae5-8bf1-241743d2c3bd
entityType               1                             Subscription
triggeredBy              1                                    AUDIT
deviceId                 1                                 d_lipi_1
notificationTemplateId   1                                    temp5
recipientId              1                                       u1
bundleId                 1                               bun_lipi_1
periodicLifeCycleName    1                            subs_2_period
fromState                1                                    start
toState                  1                                    start
generationTimestamp      1                      24/05/2019 15:08:48
RecordTimestamp          1                      24/05/2019 09:38:48</code></pre>
					</div>

				</div>
			</div>

		</div>
</div>
<div class="footer"><hr /><p>CDR/EDR Reference • P556766-DN1000055014-R23.8 • 1 • <a href="../home.html">Cover</a> • ©2023 Nokia. Nokia Confidential Information • Use subject to agreed restrictions on disclosure and use.</p></div></body>
</html>