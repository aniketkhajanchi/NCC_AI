<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2023" />
<meta name="DC.rights.owner" content="(C) Copyright 2023" />
<meta name="generator" content="DITA-OT" /><meta name="DC.type" content="concept" />
<meta name="DC.title" content="Loan usage threshold" />
<meta name="prodname" content="Nokia Converged Charging" />
<meta name="version" content="Release 23.8" />
<meta name="DC.format" content="XHTML" />
<meta name="DC.identifier" content="loan_usage_threshold" />
<link rel="stylesheet" type="text/css" href="../../web/css/commonltr.css" />
<link rel="stylesheet" type="text/css" href="../../web/css/styles.min.css" />
<link rel="stylesheet" type="text/css" href="../../web/css/common-extended.css" /><title>Loan usage threshold</title>
<script src="../web/js/nswtc.js" language="javascript" type="text/javascript">/*(◎_◎;)*/</script>
<script src="../../web/css/../js/script.min.js" language="javascript" type="text/javascript">/*(◎_◎;)*/</script>
</head>
<body id="loan_usage_threshold">
<div class="header"><div id="feedback-link-placeholder" class="feedback-link"></div><hr /></div><h1 class="title topictitle1" id="ariaid-title1">Loan usage threshold</h1>
<div class="body conbody">
        <p class="p">Loan usage threshold is applied (to account) to receive notification when loan
            consumption is started.</p>

        <ul class="ul" id="loan_usage_threshold__ul_tys_sfl_1tb">
            <li class="li">NCC does not allow any threshold value if the <var class="keyword varname">loanUsageFlag</var> is
                    <var class="keyword varname">true</var> in TPG, because NCC provides loan usage notification
                during the call execution.</li>

            <li class="li">TPG applied to get loan usage notification (loanUsageFlag = true) is applicable only
                for threshold profile Type <var class="keyword varname">Absolute from Zero</var> and can be applied
                only to Account.</li>

            <li class="li">In NCC GUI, TPG configuration for loan usage must be selected with <var class="keyword varname">Account
                    loan balances</var>. <div class="fig fignone" id="loan_usage_threshold__fig_wq2_fln_1tb">
                    <a href="../images/loan12.png" class="image"><img class="image break scalefit" id="loan_usage_threshold__image_nnj_gln_1tb" src="../images/loan12.png" /></a>
                </div>
</li>

            <li class="li">For loan usage notification, NCC allows to configure only one TPG of
                    <var class="keyword varname">loanUsageFlag</var> = <var class="keyword varname">true</var>.</li>

            <li class="li">With loan usage notification threshold, features like overage, recurring, threshold
                on reservation, OCS policy, and dynamic milestone, are not applicable and their
                related application preferences must be kept as <var class="keyword varname">false</var>.</li>

            <li class="li">Send Notification and Add-EDR actions are supported in loan usage threshold.
                Hard-Stop, Soft-Stop, SNR/RAR scenarios are not supported.</li>

        </ul>

        <div class="section" id="loan_usage_threshold__section_tc2_p4n_4tb"><h2 class="title sectiontitle">Slice reduction logic with loan usage threshold</h2>
            
            <p class="p">If slice allocation factor is set to 100% in slicing profile and loan usage threshold
                is configured, then slice reduction logic grants additional 1 base unit
                (byte/second/unit) to the GSU when the nearest delta comes from loan usage
                threshold. </p>

            <p class="p">This is done to avoid extra updates towards NCC since notification is expected when
                    <var class="keyword varname">account balance &lt; Loan-Amount</var> and not when
                    <var class="keyword varname">account balance = Loan-Amount</var>. This is in-line with behavior
                for other thresholds which are crossed when committed units are same as granted
                units. </p>

            <p class="p">If two thresholds (for example, loan balance threshold and main balance threshold)
                have the same value, then <var class="keyword varname">REJECT</var> and <var class="keyword varname">STOP</var> have
                higher priority. </p>

            <p class="p">If actions are same, loan balance threshold is given lower priority.</p>

            <div class="note" id="loan_usage_threshold__note_ydk_jrn_4tb"><div class="notetitle"><img src="../../web/css/../images/note.svg" title="note-icon" class="noteicon" />Note:</div> 
                <p class="p">In the logic of adding 1 unit to loan usage delta, consider the following points: </p>

                <ol class="ol" id="loan_usage_threshold__ol_xc2_p4n_4tb">
                    <li class="li">If <var class="keyword varname">REJECT</var> or <var class="keyword varname">STOP</var> are configured
                        within GSU and GSU+1 units, then 1 unit is not added to GSU. In this
                        scenario, the <var class="keyword varname">REJECT/STOP</var> actions have priority over loan
                        threshold.</li>

                    <li class="li">Delta value from loan usage threshold must be greater than 0. If delta value
                        = 0, then minimum slice with <var class="keyword varname">CONTINUE</var> action is
                        executed.</li>

                    <li class="li">Slice allocation factor must be 100%. If slice allocation factor is
                        &lt;100%, then it indicates that the allocated slice is explicitly reduced.
                        In this scenario, 1 unit is not added.</li>

                    <li class="li">The recommended threshold action with loan threshold is
                            <var class="keyword varname">CONTINUE</var>.</li>

                </ol>

            </div>

        </div>

    </div>
<div class="footer"><hr /><p>Charging User Guide • P556766-DN1000054947-R23.8 • 1 • <a href="../home.html">Cover</a> • ©2023 Nokia. Nokia Confidential Information • Use subject to agreed restrictions on disclosure and use.</p></div></body>
</html>