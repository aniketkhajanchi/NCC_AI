<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2023" />
<meta name="DC.rights.owner" content="(C) Copyright 2023" />
<meta name="generator" content="DITA-OT" /><meta name="DC.type" content="concept" />
<meta name="DC.title" content="disaster-recovery-helper.py" />
<meta name="prodname" content="Nokia Converged Charging" />
<meta name="version" content="Release 23.8" />
<meta name="DC.format" content="XHTML" />
<meta name="DC.identifier" content="disasterrecoveryhelperpy_tool" />
<link rel="stylesheet" type="text/css" href="../../web/css/commonltr.css" />
<link rel="stylesheet" type="text/css" href="../../web/css/styles.min.css" />
<link rel="stylesheet" type="text/css" href="../../web/css/common-extended.css" /><title>disaster-recovery-helper.py</title>
<script src="../web/js/nswtc.js" language="javascript" type="text/javascript">/*(◎_◎;)*/</script>
<script src="../../web/css/../js/script.min.js" language="javascript" type="text/javascript">/*(◎_◎;)*/</script>
</head>
<body id="disasterrecoveryhelperpy_tool">
<div class="header"><div id="feedback-link-placeholder" class="feedback-link"></div><hr /></div><h1 class="title topictitle1" id="ariaid-title1">disaster-recovery-helper.py</h1>
<div class="body conbody">
        <div class="section" id="disasterrecoveryhelperpy_tool__section_b2h_qrh_1qb"><h2 class="title sectiontitle">Description</h2>
            
            <p class="p">disaster-recovery-helper.py provides operational support for the disaster recovery
                processes.</p>

            <p class="p">The system to be recovered is called
                    <span class="ph filepath">recovery/recovering/non-healthy/target/destination</span>, and the
                system from where it will be recovered is called
                    <span class="ph filepath">local/healthy/non-recovering/non-recovery/source/current</span>.
                This is because the python tool runs on the local system which is healthy, not on
                the recovering system, which is not healthy except for truncation.</p>

            <p class="p">disaster-recovery-helper.py is applicable to all <span class="ph">NCC</span>
                system types. It displays the logs on standard output screen as well as logs to
                Kubernetes pod logs and in a file
                    <span class="ph filepath">/tmp/disaster-recovery-helper.py.log</span> for quick review. This
                tool produces Kubernetes pod logs in the format <code class="ph codeph">&lt;Date&gt;
                    &lt;container-name&gt; &lt;disaster-recovery-helper.py&gt; &lt;Log Level&gt; &lt;Log
                    Message&gt;</code>, whereas logs on standard output and in
                    <span class="ph filepath">/tmp/disaster-recovery-helper.py.log</span> file are in format
                    <code class="ph codeph">&lt;Date&gt; &lt;Log Level&gt; &lt;Message&gt;</code>.</p>

            <div class="p">These operations are included in this tool:<ul class="ul" id="disasterrecoveryhelperpy_tool__ul_emm_d1n_1qb">
                    <li class="li">Get details of common partitions and between recovering system and this
                        local system.</li>

                    <li class="li">Associate and dissociate common partitions between recovering and local
                            systems.<ul class="ul" id="disasterrecoveryhelperpy_tool__ul_rtt_f1n_1qb">
                            <li class="li">Forwarder is automatically disabled when these operations are
                                performed.</li>

                        </ul>
</li>

                    <li class="li">Truncate recovery system partitions.<ul class="ul" id="disasterrecoveryhelperpy_tool__ul_g4p_h1n_1qb">
                            <li class="li">Includes dscglobal as well. dsc is truncated when this tool is run
                                on an IG system. dsclocal can be truncated as well.</li>

                        </ul>
</li>

                    <li class="li">Initiate xdr-rewind of partitions on the healthy system.</li>

                    <li class="li">Get list of existing primary, secondary, and tertiary partitions of any
                        system.</li>

                    <li class="li">Read topology file
                            <code class="ph codeph">/opt/tpa/conf/topology/SpsTopologyConfiguration.yaml</code>
                        and get the value for any key.</li>

                    <li class="li">Display the list of all systems which have common namespaces.</li>

                    <li class="li">Check xdr-rewind status.</li>

                </ul>
</div>

        </div>

        <div class="section" id="disasterrecoveryhelperpy_tool__section_mjg_rrh_1qb"><h2 class="title sectiontitle">Syntax</h2>
            
            <p class="p">All option arguments shown in this section are case insensitive.</p>

            <div class="p">
                <pre class="pre codeblock" id="disasterrecoveryhelperpy_tool__codeblock_jn5_bbn_1qb"><code>/opt/tpa/bin/disaster-recovery-helper.py &lt;-h|--help&gt; [-d|--debug] [-y|--yes]
/opt/tpa/bin/disaster-recovery-helper.py [-y|--yes] [-d|--debug] &lt;[-t|--truncate [all]] | [ -w|--whereToRun [system name]]&gt;
/opt/tpa/bin/disaster-recovery-helper.py [-y|--yes] [-d|--debug] &lt;-r|--readTopology&gt; [spssite|spspartition] [value of inputKey] [outputKey] [inputKey]
/opt/tpa/bin/disaster-recovery-helper.py &lt;-s|--siteName&gt;&lt;recovering system name&gt;&lt;[-c|--commonPartition] | [-a|--association &lt;add|remove&gt;] | [-g|--getAssociation] | [-x|--xdr &lt;start|status [-l &lt;number&gt;]] | [-p|--partitions]&gt;[-d|--debug] [-y|--yes]</code></pre>
            </div>

            <table cellpadding="4" cellspacing="0" summary="" id="disasterrecoveryhelperpy_tool__table_wtq_srh_1qb" class="table" frame="border" border="1" rules="all"><colgroup><col /><col /><col /></colgroup><thead class="thead" style="text-align:left;">
                        <tr class="row">
                            <th class="entry cellrowborder" style="vertical-align:top;" id="d27388e132">Option</th>

                            <th class="entry cellrowborder" style="vertical-align:top;" id="d27388e135">Description</th>

                            <th class="entry cellrowborder" style="vertical-align:top;" id="d27388e138">Option arguments</th>

                        </tr>

                    </thead>
<tbody class="tbody">
                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d27388e132 "><code class="ph codeph">-a, --association</code></td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d27388e135 ">Associates and disassociates common partitions between local and
                                recovering systems. Disables forwarder in both the cases.<div class="note" id="disasterrecoveryhelperpy_tool__note_xlb_fgn_1qb"><div class="notetitle"><img src="../../web/css/../images/note.svg" title="note-icon" class="noteicon" />Note:</div> Applicable to only the healthy
                                    system.</div>
</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d27388e138 ">
                                <ul class="ul" id="disasterrecoveryhelperpy_tool__ul_wp1_gcn_1qb">
                                    <li class="li"><code class="ph codeph">add</code> for associate</li>

                                    <li class="li"><code class="ph codeph">remove</code> for disassociate</li>

                                </ul>

                                <div class="note" id="disasterrecoveryhelperpy_tool__note_s1c_3dn_1qb"><div class="notetitle"><img src="../../web/css/../images/note.svg" title="note-icon" class="noteicon" />Note:</div> <code class="ph codeph">-s</code> is mandatory when
                                    using this option.</div>

                            </td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d27388e132 "><code class="ph codeph">-c, --commonPartition</code></td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d27388e135 ">Displays the common partition between the local and the
                                recovering systems.<div class="note" id="disasterrecoveryhelperpy_tool__note_l2k_fgn_1qb"><div class="notetitle"><img src="../../web/css/../images/note.svg" title="note-icon" class="noteicon" />Note:</div> Applicable to only
                                    the healthy system.</div>
</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d27388e138 ">
                                <div class="note" id="disasterrecoveryhelperpy_tool__note_mxn_lcn_1qb"><div class="notetitle"><img src="../../web/css/../images/note.svg" title="note-icon" class="noteicon" />Note:</div> <code class="ph codeph">-s</code> is mandatory when
                                    using this option.</div>

                            </td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d27388e132 "><code class="ph codeph">-d, --debug</code></td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d27388e135 ">Enables debug mode.</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d27388e138 "> </td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d27388e132 "><code class="ph codeph">-g, --getAssociation</code></td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d27388e135 ">Gets associations details of common partitions between recovering
                                and local systems.<div class="note" id="disasterrecoveryhelperpy_tool__note_m25_fgn_1qb"><div class="notetitle"><img src="../../web/css/../images/note.svg" title="note-icon" class="noteicon" />Note:</div> Applicable to only the
                                    healthy system.</div>
</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d27388e138 "> </td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d27388e132 "><code class="ph codeph">-h, --help</code></td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d27388e135 ">Shows this help message.</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d27388e138 "> </td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d27388e132 "><code class="ph codeph">-l, --retry</code></td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d27388e135 ">Tells the script to retry on failure. Each retry has a gap of 30
                                    seconds.<div class="note" id="disasterrecoveryhelperpy_tool__note_wgz_fgn_1qb"><div class="notetitle"><img src="../../web/css/../images/note.svg" title="note-icon" class="noteicon" />Note:</div> Applicable to only the
                                    healthy system.</div>
</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d27388e138 ">Accepts a number <code class="ph codeph">n</code> which signifies the number of
                                retries. If status is complete before the <code class="ph codeph">n</code> number
                                of retries, then the script will stop initiating retry attempts and
                                exit; else, it will run <code class="ph codeph">n</code> times and exit with the
                                    status.<div class="note" id="disasterrecoveryhelperpy_tool__note_jsp_ddn_1qb"><div class="notetitle"><img src="../../web/css/../images/note.svg" title="note-icon" class="noteicon" />Note:</div> <code class="ph codeph">-x status</code> is
                                    mandatory when using this option.</div>
</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d27388e132 "><code class="ph codeph">-p, --partitions</code></td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d27388e135 ">Returns partitions list of a system mentioned in
                                    <code class="ph codeph">-s</code>. The list is in order of primary, secondary,
                                and then tertiary partition. Only existing partitions are
                                listed.</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d27388e138 ">
                                <div class="note" id="disasterrecoveryhelperpy_tool__note_kfc_jdn_1qb"><div class="notetitle"><img src="../../web/css/../images/note.svg" title="note-icon" class="noteicon" />Note:</div> <code class="ph codeph">-s</code> is mandatory when
                                    using this option.</div>

                            </td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d27388e132 "><code class="ph codeph">-r, --readTopology</code></td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d27388e135 ">Returns the value of a key from the topology. If no key is
                                passed, then it returns topology. If <code class="ph codeph">-d</code> option is
                                used, make sure to set it before <code class="ph codeph">-r</code>. This option
                                must be the last option to be set in the command.</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d27388e138 ">This option takes a maximum of four arguments, which may be
                                passed in this order.<ol class="ol" id="disasterrecoveryhelperpy_tool__ol_orz_pdn_1qb">
                                    <li class="li">element (spssite or spspartition)</li>

                                    <li class="li">value of inputKey</li>

                                    <li class="li">outputKey (Default: name)</li>

                                    <li class="li">inputKey (Default: id)</li>

                                </ol>
</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d27388e132 "><code class="ph codeph">-s, --siteName</code></td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d27388e135 ">The recovering system name or ID. This option may be used in
                                conjunction with the <code class="ph codeph">-c</code>, <code class="ph codeph">-a</code>,
                                    <code class="ph codeph">-g</code>, <code class="ph codeph">-x</code>, and the
                                    <code class="ph codeph">-p</code> options.</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d27388e138 "> </td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d27388e132 "><code class="ph codeph">-t, --truncate</code></td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d27388e135 ">Truncates partitions and dsc global namespaces, excluding
                                dsclocal. If <code class="ph codeph">-d</code> or <code class="ph codeph">-y</code> option is
                                used, make sure to set it before <code class="ph codeph">-t</code>. This option
                                must be the last option to be set in the command.<div class="note" id="disasterrecoveryhelperpy_tool__note_c5m_2gn_1qb"><div class="notetitle"><img src="../../web/css/../images/note.svg" title="note-icon" class="noteicon" />Note:</div> Applicable to only the recovering
                                    system.</div>
</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d27388e138 ">Default behavior excludes dsclocal from truncation. Optional
                                input parameter <code class="ph codeph">all</code> specifies dsclocal should be
                                included in truncation.</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d27388e132 "><code class="ph codeph">-w, --whereToRun</code></td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d27388e135 ">Displays list of systems where this tool must be run. If
                                    <code class="ph codeph">-d</code> option is used, make sure to set it before
                                    <code class="ph codeph">-w</code>. This option must be the last option to be
                                set in the command.</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d27388e138 ">Accepts <code class="ph codeph">system name</code> as optional parameter. If
                                not provided, it uses the local system name.</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d27388e132 "><code class="ph codeph">-x, --xdr</code></td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d27388e135 ">Starts xdr-rewind, enables forwarder, and checks xdr-rewind
                                status from local system towards recovering system.<div class="note" id="disasterrecoveryhelperpy_tool__note_glf_ggn_1qb"><div class="notetitle"><img src="../../web/css/../images/note.svg" title="note-icon" class="noteicon" />Note:</div> Applicable to only the healthy
                                    system.</div>
</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d27388e138 ">The acceptable input values are :<ul class="ul" id="disasterrecoveryhelperpy_tool__ul_q4r_3fn_1qb">
                                    <li class="li"><code class="ph codeph">start</code>: starts xdr-rewind and gives the set
                                        of commands which will be run to recover partitions, and
                                        also informs if any namespace of the system is not
                                        recoverable from any system.</li>

                                    <li class="li"><code class="ph codeph">status</code>: retrieves xdr-rewind status, and if
                                        in progress, then it will also show the total
                                            <code class="ph codeph">recoveries_pending</code> count.<ul class="ul" id="disasterrecoveryhelperpy_tool__ul_ujh_nfn_1qb">
                                            <li class="li">To check xdr-rewind status for a specific number of
                                                times <code class="ph codeph">&lt;n&gt;</code>, the additional flag
                                                  <code class="ph codeph">-l &lt;n&gt;</code> may be used.</li>

                                        </ul>
</li>

                                </ul>
</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d27388e132 "><code class="ph codeph">-y, --yes</code></td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d27388e135 ">Disables any kind of user intervention. This option may be used
                                in conjunction with the <code class="ph codeph">-t</code>, <code class="ph codeph">-x
                                    start</code>, and the <code class="ph codeph">-a</code> options.<div class="note" id="disasterrecoveryhelperpy_tool__note_k3j_ggn_1qb"><div class="notetitle"><img src="../../web/css/../images/note.svg" title="note-icon" class="noteicon" />Note:</div> Applicable to only the healthy
                                    system.</div>
</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d27388e138 "> </td>

                        </tr>

                    </tbody>
</table>

        </div>

        <div class="section" id="disasterrecoveryhelperpy_tool__section_chp_3gn_1qb"><h2 class="title sectiontitle">Sample topology file</h2>
            
            <div class="p">
                <pre class="pre codeblock" id="disasterrecoveryhelperpy_tool__codeblock_bvy_lgn_1qb"><code>config:
topology:
spspartition:
- id: 2
name: ME2-ME3
siteids:
- 2
- 3
- id: 5
name: ME5-ME6-ME7
siteids:
- 5
- 6
- 7
- id: 6
name: ME6-ME5-ME8
siteids:
- 6
- 5
- 8
- id: 7
name: ME7-ME8-ME5
siteids:
- 7
- 8
- 5
- id: 8
name: ME8-ME7-ME6
siteids:
- 8
- 7
- 6
spssite:
- id: 1
location: Austin
matesite: null
name: sm1
oamipaddress: sm1vzrm.dyn.nesc.nokia.net
oamport: 80
oamprotocol: http
primarysmsite: true
trafficipaddress: sm1vzrm.dyn.nesc.nokia.net
trafficport: 80
trafficprotocol: http
types:
- SPS-SM
xdr:
externalips: []
- id: 2
location: Austin
matesite: 3
name: me2
oamipaddress: me2vzrm.dyn.nesc.nokia.net
oamport: 80
oamprotocol: http
originhost: me2
originrealm: realm
primarysmsite: false
trafficipaddress: me2vzrm.dyn.nesc.nokia.net
trafficport: 80
trafficprotocol: http
types:
- SPS-Policy
- SPS-Charging
- SPS-Notification
- SPS-CE
xdr:
externalips:
- me2vzrm.dyn.nesc.nokia.net
externalport: 3008
- id: 3
location: Austin
matesite: 2
name: me3
oamipaddress: me3vzrm.dyn.nesc.nokia.net
oamport: 80
oamprotocol: http
originhost: me3
originrealm: realm
primarysmsite: false
trafficipaddress: me3vzrm.dyn.nesc.nokia.net
trafficport: 80
trafficprotocol: http
types:
- SPS-Policy
- SPS-Charging
- SPS-Notification
- SPS-CE
xdr:
externalips:
- me3vzrm.dyn.nesc.nokia.net
externalport: 3008
- id: 5
location: Austin
matesite: 6
name: me5
oamipaddress: me5vzrm.dyn.nesc.nokia.net
oamport: 80
oamprotocol: http
originhost: me5
originrealm: realm
primarysmsite: false
trafficipaddress: me5vzrm.dyn.nesc.nokia.net
trafficport: 80
trafficprotocol: http
types:
- SPS-Policy
- SPS-Charging
- SPS-Notification
- SPS-CE
xdr:
externalips:
- me5vzrm.dyn.nesc.nokia.net
externalport: 3008
- id: 6
location: Austin
matesite: 5
name: me6
oamipaddress: me6vzrm.dyn.nesc.nokia.net
oamport: 80
oamprotocol: http
originhost: me6
originrealm: realm
primarysmsite: false
trafficipaddress: me6vzrm.dyn.nesc.nokia.net
trafficport: 80
trafficprotocol: http
types:
- SPS-Policy
- SPS-Charging
- SPS-Notification
- SPS-CE
xdr:
externalips:
- me6vzrm.dyn.nesc.nokia.net
externalport: 3008
- id: 7
location: Austin
matesite: 8
name: me7
oamipaddress: me7vzrm.dyn.nesc.nokia.net
oamport: 80
oamprotocol: http
originhost: me7
originrealm: realm
primarysmsite: false
trafficipaddress: me7vzrm.dyn.nesc.nokia.net
trafficport: 80
trafficprotocol: http
types:
- SPS-Policy
- SPS-Charging
- SPS-Notification
- SPS-CE
xdr:
externalips:
- me7vzrm.dyn.nesc.nokia.net
externalport: 3008
- id: 8
location: Austin
matesite: 7
name: me8
oamipaddress: me8vzrm.dyn.nesc.nokia.net
oamport: 80
oamprotocol: http
originhost: me8
originrealm: realm
primarysmsite: false
trafficipaddress: me8vzrm.dyn.nesc.nokia.net
trafficport: 80
trafficprotocol: http
types:
- SPS-Policy
- SPS-Charging
- SPS-Notification
- SPS-CE
xdr:
externalips:
- me8vzrm.dyn.nesc.nokia.net
externalport: 3008
- id: 9
location: Austin
matesite: null
name: rt9
oamipaddress: rt9vzrm.dyn.nesc.nokia.net
oamport: 80
oamprotocol: http
originhost: rt9
originrealm: realm
primarysmsite: false
trafficipaddress: rt9vzrm.dyn.nesc.nokia.net
trafficport: 80
trafficprotocol: http
types:
- SPS-Policy
- SPS-Charging
- SPS-Notification
- SPS-CE
xdr:
externalips:
- rt9vzrm.dyn.nesc.nokia.net
externalport: 3008</code></pre>
            </div>

        </div>

        <div class="section" id="disasterrecoveryhelperpy_tool__section_aqx_srh_1qb"><h2 class="title sectiontitle">Examples</h2>
            
            <div class="p">This example shows expected output when using the <code class="ph codeph">-c</code> common
                partitions
                flag.<pre class="pre codeblock" id="disasterrecoveryhelperpy_tool__codeblock_vbb_ygn_1qb"><code>[tpaadmin@...]$ disaster-recovery-helper.py -s me7 -c
['dscglobal', 'spspd5', 'spspd8']</code></pre></div>

            <div class="p">This example shows expected output when using the <code class="ph codeph">-a</code> associations
                flag.<pre class="pre codeblock" id="disasterrecoveryhelperpy_tool__codeblock_omy_bhn_1qb"><code>[tpaadmin@...]$ disaster-recovery-helper.py -s me7 -a remove
2021-06-14T14:35:53,440 INFO: Going to associate the partitions and dscglobal namespaces of target site 'me7' from source site 'me5'. Also, going to disable the forwarder.
2021-06-14T14:36:25,740 INFO: Going to run following set of commands on 'me5' :
{
/opt/aerospike/bin/asadm -e "asinfo -v 'set-config:context=xdr;dc=spssite7;namespace=dscglobal;action=remove'";
/opt/aerospike/bin/asadm -e "asinfo -v 'set-config:context=xdr;dc=spssite7;namespace=dscglobal;forward=false'";
}
Do you want to continue?: y|yes|n|no
y
2021-06-14T14:36:48,932 INFO: Going to run command /opt/aerospike/bin/asadm -e "asinfo -v 'set-config:context=xdr;dc=spssite7;namespace=dscglobal;action=remove'"
2021-06-14T14:36:49,667 INFO: The result is
Seed: [('me-aerospike-aerospike-service.sps-btel-me5.svc.cluster.local', 3010, '*.dyn.nesc.nokia.net')]
Config_file: /opt/tpa/users/tpaadmin/.aerospike/astools.conf, /etc/aerospike/astools.conf
disasterme-aerospike-rk2-0.me-aerospike-aerospike-service.sps-btel-me5.svc.cluster.local:3010 (192.168.66.114) returned:
ok

disasterme-aerospike-rk1-1.me-aerospike-aerospike-service.sps-btel-me5.svc.cluster.local:3010 (192.168.165.154) returned:
ok

disasterme-aerospike-rk2-1.me-aerospike-aerospike-service.sps-btel-me5.svc.cluster.local:3010 (192.168.142.240) returned:
ok

disasterme-aerospike-rk1-0.me-aerospike-aerospike-service.sps-btel-me5.svc.cluster.local:3010 (192.168.100.232) returned:
ok

2021-06-14T14:36:51,776 INFO: Going to run command /opt/aerospike/bin/asadm -e "asinfo -v 'set-config:context=xdr;dc=spssite7;namespace=dscglobal;forward=false'"
2021-06-14T14:36:52,824 INFO: The result is
Seed: [('me-aerospike-aerospike-service.sps-btel-me5.svc.cluster.local', 3010, '*.dyn.nesc.nokia.net')]
Config_file: /opt/tpa/users/tpaadmin/.aerospike/astools.conf, /etc/aerospike/astools.conf
disasterme-aerospike-rk2-0.me-aerospike-aerospike-service.sps-btel-me5.svc.cluster.local:3010 (192.168.66.114) returned:
ok

disasterme-aerospike-rk1-0.me-aerospike-aerospike-service.sps-btel-me5.svc.cluster.local:3010 (192.168.100.232) returned:
ok

disasterme-aerospike-rk2-1.me-aerospike-aerospike-service.sps-btel-me5.svc.cluster.local:3010 (192.168.142.240) returned:
ok

disasterme-aerospike-rk1-1.me-aerospike-aerospike-service.sps-btel-me5.svc.cluster.local:3010 (192.168.165.154) returned:
ok
2021-06-14T14:36:52,852 INFO: Exiting...
INFO: Logs can be seen in log file '/tmp/disaster-recovery-helper.py.log'.</code></pre></div>

            <div class="p">This example shows expected output when using the <code class="ph codeph">-g</code>
                get-associations
                flag.<pre class="pre codeblock" id="disasterrecoveryhelperpy_tool__codeblock_tbq_ghn_1qb"><code>[tpaadmin@...]$ disaster-recovery-helper.py -s me6 -g

2021-06-14T11:49:32,458 INFO: Getting association details of partitions and dscglobal namespaces for target site 'me6' from source site 'me5'.
2021-06-14T11:49:32,511 INFO: Going to run following set of commands on 'me5' :
{
/opt/aerospike/bin/asadm -e "asinfo -v 'get-config:context=xdr;dc=spssite6;namespace=spspd6'";
/opt/aerospike/bin/asadm -e "asinfo -v 'get-config:context=xdr;dc=spssite6;namespace=spspd5'";
/opt/aerospike/bin/asadm -e "asinfo -v 'get-config:context=xdr;dc=spssite6;namespace=dscglobal'";
}
2021-06-14T11:49:32,543 INFO: Going to run command '/opt/aerospike/bin/asadm -e "asinfo -v 'get-config:context=xdr;dc=spssite6;namespace=spspd6'";'.
2021-06-14T11:49:33,530 INFO: The result is
Seed: [('me-aerospike-service.sps-btel-me5.svc.cluster.local', 3010, '*.dyn.nesc.nokia.net')]
Config_file: /opt/tpa/users/tpaadmin/.aerospike/astools.conf, /etc/aerospike/astools.conf
growthme-aerospike-rk2-1.me-aerospike-service.sps-btel-me5.svc.cluster.local:3010 (192.168.58.87) returned:
enabled=true;bin-policy=all;compression-level=1;delay-ms=0;enable-compression=false;forward=false;hot-key-ms=100;ignored-bins=;ignore-expunges=false;ignored-sets=;max-throughput=100000;remote-namespace=null;sc-replication-wait-ms=100;shipped-bins=;ship-nsup-deletes=false;ship-only-specified-sets=false;shipped-sets=;transaction-queue-limit=16384;write-policy=auto

growthme-aerospike-rk1-0.me-aerospike-service.sps-btel-me5.svc.cluster.local:3010 (192.168.228.53) returned:
enabled=true;bin-policy=all;compression-level=1;delay-ms=0;enable-compression=false;forward=false;hot-key-ms=100;ignored-bins=;ignore-expunges=false;ignored-sets=;max-throughput=100000;remote-namespace=null;sc-replication-wait-ms=100;shipped-bins=;ship-nsup-deletes=false;ship-only-specified-sets=false;shipped-sets=;transaction-queue-limit=16384;write-policy=auto

growthme-aerospike-rk1-1.me-aerospike-service.sps-btel-me5.svc.cluster.local:3010 (192.168.97.141) returned:
enabled=true;bin-policy=all;compression-level=1;delay-ms=0;enable-compression=false;forward=false;hot-key-ms=100;ignored-bins=;ignore-expunges=false;ignored-sets=;max-throughput=100000;remote-namespace=null;sc-replication-wait-ms=100;shipped-bins=;ship-nsup-deletes=false;ship-only-specified-sets=false;shipped-sets=;transaction-queue-limit=16384;write-policy=auto

growthme-aerospike-rk2-0.me-aerospike-service.sps-btel-me5.svc.cluster.local:3010 (192.168.125.178) returned:
enabled=true;bin-policy=all;compression-level=1;delay-ms=0;enable-compression=false;forward=false;hot-key-ms=100;ignored-bins=;ignore-expunges=false;ignored-sets=;max-throughput=100000;remote-namespace=null;sc-replication-wait-ms=100;shipped-bins=;ship-nsup-deletes=false;ship-only-specified-sets=false;shipped-sets=;transaction-queue-limit=16384;write-policy=auto
2021-06-14T11:49:33,567 INFO: Going to run command '/opt/aerospike/bin/asadm -e "asinfo -v 'get-config:context=xdr;dc=spssite6;namespace=spspd5'";'.
2021-06-14T11:49:34,406 INFO: The result is
Seed: [('me-aerospike-service.sps-btel-me5.svc.cluster.local', 3010, '*.dyn.nesc.nokia.net')]
Config_file: /opt/tpa/users/tpaadmin/.aerospike/astools.conf, /etc/aerospike/astools.conf
growthme-aerospike-rk2-1.me-aerospike-service.sps-btel-me5.svc.cluster.local:3010 (192.168.58.87) returned:
enabled=true;bin-policy=all;compression-level=1;delay-ms=0;enable-compression=false;forward=false;hot-key-ms=100;ignored-bins=;ignore-expunges=false;ignored-sets=;max-throughput=100000;remote-namespace=null;sc-replication-wait-ms=100;shipped-bins=;ship-nsup-deletes=false;ship-only-specified-sets=false;shipped-sets=;transaction-queue-limit=16384;write-policy=auto

growthme-aerospike-rk1-0.me-aerospike-service.sps-btel-me5.svc.cluster.local:3010 (192.168.228.53) returned:
enabled=true;bin-policy=all;compression-level=1;delay-ms=0;enable-compression=false;forward=false;hot-key-ms=100;ignored-bins=;ignore-expunges=false;ignored-sets=;max-throughput=100000;remote-namespace=null;sc-replication-wait-ms=100;shipped-bins=;ship-nsup-deletes=false;ship-only-specified-sets=false;shipped-sets=;transaction-queue-limit=16384;write-policy=auto

growthme-aerospike-rk1-1.me-aerospike-service.sps-btel-me5.svc.cluster.local:3010 (192.168.97.141) returned:
enabled=true;bin-policy=all;compression-level=1;delay-ms=0;enable-compression=false;forward=false;hot-key-ms=100;ignored-bins=;ignore-expunges=false;ignored-sets=;max-throughput=100000;remote-namespace=null;sc-replication-wait-ms=100;shipped-bins=;ship-nsup-deletes=false;ship-only-specified-sets=false;shipped-sets=;transaction-queue-limit=16384;write-policy=auto

growthme-aerospike-rk2-0.me-aerospike-service.sps-btel-me5.svc.cluster.local:3010 (192.168.125.178) returned:
enabled=true;bin-policy=all;compression-level=1;delay-ms=0;enable-compression=false;forward=false;hot-key-ms=100;ignored-bins=;ignore-expunges=false;ignored-sets=;max-throughput=100000;remote-namespace=null;sc-replication-wait-ms=100;shipped-bins=;ship-nsup-deletes=false;ship-only-specified-sets=false;shipped-sets=;transaction-queue-limit=16384;write-policy=auto
2021-06-14T11:49:34,437 INFO: Going to run command '/opt/aerospike/bin/asadm -e "asinfo -v 'get-config:context=xdr;dc=spssite6;namespace=dscglobal'";'.
2021-06-14T11:49:35,266 INFO: The result is
Seed: [('me-aerospike-service.sps-btel-me5.svc.cluster.local', 3010, '*.dyn.nesc.nokia.net')]
Config_file: /opt/tpa/users/tpaadmin/.aerospike/astools.conf, /etc/aerospike/astools.conf
growthme-aerospike-rk2-1.me-aerospike-service.sps-btel-me5.svc.cluster.local:3010 (192.168.58.87) returned:
enabled=true;bin-policy=all;compression-level=1;delay-ms=0;enable-compression=false;forward=false;hot-key-ms=100;ignored-bins=;ignore-expunges=false;ignored-sets=;max-throughput=100000;remote-namespace=null;sc-replication-wait-ms=100;shipped-bins=;ship-nsup-deletes=false;ship-only-specified-sets=false;shipped-sets=;transaction-queue-limit=16384;write-policy=auto

growthme-aerospike-rk1-1.me-aerospike-service.sps-btel-me5.svc.cluster.local:3010 (192.168.97.141) returned:
enabled=true;bin-policy=all;compression-level=1;delay-ms=0;enable-compression=false;forward=false;hot-key-ms=100;ignored-bins=;ignore-expunges=false;ignored-sets=;max-throughput=100000;remote-namespace=null;sc-replication-wait-ms=100;shipped-bins=;ship-nsup-deletes=false;ship-only-specified-sets=false;shipped-sets=;transaction-queue-limit=16384;write-policy=auto

growthme-aerospike-rk1-0.me-aerospike-service.sps-btel-me5.svc.cluster.local:3010 (192.168.228.53) returned:
enabled=true;bin-policy=all;compression-level=1;delay-ms=0;enable-compression=false;forward=false;hot-key-ms=100;ignored-bins=;ignore-expunges=false;ignored-sets=;max-throughput=100000;remote-namespace=null;sc-replication-wait-ms=100;shipped-bins=;ship-nsup-deletes=false;ship-only-specified-sets=false;shipped-sets=;transaction-queue-limit=16384;write-policy=auto

growthme-aerospike-rk2-0.me-aerospike-service.sps-btel-me5.svc.cluster.local:3010 (192.168.125.178) returned:
enabled=true;bin-policy=all;compression-level=1;delay-ms=0;enable-compression=false;forward=false;hot-key-ms=100;ignored-bins=;ignore-expunges=false;ignored-sets=;max-throughput=100000;remote-namespace=null;sc-replication-wait-ms=100;shipped-bins=;ship-nsup-deletes=false;ship-only-specified-sets=false;shipped-sets=;transaction-queue-limit=16384;write-policy=auto
2021-06-14T11:49:35,301 INFO: Exiting...</code></pre></div>

            <div class="p">This example shows expected output when using the <code class="ph codeph">-x</code> xdr
                flag.<pre class="pre codeblock" id="disasterrecoveryhelperpy_tool__codeblock_vnn_khn_1qb"><code>[tpaadmin@...]$ disaster-recovery-helper.py -s me6 -x status
2021-06-14T11:51:09,367 INFO: Checking xdr-rewind status of target site 'me6' from source site 'me5'.
2021-06-14T11:51:10,144 INFO: xdr-rewind is complete.
2021-06-14T11:51:10,195 INFO: Exiting...
INFO: Logs can be seen in log file '/tmp/disaster-recovery-helper.py.log'.
</code></pre><pre class="pre codeblock" id="disasterrecoveryhelperpy_tool__codeblock_lng_nhn_1qb"><code>[tpaadmin@...]$ disaster-recovery-helper.py -s me6 -x start
2021-06-14T14:36:51,088 INFO: Going to enable forwarder and start xdr-rewind for target site 'me6' from source site 'me5'.
2021-06-14T14:36:51,135 INFO: Going to run following set of commands on 'me5' :
{
/opt/aerospike/bin/asadm -e "asinfo -v 'set-config:context=xdr;dc=spssite6;namespace=spspd5;forward=true'";
/opt/aerospike/bin/asadm -e "asinfo -v 'set-config:context=xdr;dc=spssite6;namespace=spspd5;action=add;forward=true;rewind=all'";
}

Do you want to continue?: y|yes|n|no
y

2021-06-14T14:36:51,776 INFO: Going to run command '/opt/aerospike/bin/asadm -e "asinfo -v 'set-config:context=xdr;dc=spssite6;namespace=dscglobal;forward=true'"'
2021-06-14T14:36:52,824 INFO: The result is
Seed: [('me-aerospike-aerospike-service.sps-btel-me5.svc.cluster.local', 3010, '*.dyn.nesc.nokia.net')]
Config_file: /opt/tpa/users/tpaadmin/.aerospike/astools.conf, /etc/aerospike/astools.conf
disasterme-aerospike-rk2-0.me-aerospike-aerospike-service.sps-btel-me5.svc.cluster.local:3010 (192.168.66.114) returned:
ok

disasterme-aerospike-rk1-0.me-aerospike-aerospike-service.sps-btel-me5.svc.cluster.local:3010 (192.168.100.232) returned:
ok

disasterme-aerospike-rk2-1.me-aerospike-aerospike-service.sps-btel-me5.svc.cluster.local:3010 (192.168.142.240) returned:
ok

disasterme-aerospike-rk1-1.me-aerospike-aerospike-service.sps-btel-me5.svc.cluster.local:3010 (192.168.165.154) returned:
ok

2021-06-14T14:36:51,776 INFO: Going to run command '/opt/aerospike/bin/asadm -e "asinfo -v 'set-config:context=xdr;dc=spssite6;namespace=dscglobal;action=add;forward=true;rewind=all'"'
2021-06-14T14:36:52,824 INFO: The result is
Seed: [('me-aerospike-aerospike-service.sps-btel-me5.svc.cluster.local', 3010, '*.dyn.nesc.nokia.net')]
Config_file: /opt/tpa/users/tpaadmin/.aerospike/astools.conf, /etc/aerospike/astools.conf
disasterme-aerospike-rk2-0.me-aerospike-aerospike-service.sps-btel-me5.svc.cluster.local:3010 (192.168.66.114) returned:
ok

disasterme-aerospike-rk1-0.me-aerospike-aerospike-service.sps-btel-me5.svc.cluster.local:3010 (192.168.100.232) returned:
ok

disasterme-aerospike-rk2-1.me-aerospike-aerospike-service.sps-btel-me5.svc.cluster.local:3010 (192.168.142.240) returned:
ok

disasterme-aerospike-rk1-1.me-aerospike-aerospike-service.sps-btel-me5.svc.cluster.local:3010 (192.168.165.154) returned:
ok

2021-06-14T14:36:52,852 INFO: Exiting...
INFO: Logs can be seen in log file '/tmp/disaster-recovery-helper.py.log'.</code></pre></div>

            <div class="p">This example shows expected output when using the <code class="ph codeph">-l</code> retry
                flag.<pre class="pre codeblock" id="disasterrecoveryhelperpy_tool__codeblock_bfy_phn_1qb"><code>[tpaadmin@...]$ disaster-recovery-helper.py -s me7 -x status -l 4

2021-06-23T07:27:35,837 INFO: Checking xdr-rewind status of target site 'me7' from source site 'me8'.
2021-06-23T07:27:36,698 INFO: xdr-rewind is in progress with total recoveries_pending = 2
2021-06-23T07:28:07,581 INFO: xdr-rewind is in progress with total recoveries_pending = 2
2021-06-23T07:28:38,473 INFO: xdr-rewind is in progress with total recoveries_pending = 2
2021-06-23T07:29:09,317 INFO: xdr-rewind is in progress with total recoveries_pending = 2
2021-06-23T07:29:09,374 INFO: The output of command '/opt/aerospike/bin/asadm -e "asinfo -v 'get-stats:context=xdr;dc=spssite7'"' is :
Seed: [('me-aerospike-service.sps-btel-me8.svc.cluster.local', 3010, '*.dyn.nesc.nokia.net')]
Config_file: /opt/tpa/users/tpaadmin/.aerospike/astools.conf, /etc/aerospike/astools.conf
me8me-aerospike-rk1-0.me-aerospike-service.sps-btel-me8.svc.cluster.local:3010 (192.168.117.6) returned:
lag=173794;in_queue=0;in_progress=1;success=0;abandoned=0;not_found=0;filtered_out=0;retry_no_node=0;retry_conn_reset=1519410;retry_dest=0;recoveries=51263;recoveries_pending=0;hot_keys=0;uncompressed_pct=0.000;compression_ratio=1.000;nodes=1;throughput=0;latency_ms=0;lap_us=2889

me8me-aerospike-rk2-0.me-aerospike-service.sps-btel-me8.svc.cluster.local:3010 (192.168.111.12) returned:
lag=362129346;in_queue=0;in_progress=1;success=0;abandoned=0;not_found=0;filtered_out=0;retry_no_node=0;retry_conn_reset=1496887;retry_dest=0;recoveries=50187;recoveries_pending=1;hot_keys=0;uncompressed_pct=0.000;compression_ratio=1.000;nodes=1;throughput=0;latency_ms=0;lap_us=2948

me8me-aerospike-rk2-1.me-aerospike-service.sps-btel-me8.svc.cluster.local:3010 (192.168.56.161) returned:
lag=362129346;in_queue=0;in_progress=4;success=0;abandoned=0;not_found=0;filtered_out=0;retry_no_node=0;retry_conn_reset=5322785;retry_dest=0;recoveries=51601;recoveries_pending=1;hot_keys=0;uncompressed_pct=0.000;compression_ratio=1.000;nodes=1;throughput=0;latency_ms=0;lap_us=2880

me8me-aerospike-rk1-1.me-aerospike-service.sps-btel-me8.svc.cluster.local:3010 (192.168.58.74) returned:
lag=173794;in_queue=0;in_progress=1;success=0;abandoned=0;not_found=0;filtered_out=0;retry_no_node=0;retry_conn_reset=1519355;retry_dest=0;recoveries=123948;recoveries_pending=0;hot_keys=0;uncompressed_pct=0.000;compression_ratio=1.000;nodes=1;throughput=0;latency_ms=0;lap_us=3349
2021-06-23T07:29:09,406 INFO: Exiting...</code></pre></div>

            <div class="p">This example shows expected output when using the <code class="ph codeph">-t</code> truncate
                flag.<pre class="pre codeblock" id="disasterrecoveryhelperpy_tool__codeblock_sbz_shn_1qb"><code>[tpaadmin@...]$ disaster-recovery-helper.py -y -d -t
2021-06-14T08:52:21,457 DEBUG: Opening topology file /opt/tpa/conf/topology/SpsTopologyConfiguration.yaml in read mode.
2021-06-14T08:52:21,522 DEBUG: Getting the local site name.
2021-06-14T08:52:21,554 ERROR: -t option accepts only 'all' as an optional argument.
2021-06-14T08:52:21,587 INFO: Exiting...
2021-06-14T08:52:40,269 DEBUG: Opening topology file /opt/tpa/conf/topology/SpsTopologyConfiguration.yaml in read mode.
2021-06-14T08:52:40,335 DEBUG: Getting the local site name.
2021-06-14T08:52:40,373 DEBUG: Checking if recovery site 'me5' exists in topology.
2021-06-14T08:52:40,406 DEBUG: Recovery site 'me5' exists.
2021-06-14T08:52:40,439 DEBUG: Getting partitions list of site-name 'me5'.
2021-06-14T08:52:40,474 DEBUG: Getting the list of partitions for site-id '5'.
2021-06-14T08:52:40,506 DEBUG: List of partitions of site-name 'me5' is : ['spspd5', 'spspd6', 'spspd8']
2021-06-14T08:52:40,538 DEBUG: Checking if local site 'me5' exists in topology
2021-06-14T08:52:40,578 DEBUG: Finding value of 'id' for 'spssite' in /opt/tpa/conf/topology/SpsTopologyConfiguration.yaml whose 'name' = me5.
2021-06-14T08:52:40,611 DEBUG: Converting site id '5' to spssite id
2021-06-14T08:52:40,648 DEBUG: Converting site id '5' to spssite id
2021-06-14T08:52:40,682 INFO: Going to start truncating partitions and dscglobal namespaces of target site 'me5' on source site 'me5'.
2021-06-14T08:52:40,741 INFO: Going to run following set of commands on 'me5' :
{
/opt/tpa/aerospike/bin/asinfo -v "truncate-namespace:namespace=spspd5";
/opt/tpa/aerospike/bin/asinfo -v "truncate-namespace:namespace=spspd6";
/opt/tpa/aerospike/bin/asinfo -v "truncate-namespace:namespace=spspd8";
/opt/tpa/aerospike/bin/asinfo -v "truncate-namespace:namespace=dscglobal";
}
2021-06-14T08:52:40,775 DEBUG: Taking user confirmation to proceed furthur.

2021-06-14T08:52:41,205 INFO: Going to run command '/opt/tpa/aerospike/bin/asinfo -v "truncate-namespace:namespace=spspd5"'
2021-06-14T08:52:41,239 DEBUG: Running shell command '/opt/tpa/aerospike/bin/asinfo -v "truncate-namespace:namespace=spspd5"'
2021-06-14T08:52:41,973 INFO: The result is
ok
2021-06-14T08:52:42,012 DEBUG: The result is
ok
2021-06-14T08:52:42,046 INFO: Going to run command '/opt/tpa/aerospike/bin/asinfo -v "truncate-namespace:namespace=spspd6"'
2021-06-14T08:52:42,077 DEBUG: Running shell command '/opt/tpa/aerospike/bin/asinfo -v "truncate-namespace:namespace=spspd6"'
2021-06-14T08:52:42,723 INFO: The result is
ok
2021-06-14T08:52:42,759 DEBUG: The result is
ok
2021-06-14T08:52:42,799 INFO: Going to run command '/opt/tpa/aerospike/bin/asinfo -v "truncate-namespace:namespace=spspd8"'
2021-06-14T08:52:42,832 DEBUG: Running shell command '/opt/tpa/aerospike/bin/asinfo -v "truncate-namespace:namespace=spspd8"'
2021-06-14T08:52:43,467 INFO: The result is
ok
2021-06-14T08:52:43,504 DEBUG: The result is
ok
2021-06-14T08:52:43,537 INFO: Going to run command '/opt/tpa/aerospike/bin/asinfo -v "truncate-namespace:namespace=dscglobal"'
2021-06-14T08:52:43,569 DEBUG: Running shell command '/opt/tpa/aerospike/bin/asinfo -v "truncate-namespace:namespace=dscglobal"'
2021-06-14T08:52:44,210 INFO: The result is
ok
2021-06-14T08:52:44,245 DEBUG: The result is
ok
2021-06-14T08:52:44,277 INFO: Exiting...
INFO: Logs can be seen in log file '/tmp/disaster-recovery-helper.py.log'.</code></pre></div>

            <div class="p">This example shows expected output when using the <code class="ph codeph">-p</code> partitions
                flag.<pre class="pre codeblock" id="disasterrecoveryhelperpy_tool__codeblock_flb_xhn_1qb"><code>[tpaadmin@...]$ disaster-recovery-helper.py -s me7 -p
['spspd7', 'spspd8', 'spspd5']</code></pre></div>

            <div class="p">This example shows expected output when using the <code class="ph codeph">-w</code> partitions list
                where-to-run
                flag.<pre class="pre codeblock" id="disasterrecoveryhelperpy_tool__codeblock_j2w_2mn_1qb"><code>[tpaadmin@...]$ disaster-recovery-helper.py -dw
2021-06-14 12:22:08.936+0000 growthme-centralmanagement-0 &lt;disaster-recovery-helper.py&gt; DEBUG: Opening topology file /opt/tpa/conf/topology/SpsTopologyConfiguration.yaml in read mode.
2021-06-14 12:22:09.007+0000 growthme-centralmanagement-0 &lt;disaster-recovery-helper.py&gt; DEBUG: Getting the local site name.
2021-06-14 12:22:09.041+0000 growthme-centralmanagement-0 &lt;disaster-recovery-helper.py&gt; DEBUG: Checking if recovery site 'me5' exists in topology.
2021-06-14 12:22:09.078+0000 growthme-centralmanagement-0 &lt;disaster-recovery-helper.py&gt; DEBUG: Recovery site 'me5' exists.
2021-06-14 12:22:09.109+0000 growthme-centralmanagement-0 &lt;disaster-recovery-helper.py&gt; DEBUG: Getting partitions list of site-name 'me5'.
2021-06-14 12:22:09.141+0000 growthme-centralmanagement-0 &lt;disaster-recovery-helper.py&gt; DEBUG: Getting the list of partitions for site-id '5'.
2021-06-14 12:22:09.173+0000 growthme-centralmanagement-0 &lt;disaster-recovery-helper.py&gt; DEBUG: List of partitions of site-name 'me5' is : ['spspd5', 'spspd6', 'spspd8']
2021-06-14 12:22:09.205+0000 growthme-centralmanagement-0 &lt;disaster-recovery-helper.py&gt; DEBUG: Getting the common partitions between recovery site 'me5' and other sites.
2021-06-14 12:22:09.236+0000 growthme-centralmanagement-0 &lt;disaster-recovery-helper.py&gt; INFO: This tool must be run on following list of sites : ['me7', 'me6', 'me8', 'me5']
2021-06-14 12:22:09.276+0000 growthme-centralmanagement-0 &lt;disaster-recovery-helper.py&gt; INFO: Exiting...</code></pre></div>

            <div class="p">This example shows expected output when using the <code class="ph codeph">-r</code> read topology
                flag.<pre class="pre codeblock" id="disasterrecoveryhelperpy_tool__codeblock_tqg_3mn_1qb"><code>[tpaadmin@...]$ disaster-recovery-helper.py -r spssite me7 id name
7</code></pre></div>

        </div>

    </div>
<div class="footer"><hr /><p>Operations, Administration, and Maintenance Guide • P556766-DN1000055092-R23.8 • 1 • <a href="../home.html">Cover</a> • ©2023 Nokia. Nokia Confidential Information • Use subject to agreed restrictions on disclosure and use.</p></div></body>
</html>