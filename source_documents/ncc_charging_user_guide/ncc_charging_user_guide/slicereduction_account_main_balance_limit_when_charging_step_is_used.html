<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2023" />
<meta name="DC.rights.owner" content="(C) Copyright 2023" />
<meta name="generator" content="DITA-OT" /><meta name="DC.type" content="topic" />
<meta name="DC.title" content="Account main balance limit when charging step is used" />
<meta name="prodname" content="Nokia Converged Charging" />
<meta name="version" content="Release 23.8" />
<meta name="DC.format" content="XHTML" />
<meta name="DC.identifier" content="section_rp4_g4c_fpb" />
<link rel="stylesheet" type="text/css" href="../../web/css/commonltr.css" />
<link rel="stylesheet" type="text/css" href="../../web/css/styles.min.css" />
<link rel="stylesheet" type="text/css" href="../../web/css/common-extended.css" /><title>Account main balance limit when charging step is used</title>
<script src="../web/js/nswtc.js" language="javascript" type="text/javascript">/*(◎_◎;)*/</script>
<script src="../../web/css/../js/script.min.js" language="javascript" type="text/javascript">/*(◎_◎;)*/</script>
</head>
<body id="section_rp4_g4c_fpb">
<div class="header"><div id="feedback-link-placeholder" class="feedback-link"></div><hr /></div><h1 class="title topictitle1" id="ariaid-title1">Account main balance limit when charging step is used</h1>
<div class="body">
            
            <p class="p"><var class="keyword varname">Notification-stop</var> action is applied on the counter when multiple
                thresholds are executed, which limits the Account main balance when charging step is
                used.</p>

            <p class="p"><strong class="ph b"><strong class="ph b">Action evaluation of Notification-Stop</strong></strong></p>

            <p class="p"><var class="keyword varname">Notification–stop</var> action is applied when the counter limit of
                threshold is applied.</p>

            <p class="p">The notification is not sent, and the step-up is not done as the threshold limit
                crosses and the action <var class="keyword varname">Notification–stop</var> is applied, and the
                counter value is not incremented above the limit.</p>

            <p class="p">However, it is possible that charging from main balance can be done where the rate
                applied on main balance is less than 1 CHF. When the subscriber consumes from the
                main balance limit, the upcoming threshold is reached and the notification is sent
                accordingly. The notification is not sent when the charging is yet to be done from
                the step bucket. The charging is not done as the limit is applied on it to stop the
                usage.</p>

            <p class="p">The counter value can be present between the thresholds or with the counter current
                value as zero .</p>

            <p class="p"><strong class="ph b">Example 1</strong></p>

            <p class="p">We have a subscriber group that is attached to the subscriber account through a
                subscription <var class="keyword varname">TO_LEBAR1</var>. <var class="keyword varname">TO_LEBARA1</var> is the base
                plan (Access component) with lowest priority. This bundle has a tariff in
                    <var class="keyword varname">pass-2</var>.</p>

            <p class="p">Subscriber group has a parent (known here as Site Group level) defined which is known
                as Site Group. Parent has <var class="keyword varname">PO_BU_TAPACK_1M_R1</var> bundle. Device is
                linked to the subscriber group.</p>

            <div class="p">Auto Install <var class="keyword varname">TPACK</var> bundle includes set of two bundles:<ul class="ul" id="section_rp4_g4c_fpb__ul_i3g_wmr_fpb">
                    <li class="li">
                        <ul class="ul" id="section_rp4_g4c_fpb__ul_s42_xmr_fpb">
                            <li class="li"><var class="keyword varname">PO_BU_TAPACK_1M_R1</var>: No bucket, no threshold,
                                installed at site level, bundles rules are defined to install
                                    <var class="keyword varname">PO_BU_TAPACK_1M_R1-SUB</var> bundle at Subscriber
                                Group level.</li>

                            <li class="li"><var class="keyword varname">PO_BU_TAPACK_1M_R1-SUB</var>: Bucket with Charging Step
                                such that <var class="keyword varname">524288000 bytes = 29CHF</var>. Threshold in
                                Charging Service for notification and re-installation of
                                    <var class="keyword varname">PO_BU_TAPACK_1M_R1</var> bundle at Subscriber group
                                only. This bundle is installed at Subscriber group level.</li>

                            <li class="li"><var class="keyword varname">Counter DataRaomingCounter_50</var>: This is to count
                                and restrict the account main balance usage for data. It is having
                                threshold which defines <var class="keyword varname">50%</var> notification at value
                                    <var class="keyword varname">25CHF</var>, <var class="keyword varname">100%</var> usage
                                notification at value <var class="keyword varname">49CHF</var> and Notification Stop
                                at <var class="keyword varname">50CHF</var>.</li>

                        </ul>

                        <div class="p"><strong class="ph b">Configuration</strong><ul class="ul" id="section_rp4_g4c_fpb__ul_ycq_pnr_fpb">
                                <li class="li">Current counter value is <var class="keyword varname">29</var>.</li>

                                <li class="li">Bundle <var class="keyword varname">PO_BU_TAPACK_1M_R1</var> is at site group
                                    level.</li>

                                <li class="li">Bundle <var class="keyword varname">PO_BU_TAPACK_1M_R1-SUB</var> is at
                                    Subscriber group level.</li>

                                <li class="li">Execute session to exhaust the bundle
                                        <var class="keyword varname">PO_BU_TAPACK_1M_R1-SUB</var>. </li>

                            </ul>
</div>

                        <p class="p"><strong class="ph b">Expected Result</strong></p>

                        <p class="p">Once bundle <var class="keyword varname">PO_BU_TAPACK_1M_R1-SUB</var> is exhausted
                            charging moves to <var class="keyword varname">TO_LEBARA1</var> bundle and
                                <em class="ph i">DataRoamingCounter</em> Value is not beyond <var class="keyword varname">50</var>
                            (when threshold is applied as limit on <var class="keyword varname">50</var> with Action
                            - <var class="keyword varname">Notification-Stop</var>).</p>

                    </li>

                </ul>
</div>

            <p class="p"><strong class="ph b">Example 2</strong></p>

            <p class="p">We have a subscriber group that is attached to the subscriber account through a
                subscription <var class="keyword varname">TO_LEBAR1</var>. <var class="keyword varname">TO_LEBARA1</var> is the base
                plan (Access component) with lowest priority. This bundle has a tariff in
                    <var class="keyword varname">pass-2</var>.</p>

            <p class="p">Subscriber group has a parent (known here as Site Group level) defined which is known
                as Site Group. Parent has <var class="keyword varname">PO_BU_TAPACK_1M_R1</var> bundle. Device is
                linked to the subscriber group.</p>

            <div class="p">Auto Install <var class="keyword varname">TPACK</var> bundle includes set of two bundles:<ul class="ul" id="section_rp4_g4c_fpb__ul_b4b_fpr_fpb">
                    <li class="li">
                        <ul class="ul" id="section_rp4_g4c_fpb__ul_c4b_fpr_fpb">
                            <li class="li"><var class="keyword varname">PO_BU_TAPACK_1M_R1</var>: No bucket, no threshold,
                                installed at site level, bundles rules are defined to install
                                    <var class="keyword varname">PO_BU_TAPACK_1M_R1-SUB</var> bundle at Subscriber
                                Group level.</li>

                            <li class="li"><var class="keyword varname">PO_BU_TAPACK_1M_R1-SUB</var>: Bucket with Charging Step
                                such that <var class="keyword varname">524288000 bytes = 29CHF</var>. Threshold in
                                Charging Service for notification and re-installation of
                                    <var class="keyword varname">PO_BU_TAPACK_1M_R1</var> bundle at Subscriber group
                                only. This bundle is installed at Subscriber group level.</li>

                            <li class="li"><var class="keyword varname">Counter DataRaomingCounter_50</var>: This is to count
                                and restrict the account main balance usage for data. It is having
                                threshold which defines <var class="keyword varname">50%</var> notification at value
                                    <var class="keyword varname">25CHF</var>, <var class="keyword varname">100%</var> usage
                                notification at value <var class="keyword varname">49CHF</var> and Notification Stop
                                at <var class="keyword varname">50CHF</var>.</li>

                        </ul>

                        <div class="p"><strong class="ph b">Configuration</strong><ul class="ul" id="section_rp4_g4c_fpb__ul_d4b_fpr_fpb">
                                <li class="li">Current counter value is <var class="keyword varname">24</var>.</li>

                                <li class="li">Bundle <var class="keyword varname">PO_BU_TAPACK_1M_R1</var> is at site group
                                    level.</li>

                                <li class="li">Bundle <var class="keyword varname">PO_BU_TAPACK_1M_R1-SUB</var> is at
                                    Subscriber group level.</li>

                                <li class="li">Execute the session to exhaust the bundle
                                        <var class="keyword varname">PO_BU_TAPACK_1M_R1-SUB</var>. </li>

                            </ul>
</div>

                        <p class="p"><strong class="ph b">Expected Result</strong></p>

                        <p class="p">Once bundle <var class="keyword varname">PO_BU_TAPACK_1M_R1-SUB</var> is exhausted
                            charging moves to <var class="keyword varname">TO_LEBARA1</var> bundle and
                                <em class="ph i">DataRoamingCounter</em> Value is not beyond <var class="keyword varname">50</var>
                            (when threshold is applied as limit on <var class="keyword varname">50</var> with Action
                            - <var class="keyword varname">Notification-Stop</var>).</p>

                    </li>

                </ul>
</div>

            <p class="p"><strong class="ph b">Example 3</strong></p>

            <p class="p">This example is to check step bucket that is Time-Pulse, when multiple thresholds are
                crossed in the same request.</p>

            <p class="p"><strong class="ph b">Configuration</strong></p>

            <ul class="ul" id="section_rp4_g4c_fpb__ul_bph_lsr_fpb">
                <li class="li">DataRoamingCounter_50 with Threshold1 Abs 25, Notification-con ,Threshold2 Abs
                    49, Notification-con and Threshold3 Abs 50, Notification-stop.</li>

                <li class="li">Bucket is the kind of step bucket with <var class="keyword varname">3CHF/MB</var> a step.</li>

                <li class="li">No rate is applied to the Step Bucket.</li>

            </ul>

            <p class="p"><strong class="ph b">Scenario</strong></p>

            <p class="p">Current Counter Value = <var class="keyword varname">48.5</var>, Current volume balance left in the
                Step-bucket = <var class="keyword varname">900KB</var>.</p>

            <p class="p"><strong class="ph b">Expected Result</strong></p>

            <p class="p">The Step up does not happen as counter applied is with threshold at
                    <var class="keyword varname">50s</var>.</p>

            <div class="p"><strong class="ph b">Additional information</strong><ul class="ul" id="section_rp4_g4c_fpb__ul_e5v_22d_fpb">
                    <li class="li">Single or multiple threshold can be crossed in same request.</li>

                    <li class="li">No notification will be sent when the step up is not done.</li>

                    <li class="li">No normal rate is configured more than 1 CHF.</li>

                    <li class="li">No external rate is being configured for SCUR Gy/IMS/NCHF request.</li>

                    <li class="li">Rate is not applied to the Step-Bucket.</li>

                    <li class="li">Rate is not configured as it crosses multiple thresholds.</li>

                    <li class="li"><var class="keyword varname">Notification-stop</var> action is supported.</li>

                    <li class="li"><var class="keyword varname">Reject</var> and <var class="keyword varname">Notification-Reject</var> actions
                        are not supported.</li>

                </ul>
</div>

        </div>
<div class="footer"><hr /><p>Charging User Guide • P556766-DN1000054947-R23.8 • 1 • <a href="../home.html">Cover</a> • ©2023 Nokia. Nokia Confidential Information • Use subject to agreed restrictions on disclosure and use.</p></div></body>
</html>