<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2023" />
<meta name="DC.rights.owner" content="(C) Copyright 2023" />
<meta name="generator" content="DITA-OT" /><meta name="DC.type" content="concept" />
<meta name="DC.title" content="Repair keygenrators data set" />
<meta name="prodname" content="Nokia Converged Charging" />
<meta name="version" content="Release 23.8" />
<meta name="DC.format" content="XHTML" />
<meta name="DC.identifier" content="Bookmark123" />
<link rel="stylesheet" type="text/css" href="../../web/css/commonltr.css" />
<link rel="stylesheet" type="text/css" href="../../web/css/styles.min.css" />
<link rel="stylesheet" type="text/css" href="../../web/css/common-extended.css" /><title>Repair keygenrators data set</title>
<script src="../web/js/nswtc.js" language="javascript" type="text/javascript">/*(◎_◎;)*/</script>
<script src="../../web/css/../js/script.min.js" language="javascript" type="text/javascript">/*(◎_◎;)*/</script>
</head>
<body id="Bookmark123">
<div class="header"><div id="feedback-link-placeholder" class="feedback-link"></div><hr /></div><h1 class="title topictitle1" id="ariaid-title1">Repair keygenrators data set </h1>
<div class="body conbody">
                
                <p class="p">Repair the keygenerators data set by running the following command on the
            recovering site. This step may be skipped for CHF-R deployments.</p>

                <pre class="pre codeblock"><code>kubectl -it exec &lt;admincli&gt; -c &lt;container&gt; -n &lt;namespace&gt; -- /opt/tpa/bin/TPA_repairKeyGen
# if it ask to continue then type "y" and press enter button</code></pre>
        <div class="p">Where:<ul class="ul" id="Bookmark123__ul_rgh_xdb_bqb">
                <li class="li"><code class="ph codeph">&lt;admincli&gt;</code> is the name of the admincli pod.</li>

                <li class="li"><code class="ph codeph">&lt;container&gt;</code> is the name of the container.</li>

                <li class="li"><code class="ph codeph">&lt;namespace&gt;</code> is the name of the namespace.</li>

            </ul>
</div>

        <p class="p">For example, the following shows expected output of the above commands with
                <code class="ph codeph">growthme-admincli-b6496b469-hlmwb</code> as
            <code class="ph codeph">&lt;admincli&gt;</code>, <code class="ph codeph">growthme-admincli</code> as
                <code class="ph codeph">&lt;container&gt;</code>, and <code class="ph codeph">sps-btel-me5</code> as
                <code class="ph codeph">&lt;namespace&gt;</code>.</p>

        <pre class="pre codeblock" id="Bookmark123__codeblock_kdl_mnc_bqb"><code>[root@bcmtvzrm3-control-01 ~]# kubectl -it exec growthme-admincli-b6496b469-hlmwb -c growthme-admincli -n sps-btel-me5 -- /opt/tpa/bin/TPA_repairKeyGen
 You are about to start the repair KeyGenerator tool.
 The tool scans all clubbed records and update KeyGenerator data set.
 The tool should be run only during disaster recovery process.
 Continue (y/n)?y
 *******Repair KeyGenerator tool starts.**********
 Set the current site's Id to: 5
Primary partition namespace for Site ID: '5' is 'spspd5'
 Following sets found =&gt; [InfrequentlyChangingData]
 Following namespaces found =&gt; [spspd5]
 Starts processing records in set 'InfrequentlyChangingData'
 Fetching records in set 'spspd6.InfrequentlyChangingData'
 Action: Skip Updating, setName: InfrequentlyChangingData, PartitionName: InfrequentlyChangingData198, MaxRecordCount: 336, KeyGeneratorCount: 580
 ******End of Repair KeyGenerator tool.******
It took 9 seconds to complete this task ...</code></pre>
            </div>
<div class="footer"><hr /><p>Operations, Administration, and Maintenance Guide • P556766-DN1000055092-R23.8 • 1 • <a href="../home.html">Cover</a> • ©2023 Nokia. Nokia Confidential Information • Use subject to agreed restrictions on disclosure and use.</p></div></body>
</html>