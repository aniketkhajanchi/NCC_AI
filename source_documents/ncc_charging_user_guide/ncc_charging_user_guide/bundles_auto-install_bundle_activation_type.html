<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2023" />
<meta name="DC.rights.owner" content="(C) Copyright 2023" />
<meta name="generator" content="DITA-OT" /><meta name="DC.type" content="topic" />
<meta name="DC.title" content="Auto-install service (bundle) activation type" />
<meta name="prodname" content="Nokia Converged Charging" />
<meta name="version" content="Release 23.8" />
<meta name="DC.format" content="XHTML" />
<meta name="DC.identifier" content="section_rz5_5cr_ymb" />
<link rel="stylesheet" type="text/css" href="../../web/css/commonltr.css" />
<link rel="stylesheet" type="text/css" href="../../web/css/styles.min.css" />
<link rel="stylesheet" type="text/css" href="../../web/css/common-extended.css" /><title>Auto-install service (bundle) activation type</title>
<script src="../web/js/nswtc.js" language="javascript" type="text/javascript">/*(◎_◎;)*/</script>
<script src="../../web/css/../js/script.min.js" language="javascript" type="text/javascript">/*(◎_◎;)*/</script>
</head>
<body id="section_rz5_5cr_ymb">
<div class="header"><div id="feedback-link-placeholder" class="feedback-link"></div><hr /></div><h1 class="title topictitle1" id="ariaid-title1">Auto-install service (bundle) activation type</h1>
<div class="body">
    <p class="p">Operators can define an auto-install travel pack at top-group level (company level), then on
      receiving a call for Devices that are directly or indirectly attached to the top-group, a new
      subscription allocated to the child group. The new subscription can also be attached to the
      Device based on certain conditions. There can be more than one auto-install travel pack
      defined at top-group level and more than one can be automatically installed (subscribed) to a
      user.</p>

    <p class="p">Services (bundles) are managed at top-group level, that is, any changes made to the top-group
      such as removal or addition of a new bundle gets reflected in a new call for all child groups
      based on applicability condition. For example, when a subscriber is surfing in a zone in which
      a service (bundle) can be applied, then such service (bundle) is added automatically at child
      group level if it does not exist yet.</p>

    <p class="p">Following are the two types of travel packs:</p>

    <ul class="ul" id="section_rz5_5cr_ymb__ul_n5z_c4r_ymb">
      <li class="li"><strong class="ph b">Auto-install travel pack</strong>: When an allowance limit (bucket) is consumed but is still
        reporting usage and is applicable for the service (bundle), then the allowance limit
        (bucket) must be renewed with a new validity time of 1 month. This date is used to compare
        the expiry time with other type of services (bundles) with same priority, the one that
        expires first must be used first.<p class="p">If the service (bundle) expires (after 1 month), then
          the service/allowance limit (bundle/buckets) are renewed only if still in the region where
          the service (bundle) is applicable and reporting usage. It must be valid for 1 month. This
          date is used to compare the expiry time to select bundles.</p>
</li>

      <li class="li"><strong class="ph b">Unlimited auto-install travel pack</strong>: The allowance limit/service (bucket/bundle) is
        renewed on expiry date and not on allowance limit (bucket) exhaustion.</li>

    </ul>

    <div class="note"><div class="notetitle"><img src="../../web/css/../images/note.svg" title="note-icon" class="noteicon" />Note:</div> Multiple auto-install service (bundle) can be attached with entity. More than one bundle
      can be attached through auto-install bundle provided the bundle name is different. Rules can
      also provide multiple service (bundle) output and can be attached at same time to provided
      entity. Future activation is not supported for new service (bundle) subscribed using
      auto-install option.</div>

    <p class="p">When an auto-install service (bundle) activation type is selected, you can define an
        <strong class="ph b">Add-subscription</strong> event to apply a subscription to a Group/Device automatically by
      service (bundle) and threshold rules on meeting certain conditions. </p>

    <p class="p">The syntax for the <strong class="ph b">Add-Subscription</strong> rule action is as follows:</p>

    <pre class="pre codeblock"><code>Bundle.Add-Subscription("Bundle Name","AccountId", "DestinationEntity")</code></pre>
    <p class="p">and</p>

    <pre class="pre codeblock"><code>Bundle.Add-Subscription("Bundle Name","AccountId", "DestinationEntity", "Units to compare")</code></pre>
    <p class="p">where</p>

    <ul class="ul" id="section_rz5_5cr_ymb__ul_fgm_r3r_ymb">
      <li class="li"><strong class="ph b">Bundle Name</strong> is the new service (bundle) name to subscribe.</li>

      <li class="li"><strong class="ph b">AccountId</strong> is the Account name used for charging the new subscription. If it is NA,
        then the Account from already attached subscription, that is, first subscription attached to
        Group or Device is used.</li>

      <li class="li"><strong class="ph b">DestinationEntity</strong> is the location where new service (bundle) is attached. Following
        are the options:<ul class="ul" id="section_rz5_5cr_ymb__ul_qb3_bjr_ymb">
          <li class="li"><strong class="ph b">SELF</strong>: The same entity on which the auto-install bundle is configured.</li>

          <li class="li"><strong class="ph b">IMMEDIATE_NEXT_ENTITY</strong>: The subscription obtained from the auto-install bundle
            is attached to the next (child) entity (Group/Device) of the Group for which bundle
            rules are executed.</li>

          <li class="li"><strong class="ph b">DEVICE</strong>: The subscription obtained from the auto-install bundle is attached to
            the Device for which the call is received.</li>

        </ul>
</li>

      <li class="li"><strong class="ph b">Units to compare</strong> is used when a customer wants bundle on exhaustion. This value and
        add subscription information are added in threshold. This value must be inline with the
        value on which the threshold Add-Subscription action is applied. </li>

    </ul>

    <p class="p"><strong class="ph b">Example</strong></p>

    <pre class="pre codeblock"><code>if 
   @Zone_ID="2"
 then
   Bundle.Add-Subscription("Bun1-0500782", "NA", DestinationEntityType_IMMEDIATE_NEXT_ENTITY)</code></pre>
    <p class="p">The syntax for the <strong class="ph b">Bundle-Name</strong> rule action is as follows:</p>

    <pre class="pre codeblock"><code>Bundle.Bundle Name = "Bundle Name"</code></pre>
    <p class="p">where <strong class="ph b">Bundle Name</strong> is the new bundle name to subscribe. In this case, Account from
      already attached subscription, that is, the first subscription attached to Group/Device is
      used and Destination Entity is SELF.</p>

    <div class="section" id="section_rz5_5cr_ymb__section_vmz_p4b_1nb"><h2 class="title sectiontitle">Auto-install bundle activation type (with threshold
        rule)</h2><p class="p">The <strong class="ph b">Add-Subscription</strong> and <strong class="ph b">Bundle-Name</strong> rules for auto-install
        bundle can be defined in the Threshold entity.</p>
<div class="note"><div class="notetitle"><img src="../../web/css/../images/note.svg" title="note-icon" class="noteicon" />Note:</div> While configuring rule to add new
        subscription from Threshold, if the Bucket_Balance_Value is provided in the rule input, then
        it is ignored. </div>
<p class="p">The syntax for the <strong class="ph b">Add-Subscription</strong> rule action is as
        follows. Note that, in the following Bundle.Add-Subscription action, the
        Bucket_Balance_Value field should not be provided. If provided, then this value is
        ignored.</p>
<pre class="pre codeblock"><code>Bundle.Add-Subscription("Bundle_Name_STRING","Account_Id_STRING", "Destination_Entity_ENUM")</code></pre>where<ul class="ul" id="section_rz5_5cr_ymb__ul_d3j_gmr_ymb">
        <li class="li"><strong class="ph b">Bundle_Name_STRING</strong> is the new service (bundle) name to subscribe.</li>

        <li class="li"><strong class="ph b">Account_Id_STRING</strong> is the Account name used for charging the new subscription. If
          it is NA, then the Account from already attached subscription, that is, first subscription
          attached to Group or Device is used.</li>

        <li class="li"><strong class="ph b">Destination_Entity_ENUM</strong> is the location where new service (bundle) is attached.
          Following are the options:<ul class="ul" id="section_rz5_5cr_ymb__ul_e3j_gmr_ymb">
            <li class="li"><strong class="ph b">SELF</strong>: The same entity on which the threshold is configured, that is, if
              entity counter, then its on same entity. If subscription counter, then it is on entity
              for which the subscription is configured.</li>

            <li class="li"><strong class="ph b">IMMEDIATE_NEXT_ENTITY</strong>: The child entity of the entity fetched in Bundle
              Name.</li>

            <li class="li"><strong class="ph b">DEVICE</strong>: The Device for which the call is received.</li>

          </ul>
</li>

      </ul>
<p class="p">The syntax for the <strong class="ph b">Bundle-Name</strong> rule action is as
      follows:</p>
<pre class="pre codeblock"><code>Bundle.Bundle-Name = "Bundle-Name"</code></pre>where <strong class="ph b">Bundle-Name</strong>
      is the new bundle name to subscribe. In this case, Account from already attached subscription,
      that is, the first subscription attached to Group/Device is used and Destination Entity is
        SELF.<p class="p">Example:</p>
<img class="image break" id="section_rz5_5cr_ymb__image_f3m_wmr_ymb" src="../images/threshold_autoinstall.png" height="134" width="436" /></div>

  </div>
<div class="footer"><hr /><p>Charging User Guide • P556766-DN1000054947-R23.8 • 1 • <a href="../home.html">Cover</a> • ©2023 Nokia. Nokia Confidential Information • Use subject to agreed restrictions on disclosure and use.</p></div></body>
</html>