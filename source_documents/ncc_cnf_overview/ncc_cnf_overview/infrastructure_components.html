<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2023" />
<meta name="DC.rights.owner" content="(C) Copyright 2023" />
<meta name="generator" content="DITA-OT" /><meta name="DC.type" content="concept" />
<meta name="DC.title" content="Service mesh and IP addressing" />
<meta name="prodname" content="Nokia Converged Charging" />
<meta name="version" content="Release 23.8" />
<meta name="DC.format" content="XHTML" />
<meta name="DC.identifier" content="infrastructure_components" />
<link rel="stylesheet" type="text/css" href="../../web/css/commonltr.css" />
<link rel="stylesheet" type="text/css" href="../../web/css/styles.min.css" />
<link rel="stylesheet" type="text/css" href="../../web/css/common-extended.css" /><title>Service mesh and IP addressing</title>
<script src="../web/js/nswtc.js" language="javascript" type="text/javascript">/*(◎_◎;)*/</script>
<script src="../../web/css/../js/script.min.js" language="javascript" type="text/javascript">/*(◎_◎;)*/</script>
</head>
<body id="infrastructure_components">
<div class="header"><div id="feedback-link-placeholder" class="feedback-link"></div><hr /></div><h1 class="title topictitle1" id="ariaid-title1">Service mesh and IP addressing</h1>
<div class="body conbody">
        <p class="p">This section describes the characteristics of NCC architecture such as a service mesh and
            IP addressing.</p>

        <div class="section" id="infrastructure_components__section_gmq_qnc_llb"><h2 class="title sectiontitle">Service mesh (Istio)</h2>
            
            <p class="p">A service mesh is an infrastructure layer that controls how different parts of an
                application or microservices interact with one another. As a service mesh grows in
                size and complexity, it can become harder to understand and manage. Its requirements
                can include discovery, load balancing, failure recovery, metrics, and monitoring. A
                service mesh also often has more complex operational requirements, like A/B testing,
                canary rollouts, rate limiting, access control, and end-to-end authentication.</p>

            <p class="p">Istio provides behavioral insights and operational control over the service mesh as a
                whole, offering a complete solution to satisfy the diverse requirements of
                microservice applications. Istio makes it easy to create a network of deployed
                services with load balancing, service-to-service authentication, monitoring, and
                more. </p>

            <p class="p">Istio support is added to services by deploying a special sidecar proxy throughout
                the environment that intercepts all network communication between microservices,
                then configure and manage Istio using its control plane functionality, which
                includes the following:</p>

            <ul class="ul" id="infrastructure_components__ul_hmq_qnc_llb">
                <li class="li">automatic load balancing for HTTP, gRPC, WebSocket, and TCP traffic</li>

                <li class="li">fine-grained control of traffic behavior with rich routing rules, retries,
                    failovers, and fault injection</li>

                <li class="li">a pluggable policy layer and configuration API supporting access controls, rate
                    limits, and quotas</li>

                <li class="li">automatic metrics, logs, and traces for all traffic within a cluster, including
                    cluster ingress and egress</li>

                <li class="li">secure service-to-service communication in a cluster with strong identity-based
                    authentication and authorization, and mTLS support between pods</li>

                <li class="li">secure communication between clusters for cross-datacenter replication
                    (XDR)</li>

            </ul>

            <p class="p">Operators typically provide the service mesh and supporting tools such as Kiali and
                Jaeger as part of their Kubernetes environment that NCC integrates into. However,
                NCC can optionally supply an Istio service mesh component if needed, along with the
                Kiali and Jaeger tools.</p>

        </div>

        <div class="section" id="infrastructure_components__section_syz_rnc_llb"><h2 class="title sectiontitle">IP addressing </h2>
            
            <p class="p">NCC supports a single internal IP address per pod, which is either IPv4 or IPv6 for
                the many pods. Currently NCC supports internal communication between pods as being
                either all IPv4 or all IPv6. However, external IP addresses for NCC can be IPv4 or
                IPv6, from multiple WANs for example, OAM and Traffic. The infrastructure is
                responsible for carrying external traffic to the worker nodes and ultimately to the
                pods. On the external load balancer or at the edge of the Kubernetes cluster, the
                external IP addresses can be translated using Network Address Translation (NAT) to
                the internal IP addresses, either to convert external IPv6 to internal IPv4 or vice
                versa, or to convert IP addresses on multiple WANs into IP addresses on the one
                internal subnet. For example, the NCC external IPv4 address on the OAM WAN could be
                10.1.1.1, and the NCC external IPv4 address on the traffic WAN could be 10.2.1.1,
                while the NCC internal IPv4 subnet could be 10.3.1.x.</p>

            <p class="p">For outgoing traffic initiated by NCC to a single WAN, if the internal addresses are
                IPv6, then the source IPv6 address of the pod can be used on the WAN for example,
                database pods sending XDR traffic to another data center. The same can be true for
                IPv4 addresses if the internal subnet uses routable addresses for example, 10.3.1.x
                and the outgoing traffic is destined only for intranet sites. However, multiple WANs
                causes the internal IP addresses to be translated onto the various WANs (one
                internal subnet cannot appear on multiple WANs), so translation is still needed.</p>

        </div>

    </div>
<div class="footer"><hr /><p>Overview Guide • P556766-DN1000054925-R23.8 • 1 • <a href="../home.html">Cover</a> • ©2023 Nokia. Nokia Confidential Information • Use subject to agreed restrictions on disclosure and use.</p></div></body>
</html>