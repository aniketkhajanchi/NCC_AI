<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2023" />
<meta name="DC.rights.owner" content="(C) Copyright 2023" />
<meta name="generator" content="DITA-OT" /><meta name="DC.type" content="concept" />
<meta name="DC.title" content="Topology parameters" />
<meta name="prodname" content="Nokia Converged Charging" />
<meta name="version" content="Release 23.8" />
<meta name="DC.format" content="XHTML" />
<meta name="DC.identifier" content="parameters" />
<link rel="stylesheet" type="text/css" href="../../web/css/commonltr.css" />
<link rel="stylesheet" type="text/css" href="../../web/css/styles.min.css" />
<link rel="stylesheet" type="text/css" href="../../web/css/common-extended.css" /><title>Topology parameters</title>
<script src="../web/js/nswtc.js" language="javascript" type="text/javascript">/*(◎_◎;)*/</script>
<script src="../../web/css/../js/script.min.js" language="javascript" type="text/javascript">/*(◎_◎;)*/</script>
</head>
<body id="parameters">
<div class="header"><div id="feedback-link-placeholder" class="feedback-link"></div><hr /></div><h1 class="title topictitle1" id="ariaid-title1">Topology parameters</h1>
<div class="body conbody">
        <p class="p">This section describes the parameters that define a system's topology and geo-redundancy
            configurations. These parameters are defined in the
                <code class="ph codeph">global.topologydata.config.topology</code> section in the overrides
            file.</p>

        <div class="p">
            <div class="note"><div class="notetitle"><img src="../../web/css/../images/note.svg" title="note-icon" class="noteicon" />Note:</div> For the deployments with geo-redundancy, the <code class="ph codeph">xdrproxy.enabled</code>
                parameter must be set to <code class="ph codeph">true</code> in the <code class="ph codeph">overrides</code>
                file.</div>

        </div>

        <div class="section" id="parameters__section_gd4_yvr_bmb"><h2 class="title sectiontitle">Topology parameters</h2>
            
            <p class="p">The <code class="ph codeph">topology</code> section represents a system's topology information that
                depends on the:</p>

            <div class="p">
                <ul class="ul" id="parameters__ul_iym_gc2_vlb">
                    <li class="li">deployment model</li>

                    <li class="li">number of systems/subsystems in the deployment and their type: ME, SM,
                        IG</li>

                    <li class="li">use of geo-redundancy</li>

                </ul>

            </div>

            <p class="p">This table describes the parameters in the <code class="ph codeph">topology</code> section.</p>

            <table cellpadding="4" cellspacing="0" summary="" id="parameters__table_fjl_qnk_vkb" class="table" frame="border" border="1" rules="all"><caption><span class="tablecap"><span class="table--title-label">Table: </span>Topology parameters descriptions</span></caption><colgroup><col style="width:32.467532467532465%" /><col style="width:67.53246753246754%" /></colgroup><thead class="thead" style="text-align:left;">
                        <tr class="row">
                            <th class="entry cellrowborder" style="vertical-align:top;" id="d19670e93">Parameter </th>

                            <th class="entry cellrowborder" style="vertical-align:top;" id="d19670e96">Description </th>

                        </tr>

                    </thead>
<tbody class="tbody">
                        <tr class="row">
                            <td class="entry cellrowborder" colspan="2" style="vertical-align:top;" headers="d19670e93 d19670e96 ">
                                <p class="p"><code class="ph codeph">topology.spspartition</code> parameters</p>

                                <p class="p">These parameters represent paired (mate) ME or IG systems
                                    configured for the subscriber data. If a paired ME or IG fails,
                                    each of its replication neighbors handles a portion of the
                                    traffic intended for that failed system.</p>

                                <p class="p">Records are assigned in each paired group into their own unique
                                    namespace and the Aerospike XDR replication is configured for
                                    each namespace.</p>

                                <p class="p">The <code class="ph codeph">topology.spspartition</code> parameters must be
                                    configured as follows:</p>

                                <ul class="ul" id="parameters__ul_vz1_nxq_bmb">
                                    <li class="li">Every SM must have in its Helm charts all the
                                            <code class="ph codeph">topology.spspartition</code> parameters of all
                                        the partitions across all the ME subsystems. </li>

                                    <li class="li">A single partition is shared between paired ME subsystems
                                        with multiple pairs possible in the network. Every ME must
                                        have in its Helm charts all the
                                            <code class="ph codeph">topology.spspartition</code> parameters that
                                        are used with its paired ME for the single partition that
                                        these two ME subsystems share. </li>

                                </ul>

                            </td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d19670e93 "><code class="ph codeph">topology.spspartition.id</code>
                            </td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d19670e96 ">This parameter defines the partition ID of a namespace. There are
                                only 128 supported values in the interval [0,127]. </td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d19670e93 "><code class="ph codeph">topology.spspartition.name</code>
                            </td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d19670e96 ">
                                <p class="p">This parameter defines the name for the paired MEs or IGs.</p>

                                <p class="p">This parameter is defined with the maximum of 51 alphanumeric and
                                    dash (-) characters. The dot (‘.’) and underscore (‘_’)
                                    characters cannot be used.</p>

                            </td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d19670e93 ">
                                <p class="p"><code class="ph codeph">topology.spspartition.siteids</code></p>

                            </td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d19670e96 ">
                                <p class="p">The value must match with the
                                        <code class="ph codeph">topology.spssite.id</code> values of the paired
                                    MEs or IGs.</p>

                                <p class="p">For example, if ME1 has <code class="ph codeph">topology.spssite.id</code> set
                                    to 1 and ME2 has <code class="ph codeph">topology.spssite.id</code> set to 2,
                                    then the value of this parameter must be set to [1,2].</p>

                            </td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" colspan="2" style="vertical-align:top;" headers="d19670e93 d19670e96 ">
                                <p class="p"><code class="ph codeph">topology.spssite</code> parameters</p>

                                <p class="p">If the deployment model is networked ME pairs, then the following
                                    applies:</p>

                                <ul class="ul" id="parameters__ul_exx_mjs_bmb">
                                    <li class="li">
                                        <p class="p">Every SM in addition to its own set of
                                                <code class="ph codeph">topology.spssite</code> parameters must
                                            have in its Helm charts all the
                                                <code class="ph codeph">topology.spssite</code> parameters of all
                                            the ME subsystems and SM systems.</p>

                                    </li>

                                    <li class="li">
                                        <p class="p">Every ME in addition to its own set of
                                                <code class="ph codeph">topology.spssite</code> parameters must
                                            have in its Helm charts all the
                                                <code class="ph codeph">topology.spssite</code> parameters of all
                                            the ME subsystems and SM systems. This allows for the
                                            global mapping tables to include all ME subsystems in
                                            the network and be N-way replicated.</p>

                                    </li>

                                </ul>

                            </td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d19670e93 ">
                                <p class="p"><code class="ph codeph">topology.spssite.id</code></p>

                            </td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d19670e96 ">
                                <p class="p">This parameter defines the ID for a namespace. </p>

                                <p class="p">This parameter is an integer and supports 32 values in the
                                    interval [0,31]. This parameter is used for all the <span class="ph">NCC</span> topology parameters and must be
                                    unique for each namespace across all of the deployed
                                    systems.</p>

                                <p class="p">For example, if there are four ME subsystems and two SM systems
                                    in your deployment, then each namespace is assigned a unique
                                    integer in this group of six; the ME subsystems are numbered 1,
                                    2, 3 and 4; the SM systems are numbered 5 and 6.</p>

                            </td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d19670e93 "><code class="ph codeph">topology.spssite.location</code>
                            </td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d19670e96 ">
                                <p class="p">This parameter defines the location of a system.</p>

                                <p class="p">Location must be unique per physical location. If multiple
                                    systems (SM, and/or ME, and/or IG) share a building complex,
                                    then these systems should have the same location. For example,
                                    if an ME and an SM share location Ottawa, then the ME
                                    subsystem’s location is “Ottawa” and the SM system’s location is
                                    “Ottawa”. </p>

                                <p class="p">The value is an arbitrary string. Choose a value that is
                                    meaningful and reasonable in length.</p>

                                <p class="p">For more information on location, see the <cite class="cite">Operation,
                                        Administration and Maintenance Guide</cite>.</p>

                            </td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d19670e93 ">
                                <p class="p"><code class="ph codeph">topology.spssite.matesite</code></p>

                            </td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d19670e96 ">
                                <p class="p">This parameter is used to set the bidirectional relationship
                                    between the systems of the same type. </p>

                                <p class="p">This means that if ME1 has ME2 as its matesite, than ME2 must
                                    have only ME1 as its matesite. The same principle applies to SM
                                    and IG systems. SMs and MEs, SMs and IGs, MEs and IGs cannot be
                                    mates. A system cannot be its own matesite.</p>

                                <p class="p">The value is the matesite’s <code class="ph codeph">spssiteid</code>. For
                                    non-geo-redundant systems, the value must be Null, or the key to
                                    be removed completely.</p>

                                <p class="p">Geo-redundant systems must always be deployed in multiples of
                                    two. This is true for any type of deployment. For more
                                    information on deployment models, see the <cite class="cite">Overview
                                        Guide</cite>.</p>

                            </td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d19670e93 ">
                                <p class="p"><code class="ph codeph">topology.spssite.name</code></p>

                            </td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d19670e96 ">
                                <p class="p">This parameter defines the name of a system.</p>

                                <p class="p">This parameter is defined with the maximum of 25 alphanumeric and
                                    dash (-) characters.</p>

                                <p class="p">The dot (‘.’) and underscore (‘_’) characters cannot be used.</p>

                            </td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d19670e93 ">
                                <p class="p"><code class="ph codeph">topology.spssite.oamipaddress</code></p>

                            </td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d19670e96 "><p class="p">This parameter defines the public Ingress
                                    FQDN.</p>
<p class="p">Example:</p>
<code class="ph codeph"><code class="ph codeph">oamipaddress:</code>
                                    <code class="ph codeph">site3-bcmt2.dyn.nesc.nokia.net</code></code></td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d19670e93 ">
                                <p class="p"><code class="ph codeph">topology.spssite.oamport</code></p>

                            </td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d19670e96 "><p class="p">This parameter defines the public Ingress
                                    port.</p>
<p class="p">Example:</p>
<code class="ph codeph">oamport:</code>
                                <code class="ph codeph">80</code></td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d19670e93 ">
                                <p class="p"><code class="ph codeph">topology.spssite.oamprotocol</code></p>

                            </td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d19670e96 "><p class="p">This parameter defines the public Ingress
                                    protocol.</p>
<p class="p">Example:</p>
<code class="ph codeph">oamprotocol:</code>
                                <code class="ph codeph">http</code></td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d19670e93 ">
                                <p class="p"><code class="ph codeph">topology.spssite.originhost</code></p>

                            </td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d19670e96 ">
                                <p class="p">This parameter defines a system's Diameter origin host name.</p>

                                <p class="p">This parameter is used without FQDN.</p>

                            </td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d19670e93 ">
                                <p class="p"><code class="ph codeph">topology.spssite.originrealm</code></p>

                            </td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d19670e96 ">
                                <p class="p">This parameter defines a system's Diameter origin realm name.</p>

                            </td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d19670e93 ">
                                <p class="p"><code class="ph codeph">topology.spssite.primarysmsite</code></p>

                            </td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d19670e96 ">
                                <p class="p">This parameter defines an SM or IG system as the primary system.
                                    This parameter applies to SM and IG systems.</p>

                                <p class="p">In geo-configured deployments SMs and IGs are Active/Active. This
                                    parameter allows you to manually configure SMs and IGs as
                                    Active/Standby. The Active/Standby configuration is required for
                                    some plug-in components such as Ud and HLAPI.</p>

                                <div class="p">The values are:<ul class="ul" id="parameters__ul_yrh_4nq_bmb">
                                        <li class="li"><var class="keyword varname">true</var></li>

                                        <li class="li"><var class="keyword varname">false</var></li>

                                    </ul>
</div>

                                <p class="p">The are case sensitive and must be in lowercase.</p>

                                <p class="p">If this parameter is set to <var class="keyword varname">true</var>, then this
                                    system is considered primary. By default or if this parameter is
                                    set to <var class="keyword varname">false</var>, the system chooses the
                                    namespace with the lowest numerical VIP value to be the
                                    primary.</p>

                            </td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d19670e93 ">
                                <p class="p"><code class="ph codeph">topology.spssite.trafficipaddress</code></p>

                            </td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d19670e96 "><p class="p">This parameter defines the public Ingress
                                    FQDN.</p>
<p class="p">Example:</p>
<code class="ph codeph"><code class="ph codeph">oamipaddress:</code>
                                    <code class="ph codeph">site3-bcmt2.dyn.nesc.nokia.net</code></code></td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d19670e93 ">
                                <p class="p"><code class="ph codeph">topology.spssite.trafficport</code></p>

                            </td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d19670e96 "><p class="p">This parameter defines the public Ingress
                                    port.</p>
<p class="p">Example:</p>
<code class="ph codeph">trafficport:</code>
                                <code class="ph codeph">80</code>
                            </td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d19670e93 ">
                                <p class="p"><code class="ph codeph">topology.spssite.trafficprotocol</code></p>

                            </td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d19670e96 "><p class="p">This parameter defines the public Ingress
                                    protocol.</p>
<p class="p">Example:</p>
<code class="ph codeph"><code class="ph codeph">trafficprotocol:</code></code>
                                <code class="ph codeph">http</code></td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d19670e93 ">
                                <p class="p"><code class="ph codeph">topology.spssite.types</code></p>

                            </td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d19670e96 ">
                                <p class="p">This parameter defines the type of a system.</p>

                                <p class="p">These are the possible values:</p>

                                <ul class="ul" id="parameters__ul_sx4_xgq_bmb">
                                    <li class="li">for ME: [SPS-Charging, SPS-Notification, SPS-CE,
                                        SPS-Policy]</li>

                                    <li class="li">for SM: [SPS-SM]</li>

                                    <li class="li">For IG: [SPS-Charging, SPS-Notification, SPS-CE, SPS-SM,
                                        SPS-Policy]</li>

                                    <li class="li">For EOC:  [SPS-EOC]</li>

                                </ul>

                                <p class="p">However, SPS-CE is one of the possible values, the SPS-CE
                                    component is obsolete.</p>

                            </td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" colspan="2" style="vertical-align:top;" headers="d19670e93 d19670e96 ">
                                <p class="p">The <code class="ph codeph">topology.spssite.xdr</code> parameters are used to
                                    configure IP connectivity for sending XDR traffic from the
                                    source site to the destination sites.</p>

                            </td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d19670e93 ">
                                <p class="p"><code class="ph codeph">topology.spssite.xdr.externalips</code></p>

                            </td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d19670e96 ">
                                <p class="p">This parameter is a JSON array that contains a single element,
                                    which is the public Ingress FQDN.</p>

                                <p class="p">Example:</p>

                                <p class="p"><code class="ph codeph">topology.spssite.xdr:</code><code class="ph codeph">["site3-bcmt2.dyn.nesc.nokia.net"]</code></p>

                            </td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d19670e93 ">
                                <p class="p"><code class="ph codeph">topology.spssite.xdr.externalport</code></p>

                            </td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d19670e96 ">
                                <p class="p">This parameter is the node Port specified for incoming XDR
                                    traffic when configuring the <span class="ph">NCC</span> Istio ingress gateway.</p>

                            </td>

                        </tr>

                    </tbody>
</table>

        </div>

    </div>
<div class="footer"><hr /><p>Installation and Upgrade Guide • P556766-DN1000055103-R23.8 • 1 • <a href="../home.html">Cover</a> • ©2023 Nokia. Nokia Confidential Information • Use subject to agreed restrictions on disclosure and use.</p></div></body>
</html>