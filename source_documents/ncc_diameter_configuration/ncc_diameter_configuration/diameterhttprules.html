<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2023" />
<meta name="DC.rights.owner" content="(C) Copyright 2023" />
<meta name="generator" content="DITA-OT" /><meta name="DC.type" content="concept" />
<meta name="DC.title" content="5G HTTP connectivity rules" />
<meta name="prodname" content="Nokia Converged Charging" />
<meta name="version" content="Release 23.8" />
<meta name="DC.format" content="XHTML" />
<meta name="DC.identifier" content="diameterhttprules" />
<link rel="stylesheet" type="text/css" href="../../web/css/commonltr.css" />
<link rel="stylesheet" type="text/css" href="../../web/css/styles.min.css" />
<link rel="stylesheet" type="text/css" href="../../web/css/common-extended.css" /><title>5G HTTP connectivity rules</title>
<script src="../web/js/nswtc.js" language="javascript" type="text/javascript">/*(◎_◎;)*/</script>
<script src="../../web/css/../js/script.min.js" language="javascript" type="text/javascript">/*(◎_◎;)*/</script>
</head>
<body id="diameterhttprules">
<div class="header"><div id="feedback-link-placeholder" class="feedback-link"></div><hr /></div><h1 class="title topictitle1" id="ariaid-title1">5G HTTP connectivity rules</h1>
<div class="body conbody">
        <div class="section" id="diameterhttprules__section_hjm_lhq_1nb">
            <p class="p">This chapter describes the <em class="ph i">5G-HTTP Message Manipulation Configuration</em> and its
                use of plugins.</p>

            <p class="p">Application plugins are automatically enabled for fresh installations of the
                application software. A newly installed NCC offers capabilities for the following
                tasks:</p>

            <p class="p">The request sequence is set to the following:</p>

            <ul class="ul" id="diameterhttprules__ul_xvm_shq_1nb">
                <li class="li">5G-HTTP Message Manipulation</li>

                <li class="li">HTTP 2 Diameter</li>

                <li class="li">OCS</li>

                <li class="li">PCRF</li>

            </ul>

        </div>

        <div class="section" id="diameterhttprules__section_pnw_5hq_1nb"><h2 class="title sectiontitle">5G-HTTP configuration provisioning</h2>
            
            <p class="p">To configure <span class="ph uicontrol">5G HTTP Connectivity Rules</span>, navigate to
                    <span class="ph uicontrol">Connectivity</span> → ☰ → <strong class="ph b">MESSAGE MANIPULATION</strong> and select
                    <span class="ph uicontrol">5G HTTP</span> tab.</p>

            <p class="p">The initial view for each tab in the SM GUI is a list of configured objects for that
                area. From the list page, you can create a new object, or perform an action (edit,
                distribute, clone, or delete) an existing one using the buttons on the right
                side.</p>

            <p class="p">After you make an NCC configuration change using the SM, you must send the
                configuration to the application using the <strong class="ph b">Distribute</strong> button on the list form
                for the change to take effect on NCC. The <strong class="ph b">Distribute</strong> button opens the
                distribution form where you can choose one or more available configurations from one
                list to a remote item in another list.</p>

            <p class="p">Actions appear as you hover the cursor over each line of configured items in the main
                windows of each menu item. For more information about actions that can be performed
                on rules and rule status, see the <em class="ph i">Rules and Variables</em> section in the
                    <em class="ph i">Charging User Guide</em>.</p>

            <div class="p">After selecting <span class="ph uicontrol">5G HTTP</span> tab in the <span class="ph uicontrol">MESSAGE
                    MANIPULATION</span> window, click <strong class="ph b">+</strong> and configure a 5G HTTP
                connectivity rule as described in the following table:<table cellpadding="4" cellspacing="0" summary="" id="diameterhttprules__table_sdd_tfs_qxb" class="table" frame="border" border="1" rules="all"><caption><span class="tablecap"><span class="table--title-label">Table: </span>5G HTTP Connectivity Rule parameters</span></caption><colgroup><col style="width:19.569471624266143%" /><col style="width:80.43052837573386%" /></colgroup><thead class="thead" style="text-align:left;">
                            <tr class="row">
                                <th class="entry cellrowborder" style="vertical-align:top;" id="d12404e126"><strong class="ph b">Parameter</strong></th>

                                <th class="entry cellrowborder" style="vertical-align:top;" id="d12404e130"><strong class="ph b">Description</strong></th>

                            </tr>

                        </thead>
<tbody class="tbody">
                            <tr class="row">
                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e126 ">Name</td>

                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e130 ">Enter a name for the connectivity rule.</td>

                            </tr>

                            <tr class="row">
                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e126 ">Description</td>

                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e130 ">Specify a description for the connectivity rule.</td>

                            </tr>

                        </tbody>
</table>
</div>

            <p class="p">Click <span class="ph uicontrol">APPLY</span>, and configure the rules and variables.</p>

        </div>

        <div class="section" id="diameterhttprules__section_kmt_3kq_1nb"><h2 class="title sectiontitle">5G-HTTP rule engine and rule system</h2>
            
            <div class="sectiondiv">
                <p class="p"><strong class="ph b"><strong class="ph b">5G-HTTP rule engine application plugin overview</strong></strong></p>

                <p class="p">The <em class="ph i">5G-HTTP Message Manipulation</em> plugin is supported to enable the
                    handling of 5G-HTTP message manipulation scenarios. </p>

                <p class="p">After the 5G-HTTP rules engine plugin has been sequenced, the 5G-HTTP message is
                    evaluated and invoked by the system to process the messages as shown in the
                    following figure:</p>

            </div>
            <div class="sectiondiv">
                <p class="p"><strong class="ph b">Rule profile (5G-HTTP rule system version)</strong></p>

                <p class="p">A rule system version captures a series of triggers and associated rule groups.
                    The SM supports a graphical drag-and-drop interface with an embedded text editor
                    for creating rules.</p>

            </div>
            <div class="sectiondiv">
                <p class="p"><strong class="ph b">Rule profile parameters</strong></p>

                <p class="p">In the <strong class="ph b">Rules and Variables</strong> window, enter information as shown in the
                    following table:</p>

                <table cellpadding="4" cellspacing="0" summary="" id="diameterhttprules__table_rzf_p2t_bnb" class="table" frame="border" border="1" rules="all"><colgroup><col style="width:19.569471624266143%" /><col style="width:80.43052837573386%" /></colgroup><thead class="thead" style="text-align:left;">
                            <tr class="row">
                                <th class="entry cellrowborder" style="vertical-align:top;" id="d12404e222"><strong class="ph b">Parameter</strong></th>

                                <th class="entry cellrowborder" style="vertical-align:top;" id="d12404e226"><strong class="ph b">Description</strong></th>

                            </tr>

                        </thead>
<tbody class="tbody">
                            <tr class="row">
                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e222 ">Name</td>

                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e226 ">Enter a name for the rule system version. Maximum characters
                                    50 only.</td>

                            </tr>

                            <tr class="row">
                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e222 ">Description</td>

                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e226 ">Specify a description of the profile.</td>

                            </tr>

                        </tbody>
</table>

                <p class="p">Next step is to provide triggers and rule group for RSV:</p>

                <table cellpadding="4" cellspacing="0" summary="" id="diameterhttprules__table_szf_p2t_bnb" class="table" frame="border" border="1" rules="all"><colgroup><col style="width:29.585798816568047%" /><col style="width:70.41420118343196%" /></colgroup><tbody class="tbody">
                            <tr class="row">
                                <td class="entry cellrowborder" style="vertical-align:top;"><strong class="ph b">Parameter</strong></td>

                                <td class="entry cellrowborder" style="vertical-align:top;"><strong class="ph b">Description</strong></td>

                            </tr>

                            <tr class="row">
                                <td class="entry cellrowborder" style="vertical-align:top;">Trigger</td>

                                <td class="entry cellrowborder" style="vertical-align:top;">Select a trigger to define one or more associations between
                                    triggers and rule groups.</td>

                            </tr>

                            <tr class="row">
                                <td class="entry cellrowborder" style="vertical-align:top;">Rule Groups</td>

                                <td class="entry cellrowborder" style="vertical-align:top;">Select a rule group or add a rule group to define one or more
                                    associations between triggers and rule groups. The selection
                                    opens an <strong class="ph b">Rule Configuration</strong> panel that allows you to
                                    provide a name and description for the rule group, state whether
                                    the rule group is a top-level rule group, and define the rules
                                    in the rule group.</td>

                            </tr>

                        </tbody>
</table>

            </div>
        </div>

        <div class="section" id="diameterhttprules__section_trv_mxt_bnb"><h2 class="title sectiontitle">5G HTTP message manipulation</h2>
            
            <p class="p">NCC allows message manipulation scenarios using the 5G HTTP rules and message filters
                to quickly and easily manipulate the basic types of 5G HTTP messages, which means
                the <strong class="ph b">Message Manipulation</strong> menu offers the capability to write 5G HTTP rules
                that manipulate generic message processing.</p>

            <p class="p">The 5G HTTP rules or filters are written to change the standard-based 5G HTTP
                application information in an inbound or outbound 5G HTTP message. The <strong class="ph b">HTTP
                    Message Manipulation</strong> plugin, which is automatically installed, allows to
                manipulate the messages, such as <var class="keyword varname">N40_CCCA</var>,
                    <var class="keyword varname">N40_CCUA</var>, <var class="keyword varname">N40_CCRA</var>,
                    <var class="keyword varname">N28_SLCSA</var>, and <var class="keyword varname">N28_SLCSR</var> to apply an
                outbound 5G HTTP message using a 5G HTTP rule.</p>

            <div class="note"><div class="notetitle"><img src="../../web/css/../images/note.svg" title="note-icon" class="noteicon" />Note:</div> The 5G HTTP message manipulation operations are applied outside the perspective of
                an application. In case you influence the content of a message using message
                manipulation, then you must consider that the message may not preserved in the
                context of the session state stored in NCC.</div>

            <p class="p">The <strong class="ph b"><em class="ph i">5G-HTTP rules</em></strong> sub-menu under the <strong class="ph b">Message Manipulation</strong> menu
                allows adapting 5G-HTTP application or command information and controlling generic
                message processing. The <strong class="ph b"><em class="ph i">5G-HTTP rules</em></strong> sub-menu allows to use the rule
                editor with the auto-suggest function to author a rule.</p>

            
            <div class="sectiondiv">
                <p class="p"><strong class="ph b">Dictionary of definitions for the Information Elements (IEs)</strong></p>

                <p class="p">NCC provides a dictionary of definitions for the IEs present in the supported 5G
                    HTTP applications, and these dictionaries to generate source and result contexts
                    to build filters and actions. Each 5G HTTP IE is made available as an attribute
                    of the context corresponding to the message type it is contained in. For
                    example, HTTP status code is made available as an attribute of  <em class="ph i">N40_CCCA</em>. </p>

                <p class="p">You can write filters to specify the actions performed on the 5G HTTP messages
                    and the conditions when these actions should occur.</p>

                
            </div>
            <div class="sectiondiv">
                <p class="p"><strong class="ph b">5G-HTTP rule and message filter construction</strong></p>

                <p class="p">The 5G-HTTP rules GUI allows to author specific rules for 5G-HTTP messages. A
                    rule consists of criteria that are matched against the message being processed
                    followed by the actions taken on a match of criteria.</p>

                <p class="p">Message filters provide a way to customize the behavior of a plugin and are based
                    on a simplified version of the rule. In a message filter, a condition is always
                        <samp class="ph systemoutput">&lt;context.attribute&gt; &lt;operator&gt; &lt;literal
                        data&gt;</samp>, for which only ANDing of conditions is supported. To
                    see the selection available in the SM GUI, click on the context box in a 5G-HTTP
                    rule or message filter criterion and choose a context. Then click and choose the
                    attribute.</p>

                <p class="p">There are specific classes for each context but all 5G-HTTP messages are
                    implemented using three classes:</p>

                <ul class="ul" id="diameterhttprules__ul_icg_j15_bnb">
                    <li class="li"><em class="ph i">RequestMessageContext</em></li>

                    <li class="li"><em class="ph i">AnswerMessageContext</em></li>

                    <li class="li"><em class="ph i">AbstractMessageContext</em></li>

                </ul>

                <p class="p">There are many contexts that NCC supports with the following for N40 to name a
                    few:</p>

                <ul class="ul" id="diameterhttprules__ul_jcg_j15_bnb">
                    <li class="li">CCCR</li>

                    <li class="li">CCCA</li>

                    <li class="li">CCUR</li>

                    <li class="li">CCUA</li>

                    <li class="li">CCRR</li>

                    <li class="li">CCRA</li>

                </ul>

                <p class="p">The following is an example of a rule that you could use in a 5G-HTTP rule or
                    message filter where <em class="ph i">MultipleUnitInformation.resultCode</em> is an attribute
                    of an <em class="ph i">N40 CCCA</em> message context:</p>

                <table cellpadding="4" cellspacing="0" summary="" id="diameterhttprules__table_kcg_j15_bnb" class="table" frame="border" border="1" rules="all"><colgroup><col /></colgroup><tbody class="tbody">
                            <tr class="row">
                                <td class="entry cellrowborder" style="vertical-align:top;">
                                    <p class="p"><samp class="ph systemoutput">if</samp></p>

                                    <p class="p"><samp class="ph systemoutput">N40_CCCA.MultipleUnitInformation.resultCode =
                                            "QUOTA_LIMIT_REACHED"</samp></p>

                                    <p class="p"><samp class="ph systemoutput">then</samp></p>

                                    <p class="p"><samp class="ph systemoutput">N40_CCCA.MultipleUnitInformation.resultCode =
                                            "SUCCESS"</samp></p>

                                </td>

                            </tr>

                        </tbody>
</table>

                <p class="p"> There are a number of attributes and actions available in the contexts. Standard
                    actions and additional attributes are available for every IE, for example:</p>

                <ul class="ul" id="diameterhttprules__ul_lcg_j15_bnb">
                    <li class="li">attributes, such as <em class="ph i">Total-Number-Of-Values</em>,
                            <em class="ph i">Number-Of-Values-At-Index</em></li>

                    <li class="li">actions, such as <em class="ph i">set</em></li>

                </ul>

                <p class="p">All of the attributes and actions are automatically determined and pre-populated
                    according to the context type selected. For example, if you select
                        <em class="ph i">N40_CCCA</em> as the context, then your next choice of attribute or action
                    is from a list of only those attributes and actions that are available within
                    the <em class="ph i">N40_CCCA</em> context.</p>

                <p class="p">There are contexts that NCC supports with the following for N28:</p>

                <ul class="ul" id="diameterhttprules__ul_qqp_3jc_cnb">
                    <li class="li">SLCSA</li>

                    <li class="li">SLCSR</li>

                </ul>

                <p class="p">The following is an example of a rule to use in a 5G-HTTP rule or message filter
                    for <var class="keyword varname">N28_SLCSA</var>:</p>

                <div class="fig fignone" id="diameterhttprules__fig_ftq_vjc_cnb">
                    <img class="image break" id="diameterhttprules__image_ilk_wjc_cnb" src="../images/n28_msg_manipul.png" />
                </div>

            </div>
            <div class="sectiondiv">
                <p class="p"><strong class="ph b">Structure of 5G-HTTP IEs</strong></p>

                <p class="p">The structure of the 5G-HTTP attributes for HTTP request and answer contexts are
                    defined by the relevant standards document for the given message type.</p>

                <p class="p"> A 5G-HTTP IE is usually a simple or complex value, which appears once or more
                    than once. A 5G-HTTP message must have at least one IE. Further, the 5G-HTTP
                    protocol also defines the IE structure for a message.</p>

                <p class="p"> The following IE structures are allowed:</p>

                <ul class="ul" id="diameterhttprules__ul_ncg_j15_bnb">
                    <li class="li"><strong class="ph b">Simple IE</strong>- The IE is a simple value, such as, int, string, enum
                        etc.</li>

                    <li class="li"><strong class="ph b">Complex IE</strong> - The IE is a container of a collection of other IE, each
                        of which may be <var class="keyword varname">simple</var> values or
                            <var class="keyword varname">Complex</var> IEs themselves. For example, in a
                            <em class="ph i">N40_CCCA</em> message, the <strong class="ph b">MultipleUnitInformation</strong> is
                        multi-valued and of type <var class="keyword varname">Complex</var>.</li>

                    <li class="li"><strong class="ph b">Multi-value IE</strong>- The IE (<var class="keyword varname">simple</var> or
                            <var class="keyword varname">Complex</var>) appears more than once in the 5G -HTTP
                        message. For example, <strong class="ph b">MultipleUnitInformation</strong> IE in a N40_CCCA
                        message.</li>

                    <li class="li"><strong class="ph b">Single-value IE</strong>- The IE (<var class="keyword varname">simple</var> or
                            <var class="keyword varname">Complex</var>) appears once in the 5G-HTTP message. For
                        example, invocationResult in a <em class="ph i">N40 CCCA</em> message.</li>

                </ul>

                
            </div>
            <div class="sectiondiv">
                <p class="p"><strong class="ph b">Common action types for 5G-HTTP IEs</strong></p>

                <p class="p">NCC provides a set of basic actions/attributes that support the content
                    manipulation of any IE instance an IE. The common action types are specified as
                    part of the action attribute name in the <strong class="ph b">Action Attribute</strong> table for the
                    filter. The actions are available across both single-value and multi-value IE
                    structures.</p>

                <p class="p"> The table below describes the set of basic actions/attributes that allow you to
                    manipulate 5G-HTTP IEs in a message context.</p>

                <table cellpadding="4" cellspacing="0" summary="" id="diameterhttprules__table_pcg_j15_bnb" class="table" frame="border" border="1" rules="all"><colgroup><col style="width:16.806722689075627%" /><col style="width:83.19327731092437%" /></colgroup><thead class="thead" style="text-align:left;">
                            <tr class="row">
                                <th class="entry cellrowborder" style="vertical-align:top;" id="d12404e625">Action name</th>

                                <th class="entry cellrowborder" style="vertical-align:top;" id="d12404e628">Purpose</th>

                            </tr>

                        </thead>
<tbody class="tbody">
                            <tr class="row">
                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e625 ">Set</td>

                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e628 ">
                                    <p class="p">Allows you to set the value of an IE either by overwriting
                                        the existing value, or by adding the IE when it does not
                                        already exist in the 5G-HTTP message.</p>

                                    <p class="p">For example,
                                            <em class="ph i">N40_CCCA.MultipleUnitInformation.ResultCode-Enum.Set</em>
                                        = <var class="keyword varname">ResultCode_SUCCESS</var>.</p>

                                </td>

                            </tr>

                        </tbody>
</table>

            </div>
        </div>

        <div class="section" id="diameterhttprules__section_b3x_z51_cnb"><h2 class="title sectiontitle">5G-HTTP supported context</h2>
            
            <p class="p">Following are the supported 5G-HTTP contexts used to write the rule condition and
                action in <em class="ph i">if-then-else</em> format:</p>

            <ul class="ul" id="diameterhttprules__ul_snh_bv1_cnb">
                <li class="li"><em class="ph i">N40_CCCR</em> (which means, <em class="ph i">Nchf_ConvergedCharging_Create_Request</em>)</li>

                <li class="li"><em class="ph i">N40_CCCA</em> (which means, <em class="ph i">Nchf_ConvergedCharging_Create_Answer</em>)</li>

                <li class="li"><em class="ph i">N40_CCUR</em> (which means, <em class="ph i">Nchf_ConvergedCharging_Update_Request</em>)</li>

                <li class="li"><em class="ph i">N40_CCUA</em> (which means, <em class="ph i">Nchf_ConvergedCharging_Update_Answer</em>)</li>

                <li class="li"><em class="ph i">N40_CCRR</em> (which means,
                    <em class="ph i">Nchf_ConvergedCharging_Release_Request</em>)</li>

                <li class="li"><em class="ph i">N40_CCRA</em> (which means, <em class="ph i">Nchf_ConvergedCharging_Release_Answer</em>)</li>

                <li class="li"><em class="ph i">N28_SLCSR</em> (which means,
                        <em class="ph i">Nchf_SpendingLimitControl_Subscribe_Request</em>)</li>

                <li class="li"><em class="ph i">N28_SLCSA</em> (which means,
                    <em class="ph i">Nchf_SpendingLimitControl_Subscribe_Answer</em>)</li>

                <li class="li"><em class="ph i">N28_SLCSUR</em> (which means,
                        <em class="ph i">Nchf_SpendingLimitControl_Subscribe_Update_Request</em>)</li>

                <li class="li"><em class="ph i">N28_SLCSUA</em> (which means,
                        <em class="ph i">Nchf_SpendingLimitControl_Subscribe_Update_Answer</em>)</li>

                <li class="li"><em class="ph i">N28_SLCUR</em> (which means,
                        <em class="ph i">Nchf_SpendingLimitControl_Unsubscribe_Request</em>)</li>

                <li class="li"><em class="ph i">N28_SLCUA</em> (which means,
                        <em class="ph i">Nchf_SpendingLimitControl_Unsubscribe_Answer</em>)</li>

            </ul>

            <div class="p">NCC allows you to write rules and message filters to manipulate the processing of
                5G-HTTP request and response messages.<div class="note" id="diameterhttprules__note_kkf_1ld_mqb"><div class="notetitle"><img src="../../web/css/../images/note.svg" title="note-icon" class="noteicon" />Note:</div> If the call fails
                    before entering the message manipulation plugin, then the http headers are not
                    added, even if configured in RSV.</div>
</div>

            <p class="p">The following table describes actions available for 5G-HTTP message contexts.</p>

            <table cellpadding="4" cellspacing="0" summary="" id="diameterhttprules__table_unh_bv1_cnb" class="table" frame="border" border="1" rules="all"><colgroup><col style="width:46.51162790697674%" /><col style="width:53.48837209302325%" /></colgroup><thead class="thead" style="text-align:left;">
                        <tr class="row">
                            <th class="entry cellrowborder" style="vertical-align:top;" id="d12404e794">Action</th>

                            <th class="entry cellrowborder" style="vertical-align:top;" id="d12404e797">Description</th>

                        </tr>

                    </thead>
<tbody class="tbody">
                        <tr class="row">
                            <td class="entry cellrowborder" colspan="2" style="vertical-align:top;" headers="d12404e794 d12404e797 "><strong class="ph b">N40</strong></td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e794 ">Clear-Read-Indices</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e797 ">
                                <p class="p">Allows to clear the <em class="ph i">Read-Index</em> cache maintained by NCC.
                                    The cache is automatically cleared for public rule table
                                    invocations.</p>

                                <p class="p">The action uses the following syntax:</p>

                                <p class="p"><samp class="ph systemoutput">&lt;Context&gt;.Clear-Read-Indices</samp></p>

                                <p class="p">The <samp class="ph systemoutput">&lt;context&gt;</samp> can be any NCC
                                    message context. For example, <em class="ph i">N40_CCCA.Clear-Read-Indices</em>
                                    clear the <em class="ph i">Read-Index</em> cache for the <em class="ph i">N40_CCCA</em>
                                    message.</p>

                            </td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e794 ">Clear-Write-Indices</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e797 ">
                                <p class="p">Allows to clear the <em class="ph i">Write-Index</em> cache maintained by NCC.
                                    The cache is automatically cleared for public rule table
                                    invocations.</p>

                                <p class="p">The action uses the following syntax:</p>

                                <p class="p"><samp class="ph systemoutput">&lt;Context&gt;.Clear-Write-Indices</samp></p>

                                <p class="p">The <samp class="ph systemoutput">&lt;context&gt;</samp> can be any NCC
                                    message context. For example,
                                        <em class="ph i">N40_CCCA.Clear-Write-Indices</em> clear the
                                        <em class="ph i">Write-Index</em> cache for the <em class="ph i">N40_CCCA</em>
                                    message.</p>

                            </td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e794 ">Log-Error-EDR</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e797 ">
                                <p class="p">When invoked from the 5G-HTTP related message rule sets, this
                                    attribute enables EDR logging. Log-Error-EDR
                                        (<em class="ph i">Edr_Tag_ENUM</em>,
                                        <var class="keyword varname">Edr_Tag_Value_STRING</var>)</p>

                                <p class="p"><strong class="ph b">Note</strong>: This action allows to select ENUM option for
                                        <em class="ph i">Edr_Tag_ENUM</em> and set the correct value type in
                                        <var class="keyword varname">Edr_Tag_Value_STRING</var>. It is the
                                    operator/customer responsibility to fill the value of right type
                                    inside second parameter.</p>

                            </td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e794 ">MultipleUnitInformation.Read-Index</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e797 ">
                                <p class="p">Used to access <em class="ph i">MultipleUnitInformation Read-Index</em>.</p>

                            </td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e794 ">MultipleUnitInformation.Write-Index</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e797 ">
                                <p class="p">Reads the <em class="ph i">MultipleUnitInformation Write Index</em> in the
                                    message.</p>

                            </td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e794 ">MultipleUnitInformation.resultCode-Enum.Set</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e797 ">Sets the <em class="ph i">MultipleUnitInformation.resultCode-Enum</em> in the
                                message.</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e794 ">MultipleUnitInformation.resultCode.Set</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e797 ">
                                <p class="p">Sets the <em class="ph i">MultipleUnitInformation.resultCode</em>.</p>

                                <p class="p"><strong class="ph b">Note</strong>: This action allows to set value as free string. It
                                    can also be set as <var class="keyword varname">ENUM</var> using
                                        <var class="keyword varname">Enum.Set</var> action. With
                                        <var class="keyword varname">ENUM</var>, one cannot select other values than
                                    given options.</p>

                            </td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e794 ">MultipleUnitInformation.ratingGroup.Set</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e797 ">Sets the <em class="ph i">MultipleUnitInformation.ratingGroup</em> in the
                                message.</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e794 ">invocationResult.error.cause-Enum.Set</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e797 ">Sets the <em class="ph i">invocationResult.error.cause-Enum</em> in the
                                message.</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e794 ">invocationResult.error.cause.Set</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e797 ">
                                <p class="p">Sets the <em class="ph i">invocationResult.error.cause</em>.</p>

                                <p class="p"><strong class="ph b">Note</strong>: This action allows to set value as free string. It
                                    can also be set as <var class="keyword varname">ENUM</var> using
                                        <var class="keyword varname">Enum.Set</var> action. With
                                        <var class="keyword varname">ENUM</var>, one cannot select other values than
                                    given options.</p>

                            </td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e794 ">invocationResult.error.detail.Set</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e797 ">Sets the <em class="ph i">invocationResult.error.detail</em>.</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e794 ">invocationResult.error.title.Set</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e797 ">Sets the <em class="ph i">invocationResult.error.title</em>.</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e794 ">invocationResult.error.status-Enum.Set</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e797 ">Sets the <em class="ph i">invocationResult.error.status-Enum</em> in the
                                message.</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e794 ">invocationResult.error.status.Set</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e797 ">
                                <p class="p">Sets the <em class="ph i">invocationResult.error.status</em>.</p>

                                <p class="p"><strong class="ph b">Note</strong>: This action allows to set value as free string. It
                                    can also be set as <var class="keyword varname">ENUM</var> using
                                        <var class="keyword varname">Enum.Set</var> action. With
                                        <var class="keyword varname">ENUM</var>, one cannot select other values than
                                    given options.</p>

                            </td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e794 ">invocationResult.error.instance.Set</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e797 ">Sets the <em class="ph i">invocationResult.error.instance</em> in the
                                message.</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e794 ">invocationResult.error.invalidParams.Read-Index</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e797 ">
                                <p class="p">Used to access
                                        <em class="ph i">invocationResult.error.invalidParams.Read-Index</em> in
                                    the message.</p>

                            </td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e794 ">invocationResult.error.invalidParams.Write-Index</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e797 ">
                                <p class="p">Reads the <em class="ph i">invocationResult.error.invalidParams.Write-Index</em>
                                    in the message.</p>

                            </td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e794 ">invocationResult.error.invalidParams.param.Set</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e797 ">Sets the <em class="ph i">invocationResult.error.invalidParams.param</em> in the
                                message.</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e794 ">invocationResult.error.invalidParams.reason.Set</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e797 ">Sets the <em class="ph i">invocationResult.error.invalidParams.reason</em> in
                                the message.</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e794 ">invocationResult.error.type.Set</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e797 ">Sets the <em class="ph i">invocationResult.error.type</em> in the
                                message.</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e794 ">invocationResult.error.supportedFeatures.Set</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e797 ">Sets the <em class="ph i">invocationResult.error.supportedFeatures</em> in the
                                message.</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e794 ">invocationResult.failureHandling-Enum.Set</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e797 ">Sets the <em class="ph i">invocationResult.failureHandling-Enum</em> in the
                                message.</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e794 ">invocationResult.failureHandling.Set</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e797 ">
                                <p class="p">Sets the <em class="ph i">invocationResult.failureHandling</em> in the
                                    message.</p>

                                <p class="p"><strong class="ph b">Note</strong>: This action allows to set value as free string. It
                                    can also be set as <var class="keyword varname">ENUM</var> using
                                        <var class="keyword varname">Enum.Set</var> action. With
                                        <var class="keyword varname">ENUM</var>, one cannot select other values than
                                    given options.</p>

                            </td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e794 ">status-Enum.Set</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e797 ">Sets the status-Enum in the message</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e794 ">status.Set</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e797 ">
                                <p class="p">Sets the status.</p>

                                <p class="p"><strong class="ph b">Note</strong>: This action allows to set value as free string. It
                                    can also be set as <var class="keyword varname">ENUM</var> using
                                        <var class="keyword varname">Enum.Set</var> action. With
                                        <var class="keyword varname">ENUM</var>, one cannot select other values than
                                    given options.</p>

                            </td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e794 ">sessionFailover-Enum.Set</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e797 ">Sets the <em class="ph i">sessionFailover-Enum</em> in the message.</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e794 ">sessionFailover.Set</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e797 ">
                                <p class="p">Sets the <em class="ph i">sessionFailover</em>.</p>

                                <p class="p"><strong class="ph b">Note</strong>: This action allows to set value as free string. It
                                    can also be set as <var class="keyword varname">ENUM</var> using
                                        <var class="keyword varname">Enum.Set</var> action. With
                                        <var class="keyword varname">ENUM</var>, one cannot select other values than
                                    given options.</p>

                            </td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e794 ">nfConsumerIdentification.nodeFunctionality-Enum.Set</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e797 ">Sets the <em class="ph i">nfConsumerIdentification.nodeFunctionality-Enum</em>
                                in the message.</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e794 ">nfConsumerIdentification.nodeFunctionality.Set</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e797 ">
                                <p class="p">Sets the <em class="ph i">nfConsumerIdentification.nodeFunctionality</em>.</p>

                                <p class="p"><strong class="ph b">Note</strong>: This action allows to set value as free string. It
                                    can also be set as <var class="keyword varname">ENUM</var> using
                                        <var class="keyword varname">Enum.Set</var> action. With
                                        <var class="keyword varname">ENUM</var>, one cannot select other values than
                                    given options.</p>

                            </td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e794 ">nfConsumerIdentification.nFPLMNID.mcc.Set</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e797 ">Sets the <em class="ph i">nfConsumerIdentification.nFPLMNID.mcc</em> in the
                                message.</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e794 ">nfConsumerIdentification.nFPLMNID.mnc.Set</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e797 ">Sets the <em class="ph i">nfConsumerIdentification.nFPLMNID.mnc</em> in the
                                message.</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e794 ">nfConsumerIdentification.nFFqdn.Set</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e797 ">Sets the <em class="ph i">nfConsumerIdentification.nFFqdn</em> in the
                                message.</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e794 ">nfConsumerIdentification.nFName.Set</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e797 ">Sets the <em class="ph i">nfConsumerIdentification.nFName</em> in the
                                message.</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e794 ">multipleUnitUsage.Read-Index</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e797 ">
                                <p class="p">Used to <em class="ph i">access multipleUnitUsage.Read-Index</em>.</p>

                            </td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e794 ">multipleUnitUsage.Write-Index</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e797 ">
                                <p class="p">Reads the <em class="ph i">multipleUnitUsage.Write Index</em> in the
                                    message.</p>

                            </td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e794 ">multipleUnitUsage.usedUnitContainer.Read-Index</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e797 ">
                                <p class="p">Used to <em class="ph i">access multipleUnitUsage.
                                        usedUnitContainer.Read-Index</em>.</p>

                            </td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e794 ">multipleUnitUsage.usedUnitContainer.Write-Index</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e797 ">
                                <p class="p">Reads the <em class="ph i">multipleUnitUsage. usedUnitContainer.Write Index</em>
                                    in the message.</p>

                            </td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e794 ">multipleUnitUsage.ratingGroup.Set</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e797 ">Sets the <em class="ph i">multipleUnitUsage.ratingGroup</em> in the
                                message.</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e794 ">
                                <p class="p">multipleUnitUsage.usedUnitContainer.
                                    quotaManagementIndicator-Enum.Set</p>

                            </td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e797 ">
                                <p class="p">Sets the
                                        <em class="ph i">multipleUnitUsage.usedUnitContainer.quotaManagementIndicator-Enum</em>
                                    in the message.</p>

                            </td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e794 ">
                                <p class="p">multipleUnitUsage.usedUnitContainer.quotaManagementIndicator.Set
                                </p>

                            </td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e797 ">
                                <p class="p">Sets the <em class="ph i">multipleUnitUsage.usedUnitContainer.
                                        quotaManagementIndicator</em> in the message.</p>

                                <p class="p"><strong class="ph b">Note</strong>: This action allows to set value as free string. It
                                    can also be set as <var class="keyword varname">ENUM</var> using
                                        <var class="keyword varname">Enum.Set</var> action. With
                                        <var class="keyword varname">ENUM</var>, one cannot select other values than
                                    given options.</p>

                            </td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e794 ">multipleUnitUsage.usedUnitContainer.serviceId.Set</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e797 ">
                                <p class="p">Sets the <em class="ph i">multipleUnitUsage.usedUnitContainer.serviceId</em> in
                                    the message.</p>

                            </td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e794 ">notifyUri.Set</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e797 ">Sets the <em class="ph i">notifyUri</em> in the message.</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e794 ">subscriberIdentifier.supi.Set</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e797 ">Sets the <em class="ph i">subscriberIdentifier.supi</em> in the message.</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e794 ">HttpHeader.3gpp-Sbi-Message-Priority</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e797 ">Used to specify the HTTP/2 message priority for 3GPP service
                                based interfaces. This header is included in HTTP/2 messages when a
                                priority for the message is to be conveyed (for example, HTTP/2
                                messages related to Multimedia Priority Sessions).</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e794 ">HttpHeader.3gpp-Sbi-Callback</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e797 ">
                                <p class="p">Used to indicate if a HTTP/2 message is a callback (for example,
                                    notification).</p>

                                <p class="p">It is included in HTTP POST messages for callbacks towards NF
                                    service consumer(s) in another PLMN via the SEPP.</p>

                                <p class="p">It is also included in HTTP POST messages for callbacks in
                                    indirect communication.</p>

                            </td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e794 ">HttpHeader.3gpp-Sbi-Target-apiRoot</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e797 ">
                                <p class="p">Used by an HTTP client to indicate the <var class="keyword varname">apiRoot</var>
                                    of the target URI when communicating indirectly with the HTTP
                                    server via an SCP.</p>

                                <p class="p">This is also be used by an HTTP client to indicate the
                                        <var class="keyword varname">apiRoot</var> of the target URI towards HTTP
                                    server in another PLMN via the SEPP, when TLS is used between
                                    the SEPPs.</p>

                            </td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e794 ">HttpHeader.3gpp-Sbi-Routing-Binding</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e797 ">Used in a service request to signal binding information to direct
                                the service request to an HTTP server which has the targeted NF
                                Service Resource context.</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e794 ">HttpHeader.3gpp-Sbi-Binding</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e797 ">Used to signal binding information related to an NF Service
                                Resource to a future consumer (HTTP client) of that
                                resource.</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e794 ">HttpHeader.3gpp-Sbi-Producer-Id</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e797 ">Used in a service response from the SCP to the NF Service
                                Consumer, when using indirect communication with delegated discovery
                                and the NF Service Producer does not return a binding indication in
                                a service response creating a resource.</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e794 ">HttpHeader.3gpp-Sbi-Oci</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e797 ">
                                <p class="p">Used by an overloaded NF Service Producer in a service response,
                                    or in a notification request to signal Overload Control
                                    Information (OCI) to the NF Service Consumer.</p>

                                <p class="p">This is also used by an overloaded NF Service Consumer in a
                                    notification response or in a service request to signal Overload
                                    Control Information (OCI) to the NF Service Producer.</p>

                            </td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e794 ">HttpHeader.3gpp-Sbi-Lci</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e797 ">Used by a NF Service Producer to send Load Control Information
                                (LCI) to the NF Service Consumer.</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e794 ">HttpHeader.3gpp-Sbi-Origination-Timestamp</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e797 ">The header contains the date and time (with a millisecond
                                granularity) when the originating entity initiated the
                                request.</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e794 ">HttpHeader.3gpp-Sbi-Sender-Timestamp</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e797 ">Used to indicate the date and time (with a millisecond
                                granularity) at which an HTTP request or response is originated.
                                This is also used, for example, for measuring signaling delays
                                between different NF service instances.</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e794 ">HttpHeader.3gpp-Sbi-Max-Rsp-Time</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e797 ">Used in a HTTP request to indicate the duration during which the
                                HTTP client waits for a response</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e794 ">HttpHeader.3gpp-Sbi-Correlation-Info</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e797 ">The value to be provided is the IMSI (SUPI), MSISDN(GPSI), NAI,
                                or External ID.</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e794 ">HttpHeader.User-Agent</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e797 ">The User-Agent header provides a mechanism for indicating the NF
                                name to other servers where NCC is acting as the client in the
                                message flow. It also indicates the time of receiving the message,
                                and the original client of the request.</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" colspan="2" style="vertical-align:top;" headers="d12404e794 d12404e797 "><strong class="ph b">N28</strong></td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e794 ">HttpHeader.3gpp-Sbi-Message-Priority</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e797 ">Used to specify the HTTP/2 message priority for 3GPP service
                                based interfaces. This header is included in HTTP/2 messages when a
                                priority for the message is to be conveyed (for example, HTTP/2
                                messages related to Multimedia Priority Sessions).</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e794 ">HttpHeader.3gpp-Sbi-Callback</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e797 ">
                                <p class="p">Used to indicate if a HTTP/2 message is a callback (for example,
                                    notification).</p>

                                <p class="p">It is included in HTTP POST messages for callbacks towards NF
                                    service consumer(s) in another PLMN via the SEPP.</p>

                                <p class="p">It is also included in HTTP POST messages for callbacks in
                                    indirect communication.</p>

                            </td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e794 ">HttpHeader.3gpp-Sbi-Target-apiRoot</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e797 ">
                                <p class="p">Used by an HTTP client to indicate the <var class="keyword varname">apiRoot</var>
                                    of the target URI when communicating indirectly with the HTTP
                                    server via an SCP.</p>

                                <p class="p">This is also be used by an HTTP client to indicate the
                                        <var class="keyword varname">apiRoot</var> of the target URI towards HTTP
                                    server in another PLMN via the SEPP, when TLS is used between
                                    the SEPPs.</p>

                            </td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e794 ">HttpHeader.3gpp-Sbi-Routing-Binding</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e797 ">Used in a service request to signal binding information to direct
                                the service request to an HTTP server which has the targeted NF
                                Service Resource context.</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e794 ">HttpHeader.3gpp-Sbi-Binding</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e797 ">Used to signal binding information related to an NF Service
                                Resource to a future consumer (HTTP client) of that
                                resource.</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e794 ">HttpHeader.3gpp-Sbi-Producer-Id</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e797 ">Used in a service response from the SCP to the NF Service
                                Consumer, when using indirect communication with delegated discovery
                                and the NF Service Producer does not return a binding indication in
                                a service response creating a resource.</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e794 ">HttpHeader.3gpp-Sbi-Oci</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e797 ">
                                <p class="p">Used by an overloaded NF Service Producer in a service response,
                                    or in a notification request to signal Overload Control
                                    Information (OCI) to the NF Service Consumer.</p>

                                <p class="p">This is also used by an overloaded NF Service Consumer in a
                                    notification response or in a service request to signal Overload
                                    Control Information (OCI) to the NF Service Producer.</p>

                            </td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e794 ">HttpHeader.3gpp-Sbi-Lci</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e797 ">Used by a NF Service Producer to send Load Control Information
                                (LCI) to the NF Service Consumer.</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e794 ">HttpHeader.3gpp-Sbi-Origination-Timestamp</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e797 ">The header contains the date and time (with a millisecond
                                granularity) when the originating entity initiated the
                                request.</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e794 ">HttpHeader.3gpp-Sbi-Sender-Timestamp</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e797 ">Used to indicate the date and time (with a millisecond
                                granularity) at which an HTTP request or response is originated.
                                This is also used, for example, for measuring signaling delays
                                between different NF service instances.</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e794 ">HttpHeader.3gpp-Sbi-Max-Rsp-Time</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e797 ">Used in a HTTP request to indicate the duration during which the
                                HTTP client waits for a response</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e794 ">HttpHeader.3gpp-Sbi-Correlation-Info</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e797 ">The value to be provided is the IMSI (SUPI), MSISDN(GPSI), NAI,
                                or External ID.</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e794 ">HttpHeader.User-Agent</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d12404e797 ">The User-Agent header provides a mechanism for indicating the NF
                                name to other servers where NCC is acting as the client in the
                                message flow. It also indicates the time of receiving the message,
                                and the original client of the request.</td>

                        </tr>

                    </tbody>
</table>

            <div class="note"><div class="notetitle"><img src="../../web/css/../images/note.svg" title="note-icon" class="noteicon" />Note:</div> Following are some notable information about N28 attributes:<ul class="ul" id="diameterhttprules__ul_a33_dnc_cnb">
                    <li class="li">N28 HTTP header conversion in inbound request/response are not supported in
                        rules as currently no triggers are evaluated during N28 request/response
                        processing. The custom headers manipulation are supported in N28 answers
                        through HTTP Message Manipulation plugin.</li>

                    <li class="li">Validation of header attribute is not done.</li>

                    <li class="li">No functionality is implemented based on the header attributes. These are
                        available only in the rules in source/result context.</li>

                    <li class="li">To send <em class="ph i">3gpp-Sbi-Binding</em> header in outbound and response messages,
                        refer to section <a class="xref" href="#diameterhttprules__section_m1b_4rj_qwb">3gpp-Sbi-Binding and Server headers</a>.</li>

                </ul>
</div>

            <div class="p">
                <div class="fig fignone" id="diameterhttprules__fig_uhc_2s5_pqb"><span class="figcap"><span class="fig--title-label">Figure: </span>Message Manipulation in N28 answer</span>
                    
                    <img class="image break" id="diameterhttprules__image_psh_ds5_pqb" height="192" src="../images/message_manipulatio_n28.png" width="576" />
                </div>

            </div>

            <div class="p">
                <div class="fig fignone" id="diameterhttprules__fig_jyl_hs5_pqb"><span class="figcap"><span class="fig--title-label">Figure: </span>Message Manipulation in N40 answer</span>
                    
                    <img class="image break" id="diameterhttprules__image_qpy_ks5_pqb" height="192" src="../images/message_manipulation_n40.png" width="576" />
                </div>

            </div>

            <p class="p"><strong class="ph b">Additional information</strong></p>

            <p class="p">Custom headers in outbound messages:</p>

            <div class="p">Custom headers are added in the outbound messages only when the TPA system property
                    <em class="ph i">Include Custom Headers in Outbound Messages</em> is enabled.<ul class="ul" id="diameterhttprules__ul_uch_zn5_3qb">
                    <li class="li"><em class="ph i">3gpp-Sbi-Correlation-Info</em>:<ul class="ul" id="diameterhttprules__ul_zvw_145_3qb">
                            <li class="li">NCC uses the <em class="ph i">SubscriptionID</em> parameter of the SNR message as a
                                value of <em class="ph i">3gpp-Sbi-Correlation-Info</em>. NCC sends only one value
                                of <em class="ph i">3gpp-Sbi-Correlation-Info</em> in SNR Message.</li>

                            <li class="li">NCC uses the SubscriptionID parameter of the ASR and RAR messages as
                                a value of 3gpp-Sbi-Correlation-Info.<p class="p">For RAR and ASR messages,
                                    the <em class="ph i">3gpp-Sbi-Correlation-Info</em> can have multiple
                                    values.</p>
</li>

                        </ul>
</li>

                    <li class="li"><em class="ph i">3gpp-Sbi-Message-Priority</em><ul class="ul" id="diameterhttprules__ul_gvy_tq5_3qb">
                            <li class="li"><em class="ph i">3gpp-Sbi-Message-Priority</em> header can be sent in the outbound
                                messages (SNR, ASR, and RAR).</li>

                            <li class="li">The value of <em class="ph i">3gpp-Sbi-Message-Priority</em> is decided by the
                                following system property:<ul class="ul" id="diameterhttprules__ul_hyx_wsc_mqb">
                                    <li class="li"><em class="ph i">Message Priority for OutBound Messages</em>: Used as
                                            <em class="ph i">3gpp-Sbi-Message-Priority</em> in outbound messages
                                        (SNR, ASR, and RAR).</li>

                                </ul>
</li>

                        </ul>
</li>

                    <li class="li"><em class="ph i">User-Agent</em><ul class="ul" id="diameterhttprules__ul_ifb_cr5_3qb">
                            <li class="li"><em class="ph i">User-Agent</em> header can be added in the outbound messages (SNR,
                                ASR, and RAR).</li>

                            <li class="li">
                                <p class="p">User-Agent is also added in the error message of responses to
                                        <em class="ph i">Nchf_ConvergedCharging</em>, and
                                        <em class="ph i">Nchf_SpendingLimitControl</em>. NCC appends the
                                        <em class="ph i">User-Agent</em> only with the details tag. If the details
                                    tag is not present in the error message, then <em class="ph i">User-Agent</em>
                                    is not added.</p>

                            </li>

                            <li class="li">The format of the <em class="ph i">User-Agent</em> is <code class="ph codeph">&lt;NF Type&gt;-&lt;NF
                                    instance ID&gt; &lt;NF FQDN&gt;</code>. </li>

                        </ul>
</li>

                </ul>
</div>

            <p class="p"><em class="ph i">User-Agent</em> in error message:</p>

            <p class="p">For example: If the device does not exist on the CHF-Router or CHF, then the
                following response is received with <em class="ph i">User-Agent</em> information in the details
                tag: </p>

            <pre class="pre codeblock" id="diameterhttprules__codeblock_ulh_5s5_3qb"><code>{
    "invocationTimestamp": "2021-07-01T13:45:25Z",
    "invocationResult":
    {
        "error":
        {
            "type": "http://10.75.72.113:8081/nchf-convergedcharging/v2/chargingdata",
            "title": "Unknown user", "status": 404,
            "detail": "The device does not exist. User-agent = [CHF-&lt;NF Instance-Id&gt; &lt;FQDN&gt;]",
            "instance": "RT/jithakur/N40-RT-19d674ec-4b24-4998-8f25-8ce5cc7e398b",
            "cause": "USER_UNKNOWN" }
},
"invocationSequenceNumber": 1
               }
   }</code></pre>
        </div>

        <div class="section" id="diameterhttprules__section_kf4_5my_1qb"><h2 class="title sectiontitle">Site-Routing based on 3gpp-Sbi-Correlation-Info</h2>
            
            <div class="p">Site-Info is fetched using the <em class="ph i">3gpp-Sbi-Correlation-Info</em> parameter that is
                present in the header of the HttpRequest.<ul class="ul" id="diameterhttprules__ul_wmk_g4y_1qb">
                    <li class="li">
                        <p class="p">If the Site-Info is fetched successfully from
                                <em class="ph i">3gpp-Sbi-Correlation-Info</em> (header), then NCC uses this
                            Site-Info for Site-Routing. </p>

                    </li>

                    <li class="li">
                        <p class="p">If the Site-Info is not fetched successfully from
                                <em class="ph i">3gpp-Sbi-Correlation-Info</em>, then <em class="ph i">subscriberIdentifier</em>
                            (body) is used to fetch the Site-Info for Site-Routing.</p>

                    </li>

                    <li class="li">
                        <p class="p">The possible values for <em class="ph i">3gpp-Sbi-Correlation-Info</em> are imsi, impi,
                            suci, nai, gci, gli, impu, msisdn, extid, imei, imeisv, mac, and
                            eui.</p>

                        <div class="note"><div class="notetitle"><img src="../../web/css/../images/note.svg" title="note-icon" class="noteicon" />Note:</div> NCC currently supports imsi (SUPI), nai, msisdn (GPSI), and extid
                            (External ID).</div>

                    </li>

                </ul>
</div>

            <div class="p">Examples for <em class="ph i">3gpp-Sbi-Correlation-Info</em>:<ul class="ul" id="diameterhttprules__ul_z22_zwy_1qb">
                    <li class="li">When UE identifier used is SUPI, and SUPI type is IMSI:
                            <code class="ph codeph">3gpp-Sbi-Correlation-Info: imsi-345012123123123</code></li>

                    <li class="li">When UE identifier used is PEI, and PEI type is IMEISV:
                            <code class="ph codeph">3gpp-Sbi-Correlation-Info: imeisv-3550121231231230</code></li>

                    <li class="li">When UE identifiers used are GPSI of GPSI-type, and SUPI of SUPI-type :
                            <code class="ph codeph">3gpp-Sbi-Correlation-Info:
                            imsi-345012123123123;msisdn-1234567890</code><div class="note"><div class="notetitle"><img src="../../web/css/../images/note.svg" title="note-icon" class="noteicon" />Note:</div> Multiple values can
                            be sent for <em class="ph i">3gpp-Sbi-Correlation-Info</em>. The multiple values of
                                <em class="ph i">3gpp-Sbi-Correlation-Info</em> are separated by a semi-colon
                            delimiter (Refer to the examples).</div>
</li>

                </ul>
</div>

        </div>

        <div class="section" id="diameterhttprules__section_m1b_4rj_qwb"><h2 class="title sectiontitle">3gpp-Sbi-Binding and Server headers</h2>
            
            <div class="p">CHF includes <em class="ph i">Server</em> and <em class="ph i">3gpp-Sbi-Binding</em> headers in the notifications
                and responses returned to the network. To enable this functionality, set the
                application preference <code class="ph codeph">Include Custom Headers In Outbound Messages</code>
                to either of the following values:<ul class="ul" id="diameterhttprules__ul_ykr_jsj_qwb">
                    <li class="li"><var class="keyword varname">ENABLE_BINDING_AND_SERVER</var>: <em class="ph i">3gpp-Sbi-Binding</em> and
                            <em class="ph i">Server</em> headers are included.</li>

                    <li class="li"><var class="keyword varname">ENABLE_CUSTOM_HEADER_WITH_BINDING_AND_SERVER</var>: Custom
                        headers, <em class="ph i">3gpp-Sbi-Binding</em> and <em class="ph i">Server</em> headers are
                        included.</li>

                </ul>
</div>

            <div class="note" id="diameterhttprules__note_gjs_qrg_rwb"><div class="notetitle"><img src="../../web/css/../images/note.svg" title="note-icon" class="noteicon" />Note:</div> It is recommended to set the following application
                preferences in all the CHFs:<ul class="ul" id="diameterhttprules__ul_szt_tzr_qwb">
                    <li class="li">Set <code class="ph codeph">Include Custom Headers in Outbound Messages</code> to either
                            <em class="ph i">ENABLE_BINDING_AND_SERVER</em> or
                            <em class="ph i">ENABLE_CUSTOM_HEADER_WITH_BINDING_AND_SERVER</em>.</li>

                    <li class="li">Network Function (NF) Set Id</li>

                    <li class="li">NF Instance Id</li>

                </ul>
</div>

            <div class="sectiondiv"><strong class="ph b">3gpp-Sbi-Binding header</strong><div class="p">The value of <em class="ph i">3gpp-Sbi-Binding</em> header
                    depends on the following application preferences:<ul class="ul" id="diameterhttprules__ul_uv1_wxr_qwb">
                        <li class="li"><code class="ph codeph">Network Function (NF) Set Id</code></li>

                        <li class="li"><code class="ph codeph">NF Instance Id</code></li>

                    </ul>
</div>
<p class="p">If only <em class="ph i">Network Function (NF) Set Id</em> is configured, then the
                    value of the header is <code class="ph codeph">bl=nf-set;
                    nfset=&lt;flag_value&gt;</code></p>
<p class="p">Sample value: <code class="ph codeph">3gpp-Sbi-Binding:
                        bl=nf-set; nfset=set1.smfset.5gc.mnc012.mcc345</code></p>
<p class="p">If only <em class="ph i">NF
                        Instance Id</em> is configured, then the value of the header is
                        <code class="ph codeph">bl=nf- instance; nfinst =&lt;flag_value&gt;</code></p>
<p class="p">Sample
                    value: <code class="ph codeph">3gpp-Sbi-Binding: bl=nf-instance;
                        nfinst=54804518-4191-46b3-955c-ac631f953ed8</code></p>
<p class="p">If both <em class="ph i">NF
                        Instance Id</em> and <em class="ph i">Network Function (NF) Set Id</em> are configurd, then
                    the value of the header is <code class="ph codeph">bl=nf- instance; nfinst =&lt;flag_value&gt;;
                        nfset=&lt;flag_value&gt;</code></p>
<p class="p">Sample value: <code class="ph codeph">3gpp-Sbi-Binding:
                        bl=nf-instance;
                        nfinst=54804518-4191-46b3-955c-ac631f953ed8;nfset=set1.smfset.5gc.mnc012.mcc345</code></p>
<div class="note" id="diameterhttprules__note_d1k_2mg_rwb"><div class="notetitle"><img src="../../web/css/../images/note.svg" title="note-icon" class="noteicon" />Note:</div> <em class="ph i">NF Instance Id</em> of the first CHF where request is
                    received is sent in response with <em class="ph i">3gpp-Sbi-Binding</em>
                header.</div>
</div>
            <div class="sectiondiv"><strong class="ph b">Server header</strong><p class="p">Server header is included only in the HTTP error
                    response. The value of the server header depends on the application preference
                        <em class="ph i">NF Instance Id</em>.</p>
<p class="p">If error response is generated at the CHF, then
                    the value of the server header is
                    <code class="ph codeph">CHF-&lt;nfInstanceID&gt;</code>.</p>
<p class="p">Sample value:
                        <code class="ph codeph">CHF-d6abe36b-b8c8-4b1f-9e84-a0da2d882a69</code></p>
<div class="note" id="diameterhttprules__note_zk1_kmg_rwb"><div class="notetitle"><img src="../../web/css/../images/note.svg" title="note-icon" class="noteicon" />Note:</div> Server header includes <em class="ph i">NF Instance Id</em> of all the
                    traversal nodes after which error has been generated.</div>
</div>
        </div>

        <div class="section" id="diameterhttprules__section_yhg_wdb_cnb"><h2 class="title sectiontitle">Managing unbounded IE collections</h2>
            
            <p class="p">The number of attributes contained in a 5G-HTTP message may vary between messages,
                creating variable-size or unbounded multi-value IE collections. NCC facilitates the
                manipulation of unbounded collections by presenting you the full path to these IEs
                without the burden of a massive search of all possible paths.</p>

            <p class="p">This section provides information about the mechanisms that are available to support
                unbounded collections.</p>

            <ul class="ul" id="diameterhttprules__ul_wnh_bv1_cnb">
                <li class="li">Attributes and actions</li>

                <li class="li">Index management for unbounded IE collections</li>

            </ul>

            
            <div class="sectiondiv">
                <p class="p"><strong class="ph b">Attributes and actions</strong></p>

                <p class="p">NCC provides a basic set of actions that allow you to manipulate 5G-HTTP IEs in a
                    message context. The common action types are available across all IE structures.
                    They are specified as part of the action attribute name in the filter.</p>

                <p class="p"> In addition to the set actions/attributes, NCC provides the
                        <em class="ph i">Number-Of-Values-At-Index</em> attribute to enable iterative manipulation
                    of multi-value IEs. The attribute returns the number of values an IE instance
                    has at a particular location based on the current read indices of the parent
                    IEs. The attribute is available as a source context.</p>

                
            </div>
            <div class="sectiondiv">
                <p class="p"><strong class="ph b">Referencing multi-value IEs</strong></p>

                <p class="p">The 5G-HTTP protocol specifies that multiple instances of an IE may occur within
                    a single message. An IE defined as multi-valued may itself be a container for
                    one or more IEs. Further, an IE might be single-valued but due to a multi-valued
                    parent ancestor, may appear multiple times within the message. In general, the
                    multiplicity of the multi-value IEs is often unbounded. As a result, multi-value
                    5G-HTTP messages may be arbitrarily complex in terms of the number of and
                    location of the occurrence of particular IEs.</p>

                <p class="p">NCC simplifies the process of referencing multi-value IEs by providing the
                    capability to organize indices, and multi-value actions/attributes. These
                    features provide the flexibility and convenience that allow you to write a
                    message filter that checks whether any of the IEs has a particular value or
                    matches a specific pattern.</p>

                <p class="p">The following section provide information about multi-value IE support:</p>

            </div>
            <p class="p"><strong class="ph b"><em class="ph i">Read and write indices</em></strong>:</p>

            <p class="p">NCC provides independent read and write indices that allow you to write message
                filters to iterate through fixed-size and unbounded collections of IEs and evaluate
                conditions at specific locations. You can read, write, and modify the value at a
                specific location. In addition, you can use the read and write indices to copy a
                value to any location within a 5G-HTTP message, including a newly created IE.</p>

            <p class="p">The indices can be managed by configuring the action attributes provided by NCC.
                These actions are dynamically loaded by NCC and can be present in the source context
                and/or the referencing multi-value IEs result context for each 5G-HTTP IE.</p>

            <p class="p">The following table describes the basic actions configured to manage the read and
                write indices:</p>

            <table cellpadding="4" cellspacing="0" summary="" id="diameterhttprules__table_b4h_bv1_cnb" class="table" frame="border" border="1" rules="all"><colgroup><col style="width:17.857142857142858%" /><col style="width:82.14285714285714%" /></colgroup><tbody class="tbody">
                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;"><strong class="ph b">Action name</strong></td>

                            <td class="entry cellrowborder" style="vertical-align:top;"><strong class="ph b">Purpose</strong></td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;">Read-Index</td>

                            <td class="entry cellrowborder" style="vertical-align:top;">Allows you to specify the index from which to read a single
                                value. The <em class="ph i">Read-Index</em> attribute is available as both a source
                                and result context, for IEs that are multi-valued themselves. You
                                can set the read indices to return a sub-set of values from the
                                5G-HTTP message.</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;">Write-Index</td>

                            <td class="entry cellrowborder" style="vertical-align:top;">Allows you to specify the index at which to write a value. The
                                    <em class="ph i">Write-Index</em> attribute is available as both a source and
                                result context, for IEs that are multi-valued themselves.</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;">Clear-Read-Indices</td>

                            <td class="entry cellrowborder" style="vertical-align:top;">
                                <p class="p">Allows you to clear the Read-Index cache maintained by NCC and
                                    the cache is automatically cleared for public rule table
                                    invocations.</p>

                                <p class="p">The action uses the following syntax:</p>

                                <p class="p"><samp class="ph systemoutput">&lt;Context&gt;.Clear-Read-Indices</samp></p>

                                <p class="p">The <samp class="ph systemoutput">&lt;context&gt;</samp> can be any NCC
                                    message context. For example, <em class="ph i">N40_CCCA.Clear-Read-Indices</em>
                                    clear the <em class="ph i">Read-Index</em> cache for the <em class="ph i">N40_CCCA</em>
                                    message.</p>

                            </td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;">Clear-Write-Indices</td>

                            <td class="entry cellrowborder" style="vertical-align:top;">
                                <p class="p">Allows you to clear the <em class="ph i">Write-Index</em> cache maintained by
                                    NCC and the cache is automatically cleared for public rule table
                                    invocations.</p>

                                <p class="p">The action uses the following syntax:</p>

                                <p class="p"><samp class="ph systemoutput">&lt;Context&gt;.Clear-Write-Indices</samp></p>

                                <p class="p">The <samp class="ph systemoutput">&lt;context&gt;</samp> can be any NCC
                                    message context. For example,
                                        <em class="ph i">N40_CCCA.Clear-Write-Indices</em> clear the
                                        <em class="ph i">Write-Index</em> cache for the <em class="ph i">N40NCCA</em> message.</p>

                            </td>

                        </tr>

                    </tbody>
</table>

            <p class="p">Read and write indices are cleared before a message filter is invoked. However,
                changes made to the indices persist for the duration of the processing of the
                associated filter. This includes processing message filters invoked either directly
                or indirectly from that filter.</p>

            <p class="p">Once NCC completes processing a message filter and prepares to evaluate the next
                filter, any read and write indices that have been explicitly set using message
                filters are automatically cleared. You can also write filters to clear the read
                and/or the write index, if required.</p>

            <p class="p">When associated with single-valued operations (that is, accessing a single-valued
                attribute or using the common action types), the read and write indices have
                implicit defaults of zero.</p>

            
            <div class="sectiondiv">
                <p class="p"><strong class="ph b">Multi-value actions/attributes</strong></p>

                <p class="p">NCC provides several attributes/actions to support multi-value IE manipulation.
                    These action/ attributes are dynamically loaded by NCC and can be available in
                    the source and/or result contexts.</p>

                <p class="p">They offer an enhanced toolset that allows you to write message filters to
                    indicate whether the message filter should affect ainstance or all instances of
                    an IE. Referencing multi-value IEs indicate the indices of each IE that you wish
                    subsequent actions to be performed.</p>

                <p class="p">The following attribute naming convention is used in the table below to describe
                    the actions/ attributes, and to define the referential scope of the message
                    filter (single-value or multi-value).</p>

                <p class="p"><strong class="ph b">&lt;App-Cmd&gt;[.&lt;Ancestor-IE-Name&gt;]</strong><em class="ph i">.IE-Name*</em> where:</p>

                <ul class="ul" id="diameterhttprules__ul_d4h_bv1_cnb">
                    <li class="li">
                        <p class="p"><strong class="ph b">&lt;App-Cmd&gt;</strong> is the message context name.</p>

                    </li>

                    <li class="li">
                        <p class="p"><strong class="ph b">&lt;Ancestor-IE-Name&gt;</strong> is the zero or more ancestor/parent IEs.</p>

                    </li>

                    <li class="li">
                        <p class="p"><strong class="ph b">IE-Name</strong> is the leaf IE.</p>

                        <p class="p">for example:
                                <samp class="ph systemoutput">N40_CCCA.multipleUnitInformation.resultCode</samp></p>

                    </li>

                </ul>

                <table cellpadding="4" cellspacing="0" summary="" id="diameterhttprules__table_f4h_bv1_cnb" class="table" frame="border" border="1" rules="all"><colgroup><col style="width:12.936610608020699%" /><col style="width:34.152652005174645%" /><col style="width:52.910737386804655%" /></colgroup><tbody class="tbody">
                            <tr class="row">
                                <td class="entry cellrowborder" style="vertical-align:top;"><strong class="ph b">IE type</strong></td>

                                <td class="entry cellrowborder" style="vertical-align:top;"><strong class="ph b">Attribute/Action</strong></td>

                                <td class="entry cellrowborder" style="vertical-align:top;"><strong class="ph b">Description</strong></td>

                            </tr>

                            <tr class="row">
                                <td class="entry cellrowborder" style="vertical-align:top;">single-value</td>

                                <td class="entry cellrowborder" style="vertical-align:top;">&lt;App-Cmd&gt;[.&lt;Ancestor-IEName&gt;]*.IE-Name</td>

                                <td class="entry cellrowborder" style="vertical-align:top;">
                                    <p class="p">Refer to the IE by its name to access one instance of that
                                        IE.</p>

                                    <p class="p">For example, to refer to one instance of the resultCode, use:
                                            <samp class="ph systemoutput">N40_CCCA.multipleUnitInformation.resultCode</samp>.</p>

                                </td>

                            </tr>

                            <tr class="row">
                                <td class="entry cellrowborder" style="vertical-align:top;">multi-value</td>

                                <td class="entry cellrowborder" style="vertical-align:top;">&lt;App-Cmd&gt;[.&lt;Ancestor-IEName&gt;]*.IE-Name[]</td>

                                <td class="entry cellrowborder" style="vertical-align:top;">
                                    <p class="p">The "[]" notation at the end of an attribute name indicates
                                        that the attribute returns a collection of values. Use it to
                                        access a collection of IEs.</p>

                                    <p class="p">By default, all the values from the message are returned, but
                                        a subset of values can be returned by setting relevant read
                                        indices.</p>

                                </td>

                            </tr>

                            <tr class="row">
                                <td class="entry cellrowborder" style="vertical-align:top;">multi-value</td>

                                <td class="entry cellrowborder" style="vertical-align:top;">
                                    <p class="p">&lt;App-Cmd&gt;[.&lt;Ancestor-IE-Name&gt;]*.IE-Name.Total-Number-Of-Values</p>

                                </td>

                                <td class="entry cellrowborder" style="vertical-align:top;">
                                    <p class="p">Use it to return the total number of values of a particular
                                        IE across all instances of its ancestor IEs by applying the
                                            <em class="ph i">Read-Index</em>. Read indices can be set to return a
                                        number representing a subset of values of a given IE from a
                                        5G-HTTP message.</p>

                                    <p class="p">For example, <em class="ph i">Parent.Total-Number-OfValues</em> return the
                                        total number all instances of Parent. Read-Index can be
                                        applied at all levels of the IE.</p>

                                    <p class="p">To find the number of resultCodeIEs that exist in all of the
                                        multipleUnitInformationof the current N40 CCCA message being
                                        processed, use:
                                            <samp class="ph systemoutput">N40_CCCA.multipleUnitInformation.Total-Number-Of-Values</samp>.</p>

                                </td>

                            </tr>

                            <tr class="row">
                                <td class="entry cellrowborder" style="vertical-align:top;">single-value</td>

                                <td class="entry cellrowborder" style="vertical-align:top;">&lt;App-Cmd&gt;[.&lt;Ancestor-IEName&gt;]*.IE-Name.ReadIndex</td>

                                <td class="entry cellrowborder" style="vertical-align:top;">The index from which to read a single value for IEs that are
                                    multi-valued themselves. The Read-Index determines which value
                                    will be returned.</td>

                            </tr>

                            <tr class="row">
                                <td class="entry cellrowborder" style="vertical-align:top;">single-value</td>

                                <td class="entry cellrowborder" style="vertical-align:top;">
                                    <p class="p">&lt;App-Cmd&gt;[.&lt;Ancestor-IE-Name&gt;]*.IE-Name.WriteIndex</p>

                                </td>

                                <td class="entry cellrowborder" style="vertical-align:top;">
                                    <p class="p">The index at which to write a single value for IEs that are
                                        multi-valued themselves.</p>

                                    <p class="p">The Write-Index affects the following common action type as
                                            <var class="keyword varname">Set action-Determines</var> the value to be
                                        set.</p>

                                </td>

                            </tr>

                        </tbody>
</table>

            </div>
            <div class="sectiondiv">
                <p class="p"><strong class="ph b">An example of N40 Index management for unbounded IE collections</strong></p>

                <p class="p">Consider the case where you want to write a message filter that would modify all
                    associated resultCode in a N40 CCCA message when the resultCode is
                        <samp class="ph systemoutput">SUCCESS</samp>. This requires the message filter logic
                    to iterate through each MultipleUnitInformation and modify all matching result
                    codes to a new value. The indices for each level (MultipleUnitInformation) must
                    be managed. In addition, the logic of the implemented message filter must
                    support a walk through each level of the message.</p>

                <p class="p">The following workflow describes how to couple message filters with index
                    management to reuse filters that test for and react to your conditions within a
                    multi-valued IE.</p>

                <ol class="ol" id="diameterhttprules__ol_i4h_bv1_cnb">
                    <li class="li">
                        <p class="p">In the source context:</p>

                        <ul class="ul" id="diameterhttprules__ul_j4h_bv1_cnb">
                            <li class="li">Establish your control statement. The condition of the source
                                context should check whether the <em class="ph i">Read-Index</em> is less than the
                                    <em class="ph i">Number-Of-Values-At-Index</em>. This enables you to regulate
                                the number of iterations based on the size of the collection.</li>

                        </ul>

                    </li>

                    <li class="li">
                        <p class="p">In the result context:</p>

                        <ul class="ul" id="diameterhttprules__ul_k4h_bv1_cnb">
                            <li class="li">Apply your action AND</li>

                            <li class="li">Increment the read and write indices of the IE.</li>

                        </ul>

                    </li>

                </ol>

                <p class="p">Following example is where <em class="ph i">Number-Of-Values-At-Index</em> is used to iterate
                    through all available <strong class="ph b">multipleUnitInformation (i.e. MUI)</strong> to find the
                        <samp class="ph systemoutput">SUCCESS</samp> in resultCode.</p>

                <table cellpadding="4" cellspacing="0" summary="" id="diameterhttprules__table_l4h_bv1_cnb" class="table" frame="border" border="1" rules="all"><colgroup><col /></colgroup><tbody class="tbody">
                            <tr class="row">
                                <td class="entry cellrowborder" style="vertical-align:top;">
                                    <p class="p"><strong class="ph b">RuleGroup1</strong><strong class="ph b">(Top level Checked)</strong></p>

                                    <p class="p"><strong class="ph b">Rule1</strong></p>

                                </td>

                            </tr>

                            <tr class="row">
                                <td class="entry cellrowborder" style="vertical-align:top;">
                                    <p class="p"><samp class="ph systemoutput">N40_CCCA.multipleUnitInformation.Read-Index = 0
                                            and </samp></p>

                                    <p class="p"><samp class="ph systemoutput"> N40_CCCA.multipleUnitInformation.Write-Index =
                                            0 and </samp></p>

                                    <p class="p"><samp class="ph systemoutput"> SystemContext.Rule-Table =
                                            RuleTable#"RuleGroup2 "</samp></p>

                                </td>

                            </tr>

                        </tbody>
</table>

                <p class="p"><strong class="ph b">RuleGroup2 (TOP Level Unchecked)</strong></p>

                <p class="p"><strong class="ph b">Rule2</strong></p>

                <table cellpadding="4" cellspacing="0" summary="" id="diameterhttprules__table_m4h_bv1_cnb" class="table" frame="border" border="1" rules="all"><colgroup><col /></colgroup><tbody class="tbody">
                            <tr class="row">
                                <td class="entry cellrowborder" style="vertical-align:top;">
                                    <p class="p"><samp class="ph systemoutput">if</samp></p>

                                    <p class="p"><samp class="ph systemoutput"> N40_CCCA.multipleUnitInformation.resultCode =
                                            "SUCCESS" and
                                            N40_CCCA.multipleUnitInformation.Read-Index !=
                                            N40_CCCA.multipleUnitInformation.Number-Of-Values-At-Index
                                        </samp></p>

                                    <p class="p"><strong class="ph b"><samp class="ph systemoutput">then</samp></strong></p>

                                    <p class="p"><samp class="ph systemoutput">
                                            N40_CCCA.multipleUnitInformation.resultCode-Enum.Set =
                                            ResultCode_QUOTA_LIMIT_REACHED and </samp></p>

                                    <p class="p"><samp class="ph systemoutput"> N40_CCCA.multipleUnitInformation.Read-Index =
                                            N40_CCCA.multipleUnitInformation.Read-Index + 1 and
                                        </samp></p>

                                    <p class="p"><samp class="ph systemoutput"> N40_CCCA.multipleUnitInformation.Write-Index =
                                            N40_CCCA.multipleUnitInformation.Write-Index + 1 and
                                        </samp></p>

                                    <p class="p"><samp class="ph systemoutput"> SystemContext.Rule-Table = RuleTable#"
                                            RuleGroup2 " </samp></p>

                                </td>

                            </tr>

                        </tbody>
</table>

                <p class="p"><strong class="ph b">Else Rule3</strong></p>

                <table cellpadding="4" cellspacing="0" summary="" id="diameterhttprules__table_n4h_bv1_cnb" class="table" frame="border" border="1" rules="all"><colgroup><col /></colgroup><tbody class="tbody">
                            <tr class="row">
                                <td class="entry cellrowborder" style="vertical-align:top;">
                                    <p class="p"><samp class="ph systemoutput">if</samp></p>

                                    <p class="p"><samp class="ph systemoutput"> N40_CCCA.multipleUnitInformation.Read-Index !=
                                            N40_CCCA.multipleUnitInformation.Number-Of-Values-At-Index
                                        </samp></p>

                                    <p class="p"><samp class="ph systemoutput">then</samp></p>

                                    <p class="p"><samp class="ph systemoutput"> N40_CCCA.multipleUnitInformation.Read-Index =
                                            N40_CCCA.multipleUnitInformation.Read-Index + 1 and
                                        </samp></p>

                                    <p class="p"><samp class="ph systemoutput"> N40_CCCA.multipleUnitInformation.Write-Index =
                                            N40_CCCA.multipleUnitInformation.Write-Index + 1 and
                                        </samp></p>

                                    <p class="p">
                                        <samp class="ph systemoutput"> SystemContext.Rule-Table = RuleTable#"
                                            RuleGroup2 " </samp></p>

                                </td>

                            </tr>

                        </tbody>
</table>

                <ul class="ul" id="diameterhttprules__ul_o4h_bv1_cnb">
                    <li class="li"><strong class="ph b">RuleGroup1</strong>: This represent the rule group 1 where Rule1 is
                            defined.<ul class="ul" id="diameterhttprules__ul_p4h_bv1_cnb">
                            <li class="li"><strong class="ph b">Rule1</strong>: In this rule, resetting the MUI read and write index
                                to 0</li>

                        </ul>
</li>

                    <li class="li"><strong class="ph b">RuleGroup2</strong>: - this represent the rule group 2 where Rule 2 and 3 are
                            defined.<ul class="ul" id="diameterhttprules__ul_q4h_bv1_cnb">
                            <li class="li"><strong class="ph b">Rule2</strong>: This rule is checking the resultCode of the current
                                read index of MUI IE,<ul class="ul" id="diameterhttprules__ul_r4h_bv1_cnb">
                                    <li class="li">If it is set to <samp class="ph systemoutput">SUCCESS</samp> and
                                        current read index of MUI is not the last index of the
                                        N40_CCCA, then set the resultCode with
                                            <samp class="ph systemoutput">QUOTA_LIMIT_REACHED</samp> and
                                        call Rule Group 2 till the last index of the
                                        <em class="ph i">N40_CCCA</em>.</li>

                                    <li class="li">If it is not set to <samp class="ph systemoutput">SUCCESS</samp>,
                                        then it goes to Rule3.</li>

                                </ul>
</li>

                            <li class="li"><strong class="ph b">Else Rule3</strong>: This rule is checking the resultCode of the
                                current read index of MUI IE is the last index of the N40_CCCA,<ul class="ul" id="diameterhttprules__ul_s4h_bv1_cnb">
                                    <li class="li">If not, then increment the read and write index of current
                                        MUI and call again Rule Group 2</li>

                                    <li class="li">If yes, then exit the iteration.</li>

                                </ul>
</li>

                        </ul>
</li>

                </ul>

            </div>
        </div>

    </div>
<div class="footer"><hr /><p>Diameter/HTTP Configuration Guide • P556766-DN1000054969-R23.8 • 1 • <a href="../home.html">Cover</a> • ©2023 Nokia. Nokia Confidential Information • Use subject to agreed restrictions on disclosure and use.</p></div></body>
</html>