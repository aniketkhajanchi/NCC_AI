<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2023" />
<meta name="DC.rights.owner" content="(C) Copyright 2023" />
<meta name="generator" content="DITA-OT" /><meta name="DC.type" content="concept" />
<meta name="DC.title" content="Events" />
<meta name="prodname" content="Nokia Converged Charging" />
<meta name="version" content="Release 23.8" />
<meta name="DC.format" content="XHTML" />
<meta name="DC.identifier" content="events_web_sso" />
<link rel="stylesheet" type="text/css" href="../../web/css/commonltr.css" />
<link rel="stylesheet" type="text/css" href="../../web/css/styles.min.css" />
<link rel="stylesheet" type="text/css" href="../../web/css/common-extended.css" /><title>Events</title>
<script src="../web/js/nswtc.js" language="javascript" type="text/javascript">/*(◎_◎;)*/</script>
<script src="../../web/css/../js/script.min.js" language="javascript" type="text/javascript">/*(◎_◎;)*/</script>
</head>
<body id="events_web_sso">
<div class="header"><div id="feedback-link-placeholder" class="feedback-link"></div><hr /></div><h1 class="title topictitle1" id="ariaid-title1">Events</h1>
<div class="body conbody">
        <div class="section" id="events_web_sso__section_ht3_4fb_llb"><h2 class="title sectiontitle">Overview</h2>
            
            <p class="p">The User and Role Management server provides a defined set of auditing capabilities
                wherein every logic action is recorded and stored in the database, and reviewed in
                the User and Role Management admin console. There is an event listener Service
                Provider Interface (SPI) which enables the plugins to listen to the events and
                perform some action, whereas built-in listeners include a simple log file and is
                enabled to send an email when an event occurs.</p>

        </div>

        <div class="section" id="events_web_sso__section_l24_vfb_llb"><h2 class="title sectiontitle">Event listener</h2>
            
            <div class="p">Event listeners listen for events and perform an action based on that event. The User
                and Role Management server has these two built-in listeners: <ul class="ul" id="events_web_sso__ul_u4l_xfb_llb">
                    <li class="li">Logging Event Listener, which writes to a log file whenever an error event
                        occurs. This event listener is enabled by default. This event listener
                        proves very useful to track the logging for any unauthorized access wherein
                        a user tries to guess the passwords to get into the system. The log file can
                        be parsed for <code class="ph codeph">LOGIN_ERROR</code> and extract the IP address of the
                        machine from which unauthorized access was attempted.</li>

                    <li class="li">Email Event Listener, which sends an email to the user account when an event
                        occurs. This event listener only supports the following events:<ul class="ul" id="events_web_sso__ul_ykh_xtb_llb">
                            <li class="li">Login error</li>

                            <li class="li">Update password</li>

                            <li class="li">Update TOTP</li>

                            <li class="li"> Remove TOTP</li>

                        </ul>
</li>

                </ul>
</div>

        </div>

        <div class="section" id="events_web_sso__section_vf1_n5b_llb"><h2 class="title sectiontitle">Login Events</h2>
            
            <div class="p">Login events occur under one of the following conditions:<ul class="ul" id="events_web_sso__ul_vrq_n5b_llb">
                    <li class="li">When a user logs in successfully to User and Role Management server
                        session.</li>

                    <li class="li">When a user enters a wrong password to access the User and Role Management
                        server.</li>

                    <li class="li">When a user account is updated on the User and Role Management server.</li>

                </ul>
</div>

            <p class="p">Every single event that happens to a user can be recorded and viewed. By default, no
                events are stored or viewed in the User and Role Management GUI. Only error events
                are logged to the console and server log file.</p>

            <div class="p">The login events can be viewed in the <span class="ph uicontrol">Login Events</span> tab under
                the <span class="ph uicontrol">Events</span> option. Login events are used to track the last
                login of a user, which is shown every time a user logs into the SM. The last login
                details of a user are saved for 6 months (182 days).<table cellpadding="4" cellspacing="0" summary="" id="events_web_sso__table_ypr_s5b_llb" class="table" frame="border" border="1" rules="all"><caption><span class="tablecap"><span class="table--title-label">Table: </span>Login Event parameters</span></caption><colgroup><col style="width:33.33333333333333%" /><col style="width:66.66666666666666%" /></colgroup><thead class="thead" style="text-align:left;">
                            <tr class="row">
                                <th class="entry cellrowborder" style="vertical-align:top;" id="d7037e113">Parameter name</th>

                                <th class="entry cellrowborder" style="vertical-align:top;" id="d7037e116">Description</th>

                            </tr>

                        </thead>
<tbody class="tbody">
                            <tr class="row">
                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d7037e113 ">Time</td>

                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d7037e116 ">This parameter indicates the time at which a particular event
                                    has been logged.</td>

                            </tr>

                            <tr class="row">
                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d7037e113 ">Event Type</td>

                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d7037e116 ">This parameter indicates whether the event type is
                                        <code class="ph codeph">LOGIN</code> depending on the following
                                        information:<ul class="ul" id="events_web_sso__ul_q2v_v5b_llb">
                                        <li class="li"> When a user has logged in.</li>

                                        <li class="li">When a user has registered.</li>

                                        <li class="li">When a user has logged out of the current session.</li>

                                        <li class="li">An application or client has exchanged a code for a
                                            token.</li>

                                        <li class="li">An application or client has refreshed a token.</li>

                                    </ul>
</td>

                            </tr>

                            <tr class="row">
                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d7037e113 ">Details</td>

                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d7037e116 ">This parameter gives information about the client name, user
                                    account, IP address with other information like authentication
                                    method or type related to the logged event.</td>

                            </tr>

                        </tbody>
</table>
</div>

        </div>

        <div class="section" id="events_web_sso__section_kxr_dkc_llb"><h2 class="title sectiontitle">Admin Events</h2>
            
            <div class="p">The User and Role Management server can record any action performed by the admin user
                for auditing purposes. The User and Role Management GUI performs administrative
                functions by invoking on the User and Role Management REST interface and audits
                these REST invocations. The resulting events can then be viewed in the
                    <span class="ph uicontrol">Admin Events</span> tab under the <span class="ph uicontrol">Events</span>
                    option.<table cellpadding="4" cellspacing="0" summary="" id="events_web_sso__table_dgl_hkc_llb" class="table" frame="border" border="1" rules="all"><caption><span class="tablecap"><span class="table--title-label">Table: </span>Admin Events parameters</span></caption><colgroup><col style="width:33.33333333333333%" /><col style="width:66.66666666666666%" /></colgroup><thead class="thead" style="text-align:left;">
                            <tr class="row">
                                <th class="entry cellrowborder" style="vertical-align:top;" id="d7037e202">Parameter name</th>

                                <th class="entry cellrowborder" style="vertical-align:top;" id="d7037e205">Description</th>

                            </tr>

                        </thead>
<tbody class="tbody">
                            <tr class="row">
                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d7037e202 ">Time</td>

                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d7037e205 ">This parameter indicates the time at which a particular event
                                    has been logged.</td>

                            </tr>

                            <tr class="row">
                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d7037e202 ">Operation Type</td>

                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d7037e205 "> </td>

                            </tr>

                            <tr class="row">
                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d7037e202 ">Resource Type</td>

                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d7037e205 "> </td>

                            </tr>

                            <tr class="row">
                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d7037e202 ">Resource Path</td>

                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d7037e205 "> </td>

                            </tr>

                            <tr class="row">
                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d7037e202 ">Details</td>

                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d7037e205 ">If the <strong class="ph b">Details</strong> column has a <strong class="ph b">Representation</strong> box,
                                    then one can click on that to view the JSON that was sent with
                                    that operation. </td>

                            </tr>

                        </tbody>
</table>
<div class="note"><div class="notetitle"><img src="../../web/css/../images/note.svg" title="note-icon" class="noteicon" />Note:</div> Events of specific interest may be filtered for by clicking the
                        <strong class="ph b">Filter</strong> button.</div>
</div>

        </div>

        <div class="section" id="events_web_sso__section_f5r_gjp_llb"><h2 class="title sectiontitle">Configuration</h2>
            
            <p class="p">Given that no events are stored or viewed in the User and Role Management GUI,
                storage must be enabled on the User and Role Management server. Go to the
                    <span class="ph uicontrol">Events</span> option from the left-most drop-down list and then
                select the <span class="ph uicontrol">Config</span> tab under the <span class="ph uicontrol">Events</span>
                option.</p>

            <table cellpadding="4" cellspacing="0" summary="" id="events_web_sso__table_hq3_kjp_llb" class="table" frame="border" border="1" rules="all"><caption><span class="tablecap"><span class="table--title-label">Table: </span>Config parameters</span></caption><colgroup><col style="width:33.33333333333333%" /><col style="width:66.66666666666666%" /></colgroup><thead class="thead" style="text-align:left;">
                        <tr class="row">
                            <th class="entry cellrowborder" style="vertical-align:top;" id="d7037e301">Parameter name</th>

                            <th class="entry cellrowborder" style="vertical-align:top;" id="d7037e304">Description</th>

                        </tr>

                    </thead>
<tbody class="tbody">
                        <tr class="row">
                            <td class="entry cellrowborder" colspan="2" style="vertical-align:top;" headers="d7037e301 d7037e304 ">Events Config</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d7037e301 ">Event Listeners</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d7037e304 ">This parameter enables the selection of the event listener which
                                is desired to be enabled. For more information, see the "Event
                                listener" section.</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" colspan="2" style="vertical-align:top;" headers="d7037e301 d7037e304 ">Login Event Settings</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d7037e301 ">Save Events</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d7037e304 ">When enabled, this parameter allows events to be stored on the
                                User and Role Management server.</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d7037e301 ">Saved Types</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d7037e304 ">This parameter enables the specification of which event types to
                                store in the event store.</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d7037e301 ">Clear events</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d7037e304 ">This parameter allows the deletion of all events in the
                                database.</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d7037e301 ">Expiration</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d7037e304 ">This parameter allows the specification of the duration for which
                                the events can be stored in the database.</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" colspan="2" style="vertical-align:top;" headers="d7037e301 d7037e304 ">Admin Event Settings</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d7037e301 ">Save Events</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d7037e304 ">This parameter allows for the enabling of the auditing of admin
                                actions.</td>

                        </tr>

                    </tbody>
</table>

        </div>

    </div>
<div class="footer"><hr /><p>Operations, Administration, and Maintenance Guide • P556766-DN1000055092-R23.8 • 1 • <a href="../home.html">Cover</a> • ©2023 Nokia. Nokia Confidential Information • Use subject to agreed restrictions on disclosure and use.</p></div></body>
</html>