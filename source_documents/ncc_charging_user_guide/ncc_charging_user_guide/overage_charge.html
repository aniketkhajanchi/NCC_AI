<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2023" />
<meta name="DC.rights.owner" content="(C) Copyright 2023" />
<meta name="generator" content="DITA-OT" /><meta name="DC.type" content="concept" />
<meta name="DC.title" content="Overage charge" />
<meta name="prodname" content="Nokia Converged Charging" />
<meta name="version" content="Release 23.8" />
<meta name="DC.format" content="XHTML" />
<meta name="DC.identifier" content="overage_charge" />
<link rel="stylesheet" type="text/css" href="../../web/css/commonltr.css" />
<link rel="stylesheet" type="text/css" href="../../web/css/styles.min.css" />
<link rel="stylesheet" type="text/css" href="../../web/css/common-extended.css" /><title>Overage charge</title>
<script src="../web/js/nswtc.js" language="javascript" type="text/javascript">/*(◎_◎;)*/</script>
<script src="../../web/css/../js/script.min.js" language="javascript" type="text/javascript">/*(◎_◎;)*/</script>
</head>
<body id="overage_charge">
<div class="header"><div id="feedback-link-placeholder" class="feedback-link"></div><hr /></div><h1 class="title topictitle1" id="ariaid-title1">Overage charge</h1>
<div class="body conbody">
        <p class="p">Overage charge is the ability to define an overage fee per Overage Limit (OLI) block.
            This feature provides the functionality to apply charge on the overage usage, and it is
            applicable only when the usage limit is set and reached. If the Usage Limit (ULI) of a
            counter is reached, then the Overage Limit (OLI) is considered and it is applied
            repeatedly.</p>

        <p class="p">The overage fee is charged from the main balance of the account. While reserving units
            from the OLI block, an overage fee is reserved from the account and it is consumed
            during usage.</p>

        <div class="section" id="overage_charge__section_exn_sqk_tvb"><h2 class="title sectiontitle">Configuration</h2>
            
            <div class="p">The following parameters can be configured while creating a custom counter to apply
                overage charge on overage usage:<ul class="ul" id="overage_charge__ul_bfx_4sk_tvb">
                    <li class="li"><em class="ph i">Fee</em>: This parameter defines the overage fee to be charged when usage
                        is consumed from the overage block.</li>

                    <li class="li"><em class="ph i">Generate EDR</em>: If the <em class="ph i">Generate EDR</em> flag is enabled, then EDR is
                        generated at the time of charging overage fee from the main balance. If
                        multiple blocks are consumed in a single call, then a separate EDR is
                        generated for each OLI block. <div class="note" id="overage_charge__note_upz_5sw_5vb"><div class="notetitle"><img src="../../web/css/../images/note.svg" title="note-icon" class="noteicon" />Note:</div> For details on
                            CDRs/EDRs, see <em class="ph i">CDR/EDR Reference Guide</em>.</div>
</li>

                </ul>
<div class="fig fignone" id="overage_charge__fig_l2x_ysk_tvb">
                    <img class="image break" id="overage_charge__image_zzw_mzk_tvb" height="144" src="../images/Overage1.PNG" width="576" />
                </div>
</div>

            <div class="p">The custom counter parameters for applying overage charge can also be configured
                while attaching the counter to a charging logic. <div class="fig fignone" id="overage_charge__fig_fnq_ysk_tvb">
                    <img class="image break" id="overage_charge__image_sz5_4zk_tvb" height="192" src="../images/Overage2.PNG" width="576" />
                </div>
</div>

            <div class="sectiondiv"><strong class="ph b">Rule attributes for sending notification</strong><p class="p">The following rule
                    attributes are available in <em class="ph i">THRESHOLD_PROFILE</em> source context in
                        <em class="ph i">THRESHOLD</em> trigger</p>
 to send overage charge notifications:<ul class="ul" id="overage_charge__ul_ryh_bdl_tvb">
                    <li class="li"><em class="ph i">THRESHOLD_PROFILE.Current-Overage-Usage-Cost</em>: This attribute provides
                        the cost of current on-going overage block.<p class="p">For example: If ULI = 5GB, OLI
                            = 2GB, Fee = 2$ and current counter value = 9.5 GB, then
                                <em class="ph i">Current-Overage-Usage-Cost</em> is 2$.</p>
</li>

                    <li class="li"><em class="ph i">THRESHOLD_PROFILE.Total-Overage-Usage-Cost </em>: This attribute provides
                        total cost of overage blocks used in the billing cycle.<p class="p">For example: If
                            ULI = 5GB, OLI = 2GB, fee = 2$ and current counter value = 9.5GB, then
                            Total-Overage-Usage-Cost = 6$.</p>
</li>

                    <li class="li"><em class="ph i">THRESHOLD_PROFILE.Counter-Overage-Max-Resets</em>: This attribute provides
                        the maximum number of overage block counts.</li>

                </ul>
</div>
            <div class="sectiondiv"><strong class="ph b">Zero Rate with granularity configuration</strong><div class="p">To achieve free calls with
                    granularity, a zero rate can be configured and attached to a charging logic with
                    the custom counter having overage fee. In the following configuration, only the
                    overage fees is charged from the main balance based on the granularity of the
                        rate:<div class="fig fignone" id="overage_charge__fig_xty_z2n_tvb">
                        <img class="image break" id="overage_charge__image_drp_dfn_tvb" height="192" src="../images/zero_rate1.png" width="480" />
                        <img class="image break" id="overage_charge__image_ikh_2fn_tvb" height="192" src="../images/zero_rate2.png" width="480" />
                    </div>
</div>
</div>
            <div class="sectiondiv"><strong class="ph b">Insufficient main balance for charging overage fee</strong><p class="p">If available
                    balance is insufficient to charge the overage fee, then it is treated as a hard
                    stop without VQT, and the call fails with error code 4012 (<em class="ph i">Quota Limit
                        Reached</em>).​</p>
<p class="p">Separate filter ID values can be defined for
                    insufficient balance for overage fee while returning <em class="ph i">FUA =
                        restrict-access</em>. They can also be configured based on rating
                    group.</p>
<div class="p">Rule configuration for restrict access:<div class="fig fignone" id="overage_charge__fig_hj5_pzk_tvb">
                        <img class="image break" id="overage_charge__image_b3d_tzk_tvb" height="192" src="../images/Restrict_Access.png" width="576" />
                        <p class="p">If the main balance is insufficient, and GSU=0 is to be sent to the
                            network with result code success, then the following rule configuration
                            is required:</p>

                        <img class="image break" id="overage_charge__image_rcy_tzk_tvb" height="192" src="../images/gsu_0.png" width="576" />
                    </div>
</div>
</div>
        </div>

        <div class="section" id="overage_charge__section_gqt_2vk_tvb"><h2 class="title sectiontitle">Versioning</h2>
            
            <p class="p">If versioning is enabled (that is, the application preference <em class="ph i">Versioning
                    Enabled</em> is to <var class="keyword varname">true</var>), and the overage limit or fee is
                updated in the counter instance using any template API, then the updated Overage
                Limit and OLI fee are considered at the next step up of the overage limit block (OLI
                block). There is no impact on the current overage block.</p>

            <div class="p">After the new limit is updated in the counter instance at the next step up of the OLI
                block, the notification variables, CDR, and EDR attributes associated with overage
                limit use the updated overage limit value.<div class="note" id="overage_charge__note_rxh_cln_tvb"><div class="notetitle"><img src="../../web/css/../images/note.svg" title="note-icon" class="noteicon" />Note:</div> The overage
                    limit or fee can be updated using the patch fix or backdated fix. For details on
                    updating latest published active version, see <a class="xref" href="updating_published_version.html">Updating latest published active version</a>.</div>
</div>

        </div>

        <div class="section" id="overage_charge__section_gjl_1xk_tvb"><h2 class="title sectiontitle">Additional information</h2>
            
            <div class="p">
                <ul class="ul" id="overage_charge__ul_oft_bxk_tvb">
                    <li class="li">The overage charge is deducted only from main balance. Secondary balance is
                        not used even if the main balance is insufficient or not available.​</li>

                    <li class="li">The updated Overage Limit (OLI) and fee are effective from the next OLI
                        block. The updates do no impact the current consumption.</li>

                    <li class="li">To achieve granularity for voice calls, a rate with zero cost and required
                        granularity (1 min) to charge from main balance should be applied.
                        Granularity is applied even if charging is done from the usage block
                        (allowance).</li>

                    <li class="li">For updating the Overage Limit (OLI) or OLI fee of the existing
                        subscriptions, entity versioning should be enabled.</li>

                    <li class="li">NCC can apply a maximum of two overage charges for a network event, and only
                        one overage charge can be from a multi-service counter. Overage charges on
                        multiple multi-service counters is not supported.</li>

                    <li class="li">​Data boost bundles (which have multi-service counters) should have a fixed
                        allowance. They should not be used when exhausted. Hence, overage limit or
                        overage charge cannot be configured on data boost counters.</li>

                    <li class="li">Spending limit: Overage fees cannot be configured on OLI Blocks for cost
                        counters.</li>

                    <li class="li">Overage fee cannot be configured for Next-Rate.</li>

                    <li class="li">For a call, maximum of one multi-bundle counter can have OLI fee
                        configured.</li>

                </ul>

            </div>

        </div>

    </div>
<div class="footer"><hr /><p>Charging User Guide • P556766-DN1000054947-R23.8 • 1 • <a href="../home.html">Cover</a> • ©2023 Nokia. Nokia Confidential Information • Use subject to agreed restrictions on disclosure and use.</p></div></body>
</html>