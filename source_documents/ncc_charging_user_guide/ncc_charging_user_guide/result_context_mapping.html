<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2023" />
<meta name="DC.rights.owner" content="(C) Copyright 2023" />
<meta name="generator" content="DITA-OT" /><meta name="DC.type" content="concept" />
<meta name="DC.title" content="Result context" />
<meta name="prodname" content="Nokia Converged Charging" />
<meta name="version" content="Release 23.8" />
<meta name="DC.format" content="XHTML" />
<meta name="DC.identifier" content="id9yz-09126-ug01-pczza-sp1-d1e131472" />
<link rel="stylesheet" type="text/css" href="../../web/css/commonltr.css" />
<link rel="stylesheet" type="text/css" href="../../web/css/styles.min.css" />
<link rel="stylesheet" type="text/css" href="../../web/css/common-extended.css" /><title>Result context</title>
<script src="../web/js/nswtc.js" language="javascript" type="text/javascript">/*(◎_◎;)*/</script>
<script src="../../web/css/../js/script.min.js" language="javascript" type="text/javascript">/*(◎_◎;)*/</script>
</head>
<body id="id9yz-09126-ug01-pczza-sp1-d1e131472">
<div class="header"><div id="feedback-link-placeholder" class="feedback-link"></div><hr /></div><h1 class="title topictitle1" id="ariaid-title1">Result context </h1>
<div class="body conbody">
        <p class="p">A ResultContext is a collection of result attributes produced by running the RuleSet
            through the rules engine. The rule engine places the results into the appropriate result
            context based on the description provided by the action attribute's description. All the
            results are provided into an object, which has a set of ResultContexts. See the
            ResultContextType.java for a list of possible ResultContexts. The application code will
            look in the appropriate result context for the action attributes it needs to operate on. </p>

        <p class="p">You configure the Action Attribute for the rule by determining the Result Context Type
            and attribute name. </p>

        <div class="note caution"><div class="cautiontitle"><img src="../../web/css/../images/caution.svg" title="caution-icon" class="noteicon" />CAUTION:</div> When a rule is created, modified, removed, or loaded, it takes a
            minimum of 30 seconds to load the RSV. For any action that updates the rules (for
            example, a TPG value is updated from 10 to 20, an action is updated, or a Tariff Rule
            action is modified), the changes take effect after ~30 seconds. Operators must wait for
            this time interval (30 seconds), to consider the change for feature
            implementation/execution.</div>

        <div class="note notice" id="id9yz-09126-ug01-pczza-sp1-d1e131472__note_onz_yxp_x5b"><div class="noticetitle"><img src="../../web/css/../images/notice.svg" title="notice-icon" class="noteicon" />Notice:</div> Result context action
                <var class="keyword varname">System.Do-Nothing</var> can be used in a charging service/ logic tariff
            pass. If this action is configured in rule, then NCC logic skips the current pass doing
            nothing in usage, charging, etc., and moves to the next pass.</div>
        <div class="section" id="id9yz-09126-ug01-pczza-sp1-d1e131472__section_ydg_fpb_xrb"><h2 class="title sectiontitle">Diameter Answer result context for common usage</h2>
            
            <p class="p">The Diameter Answer context encapsulates the common AVPs that any Diameter response
                can contain. In the case of an incoming Diameter Answer message, the rule engine is
                invoked twice. It is invoked the first time to execute the generic Diameter Answer
                rule set, which allows rules to be written that apply to many or all answer types.
                For example, if you wanted to change the value of the origin-host AVP for all answer
                message types, you would write the rule in the Diameter Answer rule set. </p>

            <p class="p">After the rule engine has been invoked for the answer rule set, it is invoked a
                second time for the specific message type rule set. For example, when the rule
                engine processes a Gy CCA message type, the generic Diameter Answer rule set is
                executed the first time the rule engine is invoked. The application message-specific
                Gy CCA rule set is executed during the second invocation.</p>

        </div>

<div class="section"><h2 class="title sectiontitle">Mapping of result contexts to triggers for charging</h2>
            
            <p class="p">The following table lists the mappings of result contexts, which contain the result
                information evaluated by rule engine for NCC.</p>

            <table cellpadding="4" cellspacing="0" summary="" id="id9yz-09126-ug01-pczza-sp1-d1e131472__table_qrs_jkr_zrb" class="table" width="100%" frame="border" border="1" rules="all"><caption><span class="tablecap"><span class="table--title-label">Table: </span>Trigger - result context mapping</span></caption><colgroup><col /><col /><col /></colgroup><thead class="thead" style="text-align:left;">
                        <tr class="row">
                            <th class="entry cellrowborder" style="vertical-align:top;" id="d403709e78">Applicable result context</th>

                            <th class="entry cellrowborder" style="vertical-align:top;" id="d403709e81">Triggers</th>

                            <th class="entry cellrowborder" style="vertical-align:top;" id="d403709e84">Description</th>

                        </tr>

                    </thead>
<tbody class="tbody">
                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d403709e78 ">CALL_RESULT</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d403709e81 ">APPLICABILITY GY_CREDIT_REQUEST GY_POST_PROCESSING
                                GY_SESSION_ESTABLISHMENT GY_SESSION_MODIFICATION
                                GY_SESSION_TERMINATION IMS_CALL_MODIFICATION IMS_CALL_TERMINATION
                                IMS_CALL_ESTABLISHMENT SLICING_PROFILE SMS_CALL_TERMINATION
                                SNR_RESULT SY_SESSION_ESTABLISHMENT SY_SESSION_MODIFICATION TARIFF
                                THRESHOLD NCHF_CALL_ESTABLISHMENT NCHF_CALL_MODIFICATION
                                    NCHF_CALL_TERMINATION<p class="p">RESOURCE_PRE_SORTING </p>
</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d403709e84 ">This result context holds the actions available to access and set
                                zoning, roaming, callSubType, direct debit failure handling, and
                                credit control failure handling.</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d403709e78 ">RATING</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d403709e81 ">APPLICABILITY GY_CREDIT_REQUEST IMS_CALL_ESTABLISHMENT
                                SLICING_PROFILE</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d403709e84 ">This result context holds the actions available to access and set
                                rating attributes.</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d403709e78 ">SESSION_PARAMETERS</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d403709e81 ">SMS_CALL_ESTABLISHMENT SMS_CALL_TERMINATION <p class="p">SNR_RESULT</p>

                                SY_SESSION_ESTABLISHMENT SY_SESSION_MODIFICATION <p class="p">TARIFF
                                </p>
THRESHOLD NCHF_CHARGING_ESTABLISHMENT NCHF_CHARGING_MODIFICATION
                                NCHF_CHARGING_TERMINATION SLICING_PROFILE MMS_CALL_ESTABLISHMENT
                                GY_SESSION_TERMINATION GY_SESSION_MODIFICATION GY_PRE_PROCESSING
                                GY_POST_PROCESSING GY_CREDIT_REQUEST
                                    <p class="p">APPLICABILITY</p>
<p class="p">RESOURCE_PRE_SORTING </p>
</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d403709e84 ">This result context provides the NCC rule engine with access to a
                                session specific information.</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d403709e78 ">BUNDLE</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d403709e81 ">BUNDLE</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d403709e84 ">This result context is used for BOU type of bundles.</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d403709e78 ">RULE_TABLE</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d403709e81 ">GY_MESSAGE</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d403709e84 ">This result context holds the actions available to access and set
                                specific rule groups.</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d403709e78 ">NOTIFICATION</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d403709e81 ">GY_POST_PROCESSING IMS_CALL_ESTABLISHMENT
                                IMS_CALL_MODIFICATION</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d403709e84 ">This result context holds the actions available to access and set
                                notification attributes.</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d403709e78 ">SPR_DEVICE</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d403709e81 ">GY_POST_PROCESSING GY_SESSION_ESTABLISHMENT
                                IMS_CALL_ESTABLISHMENT IMS_CALL_MODIFICATION MMS_CALL_TERMINATION
                                RATING_POST_PROCESSING RESOURCE_POST_PROCESSING SLICING_PROFILE
                                    SMS_CALL_ESTABLISHMENT<p class="p">RESOURCE_PRE_SORTING </p>
</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d403709e84 ">This result context provides device specific details to the NCC
                                rule engine.</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d403709e78 ">SPR_GROUP</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d403709e81 ">GY_POST_PROCESSING IMS_CALL_ESTABLISHMENT IMS_CALL_MODIFICATION
                                SLICING_PROFILE SMS_CALL_ESTABLISHMENT</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d403709e84 ">This result context contains the group information.</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d403709e78 ">GY_POST_PROCESSING</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d403709e81 ">GY_POST_PROCESSING</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d403709e84 ">This result context is applied for any actions to be taken at Gy
                                Post processing. It is for processing trigger at call control and
                                should be evolved per use case.</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d403709e78 ">GY_PRE_PROCESSING</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d403709e81 ">GY_PRE_PROCESSING</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d403709e84 ">This result context is applied for any actions to be taken at Gy
                                Pre processing. It is for processing trigger at call control and
                                should be evolved per use case.</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d403709e78 ">RESOURCE_POST_PROCESSING</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d403709e81 ">IMS_CALL_MODIFICATION</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d403709e84 ">This result context is evaluated on COMMIT of every resource,
                                such as bucket, counter, main account balance, and NoCharge.</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d403709e78 ">DYNAMIC_SLICE</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d403709e81 ">IMS_CALL_TERMINATION</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d403709e84 ">This result context is used to define different attributes like
                                slice size, validity-time etc.</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d403709e78 ">SY</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d403709e81 ">MMS_CALL_TERMINATION RATING_POST_PROCESSING
                                RESOURCE_POST_PROCESSING SMS_CALL_ESTABLISHMENT</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d403709e84 ">This result context provides SY session specific details to the
                                NCC rule engine.</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d403709e78 ">THRESHOLD</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d403709e81 ">SMS_CALL_ESTABLISHMENT</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d403709e84 ">This result context holds the actions available to access and set
                                threshold attributes.</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d403709e78 ">LOAN_RESULT</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d403709e81 ">
                                <p class="p">LOAN_PRE_PROCESSING</p>

                                <p class="p">LOAN_POST_PROCESSING</p>

                            </td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d403709e84 ">This result context holds the action available to process the
                                loan request.</td>

                        </tr>

                    </tbody>
</table>

        </div>

</div>
<div class="footer"><hr /><p>Charging User Guide • P556766-DN1000054947-R23.8 • 1 • <a href="../home.html">Cover</a> • ©2023 Nokia. Nokia Confidential Information • Use subject to agreed restrictions on disclosure and use.</p></div></body>
</html>