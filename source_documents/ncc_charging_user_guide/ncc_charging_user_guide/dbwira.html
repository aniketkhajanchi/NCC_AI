<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2023" />
<meta name="DC.rights.owner" content="(C) Copyright 2023" />
<meta name="generator" content="DITA-OT" /><meta name="DC.type" content="concept" />
<meta name="DC.title" content="Data bundles with international roaming access" />
<meta name="prodname" content="Nokia Converged Charging" />
<meta name="version" content="Release 23.8" />
<meta name="DC.format" content="XHTML" />
<meta name="DC.identifier" content="id9yz-09126-ug01-pczza-sp1-dbwira" />
<link rel="stylesheet" type="text/css" href="../../web/css/commonltr.css" />
<link rel="stylesheet" type="text/css" href="../../web/css/styles.min.css" />
<link rel="stylesheet" type="text/css" href="../../web/css/common-extended.css" /><title>Data bundles with international roaming access</title>
<script src="../web/js/nswtc.js" language="javascript" type="text/javascript">/*(◎_◎;)*/</script>
<script src="../../web/css/../js/script.min.js" language="javascript" type="text/javascript">/*(◎_◎;)*/</script>
</head>
<body id="id9yz-09126-ug01-pczza-sp1-dbwira">
<div class="header"><div id="feedback-link-placeholder" class="feedback-link"></div><hr /></div><h1 class="title topictitle1" id="ariaid-title1">Data bundles with international roaming access</h1>
<div class="body conbody">
<div class="section">
<p class="p">The operators can provide flexibility to subscribers to use the data bundles for both
                domestic and international roaming. A daily spending limit can be configured for the
                data used during international roaming. If the daily spending limit is reached, then
                the throttling of speed (policy change) happens for the international roaming
                subscriber. </p>

</div>

<div class="section"><h2 class="title sectiontitle">Configuration</h2>
<p class="p">For the data bundles used during international roaming, all the counters are reset irrespective of whether they are linked to account or subscription. Also, the SNR is sent for indicating the policy counter status when the counter is reached to configured threshold and again when the counter is reset to 0.</p>

<p class="p">Configure the following entities:</p>
<ol class="ol">
<li class="li">
<p class="p">Configure a threshold profile group with the <span class="ph uicontrol">Schedule-Event</span> action. Note that this action is applicable only for counters. The syntax for <span class="ph uicontrol">Schedule-Event</span> action is as follows:</p>

<p class="p">
<code class="ph codeph">Schedule-Event ("&lt;TIME_VALUE&gt;", &lt;TIME_UNIT&gt;, &lt;Action&gt;)</code>
</p>

<p class="p">where</p>
<ul class="ul">
<li class="li">
<p class="p"><code class="ph codeph">TIME_VALUE</code> is the length of the period</p>

</li>

<li class="li">
<p class="p"><code class="ph codeph">TIME_UNIT</code> is the period of unit, such as <code class="ph codeph">DAY</code>,
                                    <code class="ph codeph">WEEK</code>, <code class="ph codeph">MONTH</code></p>

</li>

<li class="li">
<p class="p">Action is the action to perform, such as <code class="ph codeph">RESET</code></p>

<p class="p">For example, the Schedule-Event action for daily counter reset is as follows:</p>

<p class="p">
<code class="ph codeph">THRESHOLD.Schedule-Event ("1", TimeUnit_Days, ThresholdScheduledEventType_RESET)</code>
</p>

</li>

</ul>

</li>

<li class="li">
<p class="p">Create a counter and link the threshold created in the previous step to it. <span class="ph uicontrol">Threshold Profile Group IDs</span> is the field name in the counter to link thresholds. Set the <span class="ph uicontrol">OCS Policy Counter</span> to true.</p>

</li>

<li class="li">
<p class="p">Create a charging service with data bucket. Attach the threshold created with the data bucket.</p>

</li>

<li class="li">
<p class="p">Configure a data bundle and link the charging service created.</p>

</li>

<li class="li">
<p class="p">Create a device and link the counter.</p>

</li>

</ol>

<p class="p">See <a class="xref" href="pendinglifecycle.html#id9yz-09126-ug01-pczza-sp1-d1e28451__plccntrreset">Pending counter reset logic</a> for information regarding
                handling of pending counters.</p>

</div>

<div class="section"><h2 class="title sectiontitle">Additional information</h2>
<p class="p">Note the following important points:</p>
<ul class="ul">
<li class="li">
<p class="p">Counter is reset at period defined in the <span class="ph uicontrol">Schedule-Event</span> action. It does not consider the periodicity defined in the linked account or subscription.</p>

</li>

<li class="li">
<p class="p">If a counter has its own reset configuration, then it is not reset during account renewal.</p>

</li>

</ul>

</div>

<div class="section"><h2 class="title sectiontitle">Examples</h2>
            
            <div class="sectiondiv">
                <p class="p"><span class="ph uicontrol">Example 1: Counter with its own periodicity</span></p>

                <p class="p">In this example, the counter is reset at the period defined in the
                        <span class="ph uicontrol">Schedule-Event</span> action configured in the threshold
                    profile group. SNR is sent based on the configurations made.</p>

                <p class="p">Consider that a device has the following subscription and counters linked to
                    it:</p>

                <ul class="ul" id="id9yz-09126-ug01-pczza-sp1-dbwira__ul_tvw_cjy_m4b">
                    <li class="li">
                        <p class="p">A device subscription linked to account that renews at every 2
                            minutes.</p>

                    </li>

                    <li class="li">
                        <p class="p">A device policy counter with normal configuration without the
                                <span class="ph uicontrol">Schedule-Event</span> action.</p>

                    </li>

                    <li class="li">
                        <p class="p">A device policy counter with <span class="ph uicontrol">Schedule-Event</span> action
                            configuration that resets counter daily.</p>

                    </li>

                </ul>

                <p class="p">Configure the following entities to reset counter and send SNR for data bundle
                    with roaming access:</p>

                <ol class="ol" id="id9yz-09126-ug01-pczza-sp1-dbwira__ol_ifb_2jy_m4b">
                    <li class="li">
                        <p class="p">Configure the Threshold profile group. According to this configuration,
                            when the threshold value is 0, SNR is set to <var class="keyword varname">HIGH</var>
                            (speed is at high rate) and the counter is reset daily. The notification
                            is sent with the data defined in the notification template. When the
                            threshold value of 50 GB is reached, the SNR is set to
                                <var class="keyword varname">MEDIUM</var>, that is, the speed is throttled to medium
                            rate. Set the <span class="ph uicontrol">OCS Policy Threshold</span> to
                                <var class="keyword varname">true</var>.</p>

                    </li>

                    <li class="li"><p class="p">Create a charging service with a data bucket and attach the
                            threshold.</p>
<img class="image" id="id9yz-09126-ug01-pczza-sp1-dbwira__image_jfb_2jy_m4b" src="../images/img9yz-09126-ug01-pczza-sp1-ircs_default.png" height="126" width="486" />
                    </li>

                    <li class="li"><p class="p">Configure a data bundle and link the charging service created.</p>
<img class="image" id="id9yz-09126-ug01-pczza-sp1-dbwira__image_kfb_2jy_m4b" src="../images/img9yz-09126-ug01-pczza-sp1-irbundle_default.png" height="144" width="561" />
                    </li>

                    <li class="li"><p class="p">Configure the following policy counters:</p>
<p class="p">
                            <span class="ph uicontrol">Normal policy counter:</span> Threshold is not linked to
                            this counter.</p>
<img class="image" id="id9yz-09126-ug01-pczza-sp1-dbwira__image_lfb_2jy_m4b" src="../images/img9yz-09126-ug01-pczza-sp1-pc_normal_default.png" />
                        <p class="p">
                            <span class="ph uicontrol">Policy counter for reset:</span>
                        </p>
<img class="image" id="id9yz-09126-ug01-pczza-sp1-dbwira__image_mfb_2jy_m4b" src="../images/img9yz-09126-ug01-pczza-sp1-pc_reset_default.png" height="129" width="494" />
                    </li>

                    <li class="li"><p class="p">Create a device and attach the data bundle and device counters (policy
                            counters).</p>
<p class="p">A data call is made and it crosses threshold at 50. SNR
                            throttles and status is set to <var class="keyword varname">MEDIUM</var>. Counter is
                            reset at the scheduled time defined in the
                                <span class="ph uicontrol">Schedule-Event</span> action.</p>
<img class="image" id="id9yz-09126-ug01-pczza-sp1-dbwira__image_nfb_2jy_m4b" src="../images/img9yz-09126-ug01-pczza-sp1-threshold1_default.png" height="128" width="622" /><img class="image break" id="id9yz-09126-ug01-pczza-sp1-dbwira__image_hbg_yhx_44b" src="../images/docupdate2.PNG" /><img class="image" id="id9yz-09126-ug01-pczza-sp1-dbwira__image_pfb_2jy_m4b" src="../images/img9yz-09126-ug01-pczza-sp1-tpg2_default.png" height="226" width="505" />
                    </li>

                </ol>

            </div>

            <div class="sectiondiv">
                <p class="p">
                    <span class="ph uicontrol">Example 2: Counter reset is due by its periodicity and is reset by
                        call</span>
                </p>

                <p class="p">Consider that a device has the following subscription and counters linked to
                    it:</p>

                <ul class="ul" id="id9yz-09126-ug01-pczza-sp1-dbwira__ul_zsd_fjy_m4b">
                    <li class="li">
                        <p class="p">A device subscription linked to account.</p>

                    </li>

                    <li class="li">
                        <p class="p">A device policy counter with normal configuration without the
                                <span class="ph uicontrol">Schedule-Event</span> action.</p>

                    </li>

                    <li class="li">
                        <p class="p">A device policy counter with <span class="ph uicontrol">Schedule-Event</span> action
                            configuration that resets counter daily.</p>

                    </li>

                </ul>

                <p class="p">The counter is reset when a call is triggered. Following is the threshold
                    configuration for counter scheduling. According to this configuration, when the
                    threshold value is 0, SNR is set to <var class="keyword varname">HIGH</var> (speed is at high
                    rate) and the counter is reset daily. The notification is sent with the data
                    defined in the notification template. When the threshold value of 25 Byte is
                    reached, the SNR is set to <var class="keyword varname">LOW</var>, that is, the speed is
                    throttled to low speed rate. Set the <span class="ph uicontrol">OCS Policy Threshold</span>
                    to <var class="keyword varname">true</var>.</p>

                <div class="fig fignone" id="id9yz-09126-ug01-pczza-sp1-dbwira__fig_atd_fjy_m4b">
                    <img class="image break" id="id9yz-09126-ug01-pczza-sp1-dbwira__image_nbb_wjy_m4b" src="../images/docupdate2.PNG" height="127" width="376" />
                </div>

                
                <div class="fig fignone" id="id9yz-09126-ug01-pczza-sp1-dbwira__fig_ctd_fjy_m4b">
                    <img class="image break" id="id9yz-09126-ug01-pczza-sp1-dbwira__image_dtd_fjy_m4b" src="../images/img9yz-09126-ug01-pczza-sp1-mod397ph2th2_default.png" height="250" width="692" />
                </div>

            </div>
</div>

</div>
<div class="footer"><hr /><p>Charging User Guide • P556766-DN1000054947-R23.8 • 1 • <a href="../home.html">Cover</a> • ©2023 Nokia. Nokia Confidential Information • Use subject to agreed restrictions on disclosure and use.</p></div></body>
</html>