<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2023" />
<meta name="DC.rights.owner" content="(C) Copyright 2023" />
<meta name="generator" content="DITA-OT" /><meta name="DC.type" content="concept" />
<meta name="DC.title" content="Cost Bucket: As additional balance for call usage through tariff rules" />
<meta name="prodname" content="Nokia Converged Charging" />
<meta name="version" content="Release 23.8" />
<meta name="DC.format" content="XHTML" />
<meta name="DC.identifier" content="cost_bucket_enhancement" />
<link rel="stylesheet" type="text/css" href="../../web/css/commonltr.css" />
<link rel="stylesheet" type="text/css" href="../../web/css/styles.min.css" />
<link rel="stylesheet" type="text/css" href="../../web/css/common-extended.css" /><title>Cost Bucket: As additional balance for call usage through tariff rules</title>
<script src="../web/js/nswtc.js" language="javascript" type="text/javascript">/*(◎_◎;)*/</script>
<script src="../../web/css/../js/script.min.js" language="javascript" type="text/javascript">/*(◎_◎;)*/</script>
</head>
<body id="cost_bucket_enhancement">
<div class="header"><div id="feedback-link-placeholder" class="feedback-link"></div><hr /></div><h1 class="title topictitle1" id="ariaid-title1">Cost Bucket: As additional balance for call usage through tariff rules</h1>
<div class="body conbody">
        <div class="section" id="cost_bucket_enhancement__section_ey2_m4k_tnb">
            <p class="p">NCC has the capability to provide allowance (that is, additional balance) in the form
                of a separate plan to its users. This allowance can be referred to as a monetary or
                non-monetary type of bucket within a charging service. This allowance is made
                available to users through new plans, which means bundle subscription purchased over
                the user device.</p>

            <p class="p">Following are the capabilities of allowance along with promotional plan:</p>

            <ul class="ul" id="cost_bucket_enhancement__ul_g1v_lpk_tnb">
                <li class="li">
                    <p class="p">The separate allowance plan can be renewed or can be reset as per its billing
                        cycle, which means the bucket follows the lifecycle of a bundle or account
                        lifeycle (in case the bundle lifecycle is not present).</p>

                </li>

                <li class="li">
                    <p class="p">The separate allowance plan can be prorated depending upon the day of
                        purchase or activation of bundle plan.</p>

                </li>

                <li class="li">
                    <p class="p">The Bundle on Use (BOU) functionality on allowance promotional plan, which
                        means allowance can be subscribed to a device once the device starts using
                        the plan.</p>

                </li>

                <li class="li">
                    <p class="p">The aggregate view (AV) accumulating the allowance subscribed to a device by
                        susbcribing the plan with additional allowances.</p>

                </li>

                <li class="li">
                    <p class="p">The threshold action execution on monetary and non-monetary allowances are
                        defined in a bundle.</p>

                </li>

            </ul>

        </div>

        <div class="section" id="cost_bucket_enhancement__section_syz_srk_tnb"><h2 class="title sectiontitle">Configuring the functionality</h2>
            
            <p class="p">In order to activate this functionality, the following flag needs to be configured in
                tariff rules for applicable resources or rate:</p>

            <p class="p">The <strong class="ph b">SelectRate_EXTERNAL</strong> flag is configured in the tariff rules of a charging
                service when a user wants to apply any rate as configured in the highest or lowest
                prioritized charging service or bundle apart from its own plan (bundle). This flag
                is applied for non-monetary buckets.</p>

            <div class="note"><div class="notetitle"><img src="../../web/css/../images/note.svg" title="note-icon" class="noteicon" />Note:</div> The <strong class="ph b">SelectRate_EXTERNAL</strong> flag is configured only for non-monetary buckets
                and for those specific plans in which tariff rules want to apply any other
                rates.</div>

            <p class="p">A new rule attribute <span class="keyword cmdname">Selected-Rate</span> is set in the
                    <em class="ph i">CALL_COMMON</em> source context as a string type so that selected rate from
                one tariff can be used in the conditions or in <span class="keyword cmdname">Rating.Rate</span>
                (result context) selection of the <em class="ph i">RATE</em>.</p>

            <div class="note"><div class="notetitle"><img src="../../web/css/../images/note.svg" title="note-icon" class="noteicon" />Note:</div> 
                <ul class="ul" id="cost_bucket_enhancement__ul_ocl_54m_wnb">
                    <li class="li">
                        <p class="p">For activating a <em class="ph i">Rate Only</em> plan, that plan rate should have the
                            highest priority amongst all plans or bundles.</p>

                    </li>

                    <li class="li">
                        <p class="p">If the <em class="ph i">Rate Only</em> plan with <span class="keyword cmdname">Rating.Rate(Rate1)</span>
                            or <em class="ph i">Any Plan</em> with <span class="keyword cmdname">Rating.Rate
                                (Rate2,Main-Balance)</span> has a higher priority, then the
                                <span class="keyword cmdname">Selected-Rate</span> rule variable is set with the
                            applicable rate.</p>

                    </li>

                    <li class="li">
                        <p class="p">Help for <span class="keyword cmdname">CALL_COMMON.Selected-Rate in Rating.Rate()</span> is
                            currently not available in SM GUI.</p>

                    </li>

                </ul>

            </div>

            <p class="p">For example:</p>

            <ul class="ul" id="cost_bucket_enhancement__ul_w42_yvp_vnb">
                <li class="li">
                    <p class="p">For a charging service <var class="keyword varname">CS1</var> with
                            <span class="keyword cmdname">Rating.Rate("Rate2")</span> and <var class="keyword varname">CS2</var>  with
                            <span class="keyword cmdname">RATING.Rate (CALL_COMMON.Selected-Rate, "B1")</span>, the
                        charging of <var class="keyword varname">B1</var> is done with <var class="keyword varname">Rate2</var>.</p>

                </li>

                <li class="li">
                    <p class="p">For <span class="keyword cmdname">RATING.Rate ( "CALL_COMMON.Selected-Rate", "B13" )</span>, an
                        error code <var class="keyword varname">5031</var> is returned as its only a bundle attached
                        to the device.</p>

                </li>

            </ul>

            <div class="note"><div class="notetitle"><img src="../../web/css/../images/note.svg" title="note-icon" class="noteicon" />Note:</div> In the above two examples, we do not pick the rate from lower priority
                bundles.</div>

        </div>

        <div class="section" id="cost_bucket_enhancement__section_q5g_15k_tnb"><h2 class="title sectiontitle">Additional information</h2>
            
            <ul class="ul" id="cost_bucket_enhancement__ul_id5_w5k_tnb">
                <li class="li">
                    <p class="p">Allowances are additional balances; however, each allowance (with a bucket
                        having separate instances) is not a shared bucket across bundles or
                        plan.</p>

                </li>

                <li class="li">
                    <p class="p">The secondary rate feature is not applicable to cost bucket or allowance
                        features.</p>

                </li>

                <li class="li">
                    <p class="p">The counter to be specified with resource, which is allowance accumulates the
                        data consumption.</p>

                </li>

                <li class="li">
                    <p class="p">The taxation fee is deducted using the only the main account balance and not
                        from additional allowances.</p>

                </li>

                <li class="li">
                    <p class="p">If a subscriber subscribes twice to the same allowance offer, then each
                        instance contains a separate bucket.</p>

                </li>

                <li class="li">
                    <p class="p">Multiple cost buckets are supported and is applied as per the priority of the
                        bundle or charging service and the applicability condition set as
                            <var class="keyword varname">TRUE</var>.</p>

                </li>

                <li class="li">
                    <p class="p">The rate is applied to allowance as per the priorities of the bundle or
                        charging service and applicability condition set as
                        <var class="keyword varname">TRUE</var>.</p>

                </li>

                <li class="li">
                    <p class="p">When <em class="ph i">Action Rate Only</em> is defined in the tariff of <em class="ph i">RateOffer</em>
                        plan, it won't be charging from its own main account balance.</p>

                </li>

                <li class="li">
                    <p class="p">When the <strong class="ph b">SelectRate_EXTERNAL</strong> flag is defined in a rule against
                        non-monetary bucket or main account balance, then rate is picked as per the
                        priority or applicability of bundle or charging service.</p>

                </li>

                <li class="li">
                    <p class="p">Taxation is applied to allowance; however, the taxation action should be
                        configured with <var class="keyword varname">RATE</var> action as per the existing plan.</p>

                </li>

                <li class="li">
                    <p class="p">A bundle or charging service with only rate configured in its tariff rules is
                        supported.</p>

                </li>

            </ul>

        </div>

        <div class="bodydiv conbodydiv">
            <div class="section" id="cost_bucket_enhancement__section_kns_rt4_vnb"><h2 class="title sectiontitle">Pre-configuration for examples</h2>
                
                <p class="p">Following are the pre-configuration of the plan being used in the examples listed
                    further:</p>

                <ul class="ul" id="cost_bucket_enhancement__ul_t1h_ks4_vnb">
                    <li class="li">
                        <p class="p"><em class="ph i">Main-Balance Plan</em> - A bundle with main account balance with a
                            specified rate.</p>

                    </li>

                    <li class="li">
                        <p class="p"><em class="ph i">Allowance Plan</em> - A bundle with bucket of <em class="ph i">Money Type</em>
                            selected in the charging service and tariff rules.</p>

                    </li>

                    <li class="li">
                        <p class="p"><em class="ph i">AllowanceMainBalancePlan</em> - A bundle with bucket of <em class="ph i">Money
                                Type</em> and main account balance with a specified rate.</p>

                    </li>

                    <li class="li">
                        <p class="p"><em class="ph i">NM-Allowance Plan</em> - A bundle with bucket of <em class="ph i">Non-Monetary
                                Type</em> selected in the charging service and tariff rules.</p>

                    </li>

                    <li class="li">
                        <p class="p"><em class="ph i">Rate Offer Plan</em> - A bundle with no resource selected in the
                            charging service or tariff rules, and only a specified rate in
                            tariff.</p>

                    </li>

                </ul>

                <div class="fig fignone" id="cost_bucket_enhancement__fig_jd2_ct4_vnb">
                    <img class="image imagecenter break" id="cost_bucket_enhancement__image_tp5_2t4_vnb" src="../images/nomenclatures.PNG" />
                </div>

                <p class="p">Consider the following examples for better understanding of this feature:</p>

            </div>

            <div class="section" id="cost_bucket_enhancement__section_kwd_dy4_vnb"><h2 class="title sectiontitle">Example 1: Monetary allowance with Rate Offer Plan</h2>
                
                
                <div class="sectiondiv">
                    <p class="p"><strong class="ph b">Monetary allowance with ANY rate</strong></p>

                    <p class="p">Suppose a device has the following tariff configuration:</p>

                    <ul class="ul" id="cost_bucket_enhancement__ul_yrb_5w4_vnb">
                        <li class="li">
                            <p class="p"><em class="ph i">Rate Offer Plan</em>:</p>

                            <p class="p"><span class="keyword cmdname">CS1.Pass0</span></p>

                            <p class="p"><span class="keyword cmdname">Rating.Rate(Rate0)</span></p>

                        </li>

                        <li class="li">
                            <p class="p"><em class="ph i">Allowance Plan</em>:</p>

                            <p class="p"><span class="keyword cmdname">CS2.Pass0</span></p>

                            <p class="p"><span class="keyword cmdname">Rating.Bucket-Selection(Allowance1)</span></p>

                        </li>

                    </ul>

                    <div class="note"><div class="notetitle"><img src="../../web/css/../images/note.svg" title="note-icon" class="noteicon" />Note:</div> As the <em class="ph i">Rate Offer Plan</em> is applied with a higher priority, the
                        monetary bucket is applied at <var class="keyword varname">Rate0</var> by default and no
                        configuration flag is required for monetary bucket allowance.</div>

                    <p class="p"><strong class="ph b">RESULT:</strong></p>

                    <p class="p">As per the above configuration, for a device with <em class="ph i">Allowance Plan</em> and
                            <em class="ph i">Rate Offer Plan</em>, <var class="keyword varname">Rate0</var> is applied to the
                            <em class="ph i">MoneyAllowance</em>.</p>

                    
                </div>
                <div class="sectiondiv">
                    <p class="p"><strong class="ph b">Monetary allowance with SPECIFIC rate</strong></p>

                    <p class="p">Suppose a device has the following tariff configuration:</p>

                    <ul class="ul" id="cost_bucket_enhancement__ul_lbs_hx4_vnb">
                        <li class="li">
                            <p class="p"><em class="ph i">Rate Offer Plan</em>:</p>

                            <p class="p"><span class="keyword cmdname">CS1.Pass0</span></p>

                            <p class="p"><span class="keyword cmdname">Rating.Rate(Rate0)</span></p>

                        </li>

                        <li class="li">
                            <p class="p"><em class="ph i">Allowance Plan</em>:</p>

                            <p class="p"><span class="keyword cmdname">CS2.Pass0</span></p>

                            <p class="p"><span class="keyword cmdname">Rating.Rate(Rate1,Allowance1)</span></p>

                        </li>

                    </ul>

                    <p class="p"><strong class="ph b">RESULT:</strong></p>

                    <p class="p">As per the above configuration, for a device with <em class="ph i">Allowance Plan</em> and
                            <em class="ph i">Rate Offer Plan</em> but a specific rate, only
                            <var class="keyword varname">Rate1</var> is applied to the
                        <var class="keyword varname">Allowance1</var>.</p>

                    
                </div>
            </div>

            <div class="section" id="cost_bucket_enhancement__section_gvm_hy4_vnb"><h2 class="title sectiontitle">Example 2: Non-monetary allowance with Rate Offer Plan</h2>
                
                
                <div class="sectiondiv">
                    <p class="p"><strong class="ph b">Time allowance with NO rate</strong></p>

                    <p class="p">Suppose a device has the following tariff configuration:</p>

                    <ul class="ul" id="cost_bucket_enhancement__ul_nss_4y4_vnb">
                        <li class="li">
                            <p class="p"><em class="ph i">Rate Offer Plan</em>:</p>

                            <p class="p"><span class="keyword cmdname">CS1.Pass0</span></p>

                            <p class="p"><span class="keyword cmdname">Rating.Rate(Rate0)</span></p>

                        </li>

                        <li class="li">
                            <p class="p"><em class="ph i">NM-Allowance Plan</em>:</p>

                            <p class="p"><span class="keyword cmdname">CS2.Pass0</span></p>

                            <p class="p"><span class="keyword cmdname">Rating.Bucket-Selection(TimeAllowance)</span></p>

                        </li>

                    </ul>

                    <p class="p"><strong class="ph b">RESULT:</strong></p>

                    <p class="p">As per the above configuration, for a device with <em class="ph i">TimeAllowance</em> and
                            <em class="ph i">Rate Offer Plan</em>, no rate is applied to the
                        <em class="ph i">TimeAllowance</em>.</p>

                    
                </div>
                <div class="sectiondiv">
                    <p class="p"><strong class="ph b">Time allowance with ANY rate</strong></p>

                    <p class="p">Suppose a device has the following tariff configuration:</p>

                    <ul class="ul" id="cost_bucket_enhancement__ul_n4m_31p_vnb">
                        <li class="li">
                            <p class="p"><em class="ph i">Rate Offer Plan</em>:</p>

                            <p class="p"><span class="keyword cmdname">CS1.Pass0</span></p>

                            <p class="p"><span class="keyword cmdname">Rating.Rate(Rate0)</span></p>

                        </li>

                        <li class="li">
                            <p class="p"><em class="ph i">NM-Allowance Plan</em>:</p>

                            <p class="p"><span class="keyword cmdname">CS2.Pass0</span></p>

                            <p class="p"><span class="keyword cmdname">Rating.Bucket-Selection(TimeAllowance,SelectRate_EXTERNAL)</span></p>

                        </li>

                    </ul>

                    <p class="p"><strong class="ph b">RESULT:</strong></p>

                    <p class="p">As per the above configuration, for a device with <em class="ph i">TimeAllowance</em> and
                            <em class="ph i">Rate Offer Plan</em>, only <var class="keyword varname">Rate0</var> is applied to the
                            <em class="ph i">TimeAllowance</em>.</p>

                    
                </div>
                <div class="sectiondiv">
                    <p class="p"><strong class="ph b">Time allowance with SPECIFIC rate</strong></p>

                    <p class="p">Suppose a device has the following tariff configuration:</p>

                    <ul class="ul" id="cost_bucket_enhancement__ul_ahc_51p_vnb">
                        <li class="li">
                            <p class="p"><em class="ph i">Rate Offer Plan</em>:</p>

                            <p class="p"><span class="keyword cmdname">CS1.Pass0</span></p>

                            <p class="p"><span class="keyword cmdname">Rating.Rate(Rate0)</span></p>

                        </li>

                        <li class="li">
                            <p class="p"><em class="ph i">NM-Allowance Plan</em>:</p>

                            <p class="p"><span class="keyword cmdname">CS2.Pass0</span></p>

                            <p class="p"><span class="keyword cmdname">Rating.Rate(Rate1,TimeAllowance)</span></p>

                        </li>

                    </ul>

                    <div class="note"><div class="notetitle"><img src="../../web/css/../images/note.svg" title="note-icon" class="noteicon" />Note:</div> <em class="ph i">Rate Offer Plan</em> is applied with a higher priority than the
                            <em class="ph i">NM-Allowance Plan</em>.</div>

                    <p class="p"><strong class="ph b">RESULT:</strong></p>

                    <p class="p">As per the above configuration, for a device with <em class="ph i">TimeAllowance</em> and
                            <em class="ph i">Rate Offer Plan</em>, specific rate <var class="keyword varname">Rate1</var> is
                        applied to the <em class="ph i">TimeAllowance</em> and not <var class="keyword varname">Rate0</var> as per
                        the <em class="ph i">Rate Offer Plan</em>.</p>

                </div>
            </div>

            <div class="section" id="cost_bucket_enhancement__section_ywv_4dp_vnb"><h2 class="title sectiontitle">Example 3: Allowance Plan and AllowanceMainBalancePlan</h2>
                
                <p class="p">Suppose a device has an <em class="ph i">AllowanceMainBalancePlan</em>, which has a monetary
                    bucket of allowance of <var class="keyword varname">20 United States dollars</var> and purchases
                    another allowance of <var class="keyword varname">10 United States dollars</var>; both for the
                    same account. The rate is applied to both <em class="ph i">Allowance Plan</em> and
                        <em class="ph i">AllowanceMainBalancePlan</em>.</p>

                <p class="p">The device has the following tariff configuration:</p>

                <ul class="ul" id="cost_bucket_enhancement__ul_vqq_pdp_vnb">
                    <li class="li">
                        <p class="p"><em class="ph i">Allowance Plan</em>:</p>

                        <p class="p"><span class="keyword cmdname">CS1.Pass0</span></p>

                        <p class="p"><span class="keyword cmdname">Rating.Bucket-Selection(Allowance1)</span></p>

                    </li>

                    <li class="li">
                        <p class="p"><em class="ph i">AllowanceMainBalancePlan</em>:</p>

                        <p class="p"><span class="keyword cmdname">CS2.Pass0</span></p>

                        <p class="p"><span class="keyword cmdname">Rating.Rate(Rate1,Allowance2)</span></p>

                        <p class="p">and</p>

                        <p class="p"><span class="keyword cmdname">CS2.Pass1</span></p>

                        <p class="p"><span class="keyword cmdname">Rating.Rate(Rate1,Main-Balance)</span></p>

                    </li>

                </ul>

                <div class="fig fignone" id="cost_bucket_enhancement__fig_oqx_jrw_vnb">
                    <img class="image break" id="cost_bucket_enhancement__image_ub4_krw_vnb" src="../images/example3.PNG" />
                </div>

                <div class="note"><div class="notetitle"><img src="../../web/css/../images/note.svg" title="note-icon" class="noteicon" />Note:</div> <em class="ph i">Allowance Plan</em> is applied with a higher priority than the
                        <em class="ph i">AllowanceMainBalancePlan</em>.</div>

                <p class="p"><strong class="ph b">RESULT:</strong></p>

                <p class="p">As per the above configuration, <var class="keyword varname">Rate1 </var>is applied to
                        <var class="keyword varname">Allowance1</var>, <var class="keyword varname">Allowance2</var>, and
                        <var class="keyword varname">Main–Balance</var>. After the consumption of <var class="keyword varname">10 United
                        States dollars</var> allowance, the <var class="keyword varname">20 United States
                        dollars</var> allowance is consumed, and then the main balance of
                        <var class="keyword varname">100 United States dollars</var>.</p>

            </div>

            <div class="section" id="cost_bucket_enhancement__section_ppl_ggp_vnb"><h2 class="title sectiontitle">Example 4: Rate Offer Plan on Main-Balance Plan</h2>
                
                <p class="p">Suppose a device has a <em class="ph i">Main-Balance Plan</em> and a <em class="ph i">Rate Offer Plan</em> for
                    the same account. The rate is configured in the <em class="ph i">Rate Offer Plan</em> and it
                    charges from the main account balance.</p>

                <div class="note"><div class="notetitle"><img src="../../web/css/../images/note.svg" title="note-icon" class="noteicon" />Note:</div> In order to use <em class="ph i">ANY Rate</em>, which is the <em class="ph i">Rate Offer Plan</em>, the
                        <strong class="ph b">SelectRate_EXTERNAL</strong> configuration flag must be configured in the
                    tariff configuration.</div>

                <p class="p">The device has the following tariff configuration:</p>

                <ul class="ul" id="cost_bucket_enhancement__ul_ygw_vgp_vnb">
                    <li class="li">
                        <p class="p"><em class="ph i">Rate Offer Plan</em>:</p>

                        <p class="p"><span class="keyword cmdname">CS1.Pass0</span></p>

                        <p class="p"><span class="keyword cmdname">Rating.Rate(Rate0)</span></p>

                    </li>

                    <li class="li">
                        <p class="p"><em class="ph i">Main-Balance Plan</em>:</p>

                        <p class="p"><span class="keyword cmdname">CS2.Pass0</span></p>

                        <p class="p"><span class="keyword cmdname">Rating.Rate(Rate1,Main-Balance,SelectRate_EXTERNAL)</span></p>

                    </li>

                </ul>

                <p class="p"><strong class="ph b">RESULT:</strong></p>

                <p class="p">As per the above configuration, <var class="keyword varname">Rate0</var> is applied to
                        <em class="ph i">Main-Balance Plan</em> even if it is configured with
                        <var class="keyword varname">Rate1</var>.</p>

                
            </div>

            <div class="section" id="cost_bucket_enhancement__section_scx_z4p_vnb"><h2 class="title sectiontitle">Allowance consumption scenarios for a cost bucket</h2>
                
                <p class="p">As per the pre-configuration listed in the <a class="xref" href="#cost_bucket_enhancement__section_kns_rt4_vnb">Pre-configuration for examples</a>, the
                    following behaviour is applicable in the allowance consumption scenarios:</p>

                <ul class="ul" id="cost_bucket_enhancement__ul_v31_fpp_vnb">
                    <li class="li">
                        <p class="p"><strong class="ph b">Allowance consumption with counter for a cost bucket</strong>: </p>

                        <p class="p">Suppose a device has a <em class="ph i">Rate Offer Plan</em> and <em class="ph i">Allowance Plan</em>
                            with the following tariff configuration:</p>

                        <ul class="ul" id="cost_bucket_enhancement__ul_zqv_rnp_vnb">
                            <li class="li">
                                <p class="p"><em class="ph i"><em class="ph i">Rate Offer Plan</em>:</em></p>

                                <p class="p"><span class="keyword cmdname">CS1.Pass0</span></p>

                                <p class="p"><span class="keyword cmdname">Rating.Rate(Rate0)</span></p>

                            </li>

                            <li class="li">
                                <p class="p"><em class="ph i">Allowance Plan</em>:</p>

                                <p class="p"><span class="keyword cmdname">CS2.Pass0</span></p>

                                <p class="p"><span class="keyword cmdname">Rating.Bucket-Selection(MoneyAllowance)</span></p>

                                <p class="p"><span class="keyword cmdname">Rating.Counter-Selection(Counter1)</span></p>

                            </li>

                        </ul>

                        <p class="p"><var class="keyword varname">Rate0</var> is only applied to the
                                <var class="keyword varname">MoneyAllowance</var>.</p>

                        <p class="p">The <var class="keyword varname">Counter1</var> is updated with consumption done from
                                <var class="keyword varname">MoneyAllowance</var>, which means that for an allowance
                            plan, the allowance consumption should be accumulated in a subscription
                            counter defined with applied rate from the <em class="ph i">Rate Only</em> plan.</p>

                        <div class="note"><div class="notetitle"><img src="../../web/css/../images/note.svg" title="note-icon" class="noteicon" />Note:</div> The counter must be specified with the resource, that is allowance to
                            accumulate the consumption.</div>

                    </li>

                    <li class="li">
                        <p class="p"><strong class="ph b">Allowance consumption and lifecycle for a cost bucket</strong>:</p>

                        <p class="p">The <em class="ph i">Allowance Plan</em> is renewable or can be reset as per its billing
                            cycle, which means the cost bucket follows the lifecycle of the bundle,
                            or the account lifecycle in case the bundle lifecycle is not
                            present.</p>

                        <p class="p">For example:</p>

                        <p class="p">Suppose a prepaid account has a lifecycle of 60 days with bundle, which
                            is subscribed to an <em class="ph i">Allowance Plan</em> with a monetary type of bucket
                            of <var class="keyword varname">10 United States dollars</var> and a lifecycle of one
                            week. As per the consumption from the monetary bucket, the value
                            depreciates to <var class="keyword varname">5 United States dollars</var> within the
                            first week. At the end of <em class="ph i">Allowance Plan</em> billing cycle, which is
                            after one week, the monetary bucket is again renewed to <var class="keyword varname">10
                                United States dollars</var>.</p>

                    </li>

                    <li class="li">
                        <p class="p"><strong class="ph b">Allowance consumption using AV for a cost bucket</strong>:</p>

                        <p class="p">The AV accumulates allowance subscribed to a device by subscribing to the
                            plan with additional allowances.</p>

                        <p class="p">For example:</p>

                        <p class="p">Suppose a device has two allowance plans with monetary buckets defined in
                            the charging service:</p>

                        <ul class="ul" id="cost_bucket_enhancement__ul_ebv_pqp_vnb">
                            <li class="li">
                                <p class="p"><var class="keyword varname">AllowancePlan1</var> has <var class="keyword varname">Bucket1</var>
                                    with a value of <var class="keyword varname">10 United States dollars</var>.</p>

                            </li>

                            <li class="li">
                                <p class="p"><var class="keyword varname">AllowancePlan2</var> has <var class="keyword varname">Bucket2</var>
                                    with a value of <var class="keyword varname">20 United States dollars</var>.</p>

                            </li>

                        </ul>

                        <p class="p">AV is configured for bucket accumulation, wherein <var class="keyword varname">AV1</var>
                            and two charging services; <var class="keyword varname">CS1</var> and
                                <var class="keyword varname">CS2</var>. AV would have an accumulation of allowance,
                            that is <var class="keyword varname">30 United States dollars</var>. Now, a threshold is
                            defined on AV at 50% of allowance consumption, which means whenever AV
                            reaches 50% during the consumption of monetary bucket or allowance,
                            threshold is triggered and a notification is sent to the user.</p>

                    </li>

                    <li class="li">
                        <p class="p"><strong class="ph b">BOU applicability on allowance consumption for a cost bucket</strong>:</p>

                        <p class="p">The BOU feature is applicable on allowance promotional plan, which means
                            the allowance can be subscribed to a device once that device starts
                            using the plan.</p>

                        <p class="p">For example:</p>

                        <p class="p">Suppose there is an allowance bundle, which has a monetary type of bucket
                            in the <em class="ph i">Charging Service with Selection</em> in tariff, is configured
                            with BOU functionality, that is to be activated at the time of session
                            trigger. Therefore, when the device starts a session, the BOU feature on
                            the allowance bundle is activated for usage for that device.</p>

                    </li>

                    <li class="li">
                        <p class="p"><strong class="ph b">Prorating an allowance consumption for a cost bucket</strong>:</p>

                        <p class="p">A separate allowance plan can be prorated depending on the day of
                            purchase or activation of the bundle plan.</p>

                        <p class="p">For example:</p>

                        <p class="p">Suppose there is an allowance bundle, which has a monetary type of bucket
                            of <var class="keyword varname">100 United States dollars</var> in the <em class="ph i">Charging
                                Service with Selection</em> in tariff, is configured with prorating
                            functionality. Therefore, when the device subscribes to the allowance
                            bundle on 15th of a month, the prorated amount of <var class="keyword varname">50 United
                                States dollars</var> is adjusted in the monetary bucket.</p>

                    </li>

                    <li class="li">
                        <p class="p"><strong class="ph b">Threshold execution on allowance consumption for a cost
                            bucket</strong>:</p>

                        <p class="p">Threshold action can be executed on monetary and non-monetary allowances
                            defined in a bundle.</p>

                        <p class="p">For example:</p>

                        <p class="p">Suppose a device has an allowance plan with a monetary bucket of
                                <var class="keyword varname">50 United States dollars</var> defined and selected in
                            tariff for consumption. Define a threshold of 50% on the monetary bucket
                            allowance for <var class="keyword varname">Send-Notification</var> action. Therefore,
                            when the device consumes the allowance and the current allowance value
                            is <var class="keyword varname">25 United States dollars</var>, the threshold action is
                            triggered and a notification is sent to the device.</p>

                    </li>

                    <li class="li">
                        <p class="p"><strong class="ph b">Applying taxation on allowance consumption for a cost bucket</strong>:</p>

                        <p class="p">Taxation can be applied on allowance consumption for a monetary type of
                            bucket.</p>

                        <p class="p">For example:</p>

                        <p class="p">Suppose a device has an <em class="ph i">Allowance Plan</em> and a <em class="ph i">Rate Offer
                                Plan</em> with following tariff configuration:</p>

                        <ul class="ul" id="cost_bucket_enhancement__ul_nmm_xtp_vnb">
                            <li class="li">
                                <p class="p"><em class="ph i">Rate Offer Plan</em>:</p>

                                <p class="p"><span class="keyword cmdname">CS1.Pass0</span></p>

                                <p class="p"><span class="keyword cmdname">Rating.Rate(Rate0)</span></p>

                                <p class="p"><span class="keyword cmdname">RATING.Tax-Selection = "Tax1"</span></p>

                            </li>

                            <li class="li">
                                <p class="p"><em class="ph i">Allowance Plan</em>:</p>

                                <p class="p"><span class="keyword cmdname">CS2.Pass0</span></p>

                                <p class="p"><span class="keyword cmdname">Rating.Bucket-Selection(MoneyAllowance)</span></p>

                            </li>

                        </ul>

                        <p class="p"><var class="keyword varname">Rate0</var> is only applied to
                                <var class="keyword varname">MoneyAllowance</var> and <var class="keyword varname">Tax1</var> of 25%
                            is applied at <var class="keyword varname">Rate0</var>, which means while consuming the
                                <var class="keyword varname">MoneyAllowance</var>, an additional tax of 25% can be
                            deducted.</p>

                    </li>

                    <li class="li">
                        <p class="p"><strong class="ph b">Applying rate external cost on allowance consumption for a cost
                                bucket</strong>:</p>

                        <p class="p">The <em class="ph i">Rate External Cost</em> can be applied to an allowance plan with a
                            monetary type of bucket.</p>

                        <p class="p">For example:</p>

                        <p class="p">Define a <em class="ph i">Rate External Cost</em> of <var class="keyword varname">10</var> on the main
                            balance. Therefore, when the device subscribes to the allowance plan
                            with a monetary bucket of <var class="keyword varname">100 United States dollars</var>,
                            allowance is consumed as per <em class="ph i">Rate External Cost</em>
                            configuration.</p>

                        <p class="p">In this case, the <var class="keyword varname">Moneybkt1</var> is charged with connection
                            cost of <var class="keyword varname">Rate1</var> and override-cost as
                                <var class="keyword varname">10</var> in both the following cases:</p>

                        <ol class="ol" id="cost_bucket_enhancement__ol_agb_gsw_vnb">
                            <li class="li">
                                <ul class="ul" id="cost_bucket_enhancement__ul_stg_gsw_vnb">
                                    <li class="li">
                                        <p class="p"><em class="ph i">Bundle : Allowance Plan</em></p>

                                        <p class="p"><span class="keyword cmdname">CS1.Pass0</span></p>

                                        <p class="p"><span class="keyword cmdname">RATING.Bucket-Selection=Moneybkt1</span></p>

                                    </li>

                                    <li class="li">
                                        <p class="p"><em class="ph i">Bundle : MainBalance Plan</em></p>

                                        <p class="p"><span class="keyword cmdname">CS2.Pass0</span></p>

                                        <p class="p"><span class="keyword cmdname">RATING.Rate-External-Cost=(Rate1,MainBalance,10
                                                )</span></p>

                                    </li>

                                </ul>

                            </li>

                            <li class="li">
                                <ul class="ul" id="cost_bucket_enhancement__ul_nlk_nsw_vnb">
                                    <li class="li">
                                        <p class="p"><em class="ph i">Bundle : MainBalance Plan</em></p>

                                        <p class="p"><span class="keyword cmdname">CS1.Pass0</span></p>

                                        <p class="p"><span class="keyword cmdname">RATING.Rate-External-Cost=rate1,MainBalance,10</span></p>

                                    </li>

                                    <li class="li">
                                        <p class="p"><em class="ph i">Bundle : Allowance Plan</em></p>

                                        <p class="p"><span class="keyword cmdname">CS2.Pass0</span></p>

                                        <p class="p"><span class="keyword cmdname">RATING.Bucket-Selection=Moneybkt1</span></p>

                                    </li>

                                </ul>

                            </li>

                        </ol>

                    </li>

                </ul>

            </div>

        </div>
    </div>
<div class="footer"><hr /><p>Charging User Guide • P556766-DN1000054947-R23.8 • 1 • <a href="../home.html">Cover</a> • ©2023 Nokia. Nokia Confidential Information • Use subject to agreed restrictions on disclosure and use.</p></div></body>
</html>