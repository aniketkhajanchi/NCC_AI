<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2023" />
<meta name="DC.rights.owner" content="(C) Copyright 2023" />
<meta name="generator" content="DITA-OT" /><meta name="DC.type" content="concept" />
<meta name="DC.title" content="Loan rejection" />
<meta name="prodname" content="Nokia Converged Charging" />
<meta name="version" content="Release 23.8" />
<meta name="DC.format" content="XHTML" />
<meta name="DC.identifier" content="loan_request" />
<link rel="stylesheet" type="text/css" href="../../web/css/commonltr.css" />
<link rel="stylesheet" type="text/css" href="../../web/css/styles.min.css" />
<link rel="stylesheet" type="text/css" href="../../web/css/common-extended.css" /><title>Loan rejection</title>
<script src="../web/js/nswtc.js" language="javascript" type="text/javascript">/*(◎_◎;)*/</script>
<script src="../../web/css/../js/script.min.js" language="javascript" type="text/javascript">/*(◎_◎;)*/</script>
</head>
<body id="loan_request">
<div class="header"><div id="feedback-link-placeholder" class="feedback-link"></div><hr /></div><h1 class="title topictitle1" id="ariaid-title1">Loan rejection</h1>
<div class="body conbody">
        <p class="p">Operator can configure loan (opt-in) rejection on the basis of configurable conditions
            and applicable rules. For example, in device, CustomData can be configured as
            ClassOfService. With appropriate configuration in loan pre-processing rules, operator
            can create condition on ClassOfService and reject the loan/opt-in for the device.</p>

        <div class="p">
            <div class="note" id="loan_request__note_psg_hrr_hsb"><div class="notetitle"><img src="../../web/css/../images/note.svg" title="note-icon" class="noteicon" />Note:</div> If the device custom data is same as the value that is
                configured in rule for <em class="ph i">Reject-Loan</em> action, then the <em class="ph i">Opt-In</em> request is
                rejected.</div>

        </div>

        <div class="section"><h2 class="title sectiontitle">Configuration</h2>
            
            <p class="p">To execute the native API or TMF <em class="ph i">billingAccount</em> API for <em class="ph i">Opt-In</em>,
                    <em class="ph i">Opt-Out</em>, or <em class="ph i">Reset</em> request, provide the <em class="ph i">LoanRequest</em>
                attributes described in <a class="xref" href="loan_request_source_context.html">LOAN_REQUEST source context</a>.</p>

            <div class="p">LOAN_REQUEST source context contains the <em class="ph i">LoanRequest</em> attributes which are
                described in the following table:<div class="note" id="loan_request__note_l3p_dcs_hsb"><div class="notetitle"><img src="../../web/css/../images/note.svg" title="note-icon" class="noteicon" />Note:</div> Account and device
                    information should be provided in the loan request. Either one of them or both
                    can be provided to process the loan request.</div>
</div>

            <p class="p">Use result context action <var class="keyword varname">LOAN_RESULT.Reject-Loan</var> to configure the
                loan rejection. Refer to <a class="xref" href="loan_result_context.html">LOAN_RESULT result context</a> for details.</p>

        </div>

        <div class="section" id="loan_request__section_cnj_m3l_1tb"><h2 class="title sectiontitle">Default error</h2>
            
            <p class="p">If no error code and description is configured in rule, then the following default
                error is returned:</p>

            <table cellpadding="4" cellspacing="0" summary="" id="loan_request__table_nry_v3l_1tb" class="table" frame="border" border="1" rules="all"><colgroup><col style="width:10.706638115631693%" /><col style="width:89.29336188436831%" /></colgroup><thead class="thead" style="text-align:left;">
                        <tr class="row">
                            <th class="entry cellrowborder" style="vertical-align:top;" id="d180743e107">Error code</th>

                            <th class="entry cellrowborder" style="vertical-align:top;" id="d180743e110">Error description</th>

                        </tr>

                    </thead>
<tbody class="tbody">
                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d180743e107 ">403</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d180743e110 ">Loan is rejected as per configuration by customer.</td>

                        </tr>

                    </tbody>
</table>

        </div>

        <div class="section" id="loan_request__section_urn_xrs_hsb"><h2 class="title sectiontitle">Examples</h2>
            
            <div class="p"><strong class="ph b">Example 1: Opt-In request is rejected for MBB Prepay</strong><ul class="ul" id="loan_request__ul_rsn_yrs_hsb">
                    <li class="li">
                        <p class="p"><strong class="ph b">Configuration:</strong></p>

                        <p class="p">Device1 is configured with MSISDN as 9923212123, and has
                                <em class="ph i">ClassOfService</em> custom data as <em class="ph i">MBB_Prepay</em>.</p>

                        <p class="p">The rule is configured as follows:</p>

                        <p class="p"><em class="ph i">If Device.ClassOfService=MBB_Prepay then Reject-Loan</em></p>

                    </li>

                    <li class="li">
                        <p class="p"><strong class="ph b">Execution:</strong></p>

                        <p class="p">TMF <em class="ph i">billingAccount</em> API is executed for <em class="ph i">Opt-In</em> request (Loan
                            request).</p>

                    </li>

                    <li class="li">
                        <p class="p"><strong class="ph b">Result:</strong></p>

                        <div class="p"><em class="ph i">Opt-In</em> request is rejected with a detailed error
                            response:<pre class="pre codeblock" id="loan_request__codeblock_lbr_m5r_hsb"><code>"SM_LOAN_REQUEST_FAILED: 500: ERROR DESCRIPTION: Loan is rejected as per configuration by customer."</code></pre></div>

                    </li>

                </ul>
</div>

        </div>

    </div>
<div class="footer"><hr /><p>Charging User Guide • P556766-DN1000054947-R23.8 • 1 • <a href="../home.html">Cover</a> • ©2023 Nokia. Nokia Confidential Information • Use subject to agreed restrictions on disclosure and use.</p></div></body>
</html>