<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2023" />
<meta name="DC.rights.owner" content="(C) Copyright 2023" />
<meta name="generator" content="DITA-OT" /><meta name="DC.type" content="topic" />
<meta name="DC.title" content="Implementing slice reduction feature in decentralized calls" />
<meta name="prodname" content="Nokia Converged Charging" />
<meta name="version" content="Release 23.8" />
<meta name="DC.format" content="XHTML" />
<meta name="DC.identifier" content="section_nx5_yzk_r4b" />
<link rel="stylesheet" type="text/css" href="../../web/css/commonltr.css" />
<link rel="stylesheet" type="text/css" href="../../web/css/styles.min.css" />
<link rel="stylesheet" type="text/css" href="../../web/css/common-extended.css" /><title>Implementing slice reduction feature in decentralized calls</title>
<script src="../web/js/nswtc.js" language="javascript" type="text/javascript">/*(◎_◎;)*/</script>
<script src="../../web/css/../js/script.min.js" language="javascript" type="text/javascript">/*(◎_◎;)*/</script>
</head>
<body id="section_nx5_yzk_r4b">
<div class="header"><div id="feedback-link-placeholder" class="feedback-link"></div><hr /></div><h1 class="title topictitle1" id="ariaid-title1">Implementing slice reduction feature in decentralized calls</h1>
<div class="body">
                
                <p class="p">Consider the following points when slice reduction feature is applied to the
                    decentralized charging call:</p>

                <ul class="ul" id="section_nx5_yzk_r4b__ul_ox5_yzk_r4b">
                    <li class="li">
                        <p class="p">If the default quota management (slicing profile) entity is not
                    configured, then the call is not rejected in a decentralized call. Set the
                    values of <span class="ph uicontrol">Slice Allocation Factor</span> and <span class="ph uicontrol">MIN
                        Slice Size</span> as zero, <em class="ph i">VT</em> is set to 10.</p>

                    </li>

                    <li class="li">
                        <p class="p">If the quota management (slicing profile) rules are not
                    configured and <em class="ph i">DefaultAction</em> is non-empty, then trigger the
                        <em class="ph i">DefaultAction</em> for rule execution. As per the result, use the values
                    of <em class="ph i">QHT</em>, <em class="ph i">VT</em>, <em class="ph i">SliceSize</em>, <span class="ph uicontrol">MIN Slice
                        Size</span>, <span class="ph uicontrol">Slice Allocation Factor</span>
                    accordingly.</p>

                        <div class="p">
                    <div class="note" id="section_nx5_yzk_r4b__note_a3w_flx_p5b"><div class="notetitle"><img src="../../web/css/../images/note.svg" title="note-icon" class="noteicon" />Note:</div> In case, there is no result from
                            <em class="ph i">DefaultAction</em>, then it populates the <em class="ph i">QHT</em> or <em class="ph i">VT</em>
                        accordingly from the slice profile entity or the default values, as
                        available.</div>

                </div>

                    </li>

                    <li class="li">
                        <p class="p">In case of decentralized charging, the RSU value sent by Packet Data
                            Gateway (PGW) should always be greater than the <span class="ph uicontrol">MIN Slice
                                Size</span> parameter value. If the RSU value is less than the
                                <span class="ph uicontrol">MIN Slice Size</span> parameter value, then the
                                <span class="ph uicontrol">MIN Slice Size</span> parameter value is
                            considered.</p>

                    </li>

                    <li class="li">
                        <p class="p">If the quota management (slicing profile) rules are configured,
                    then execute the rule provisioned for quota management (slicing profile)
                    entity and set the values of <span class="ph uicontrol">QHT</span>,
                        <span class="ph uicontrol">VT</span>, <span class="ph uicontrol">SliceSize</span>, <span class="ph uicontrol">MIN
                        Slice Size</span>, and <span class="ph uicontrol">Slice Allocation Factor</span>
                    accordingly.</p>

                    </li>

                </ul>

        <p class="p"><strong class="ph b">Example: Executing cap action after reducing the allocated slice size for a
                decentralized call</strong></p>

        <div class="note notice"><div class="noticetitle"><img src="../../web/css/../images/notice.svg" title="notice-icon" class="noteicon" />Notice:</div> Cap is supported only through API and this support will be deprecated
            in the future. It is recommended to use Threshold for Cap-related function and migrate
            the existing Cap configuration to Threshold.</div>
        <p class="p">The following example shows that cap actions, such as <samp class="ph systemoutput">Send-RAR (Reauthorize
                call)</samp>, <samp class="ph systemoutput">Reject</samp>, or
                <samp class="ph systemoutput">Notification-Stop (Stop using the resource)</samp> are
            executed on committed quantities but the allocated slice size is reduced while
            approaching the cap value. This results to trigger the cap actions at more accurate
            values.</p>

        <p class="p">
            <strong class="ph b">Preconditions:</strong>
        </p>

        <ol class="ol" id="section_nx5_yzk_r4b__ol_uhg_21l_r4b">
            <li class="li">
                <p class="p">Bob has an iPhone associated with a data counter and device subscription.</p>

            </li>

            <li class="li">
                <p class="p">The device subscription is further associated with another data counter
                    (subscription counter) and a data bucket of 2 GB balance.</p>

            </li>

            <li class="li">
                <p class="p">A cap limit is applied on the subscription counter with a defined action
                        <samp class="ph systemoutput">Reject</samp> to reject call after consuming more than
                    120 MB of balance. For example, after consuming 120 MB of balance, further calls
                    are rejected and a notification is sent to Bob that consumption of resources
                    beyond 120 MB is not allowed.</p>

            </li>

            <li class="li">
                <p class="p">SAF is configured as 70% and <span class="ph uicontrol">MIN Slice Size</span> =
                        <var class="keyword varname">30</var> in quota management (slicing profile)
                    rule.</p>

            </li>

        </ol>

        <p class="p">
            <strong class="ph b">Post-conditions:</strong>
        </p>

        <ul class="ul" id="section_nx5_yzk_r4b__ul_vhg_21l_r4b">
            <li class="li">
                <p class="p">When the iPhone initiates a data call with an RSU of 50 MB, the amount required
                    to complete the call is reserved from the data bucket associated with the device
                    subscription.</p>

            </li>

            <li class="li">
                <p class="p">Both the counters, individual data counter associated with the iPhone and the
                    data counter associated with the device subscription, are applicable for the
                    call charges.</p>

                <div class="p">
                    <div class="note" id="section_nx5_yzk_r4b__note_om4_bhx_p5b"><div class="notetitle"><img src="../../web/css/../images/note.svg" title="note-icon" class="noteicon" />Note:</div> The cap associated with the subscription counter is
                        considered at the time of reservation for the call.</div>

                </div>

            </li>

            <li class="li">
                <p class="p">The quota management (slicing profile) rule is executed at the time of
                    reservation and the RSU value is calculated by this feature as delta = 120- 0 =
                    120.</p>

                <p class="p">Apply SAF = 0.7 * 120 = 84. However, given that RSU is less than 84, the RSU is
                    kept as 50 MB only. For example, the cap limit is 120 MB beyond which the cap
                    action is set to <samp class="ph systemoutput">Reject</samp>. Thus, the iPhone completes
                    the call consuming 50 MB from the device bucket.</p>

            </li>

            <li class="li">
                <p class="p">The iPhone again initiates a call with an RSU of 80 MB. At the time of
                    reservation, the RSU value is recalculated as:</p>

                <p class="p">Delta = 120 - 50 = 70.</p>

                <p class="p">Apply SAF = 0.7 * 70 = 49 and reduce the slice to 49 because the cap limit of 120
                    MB is approaching.</p>

            </li>

            <li class="li">
                <p class="p">The iPhone cannot be granted more than 70 MB as cap of 120 MB is crossed. iPhone
                    completes the call and cap action is triggered when 120 MB is crossed in commit
                    and then further calls are rejected because the applied cap limit has reached.
                    Therefore, usage of the slice reduction logic allows modification of RSU at the
                    time of call reservation. This helps to control the consumption of resources
                    associated with the device.</p>

            </li>

        </ul>

            </div>
<div class="footer"><hr /><p>Charging User Guide • P556766-DN1000054947-R23.8 • 1 • <a href="../home.html">Cover</a> • ©2023 Nokia. Nokia Confidential Information • Use subject to agreed restrictions on disclosure and use.</p></div></body>
</html>