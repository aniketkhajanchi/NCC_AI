<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2023" />
<meta name="DC.rights.owner" content="(C) Copyright 2023" />
<meta name="generator" content="DITA-OT" /><meta name="DC.type" content="concept" />
<meta name="DC.title" content="Multi-value AVPs in PS-Information attributes" />
<meta name="prodname" content="Nokia Converged Charging" />
<meta name="version" content="Release 23.8" />
<meta name="DC.format" content="XHTML" />
<meta name="DC.identifier" content="id9yz-09126-ug01-pczza-sp1-d1e31443" />
<link rel="stylesheet" type="text/css" href="../../web/css/commonltr.css" />
<link rel="stylesheet" type="text/css" href="../../web/css/styles.min.css" />
<link rel="stylesheet" type="text/css" href="../../web/css/common-extended.css" /><title>Multi-value AVPs in PS-Information attributes</title>
<script src="../web/js/nswtc.js" language="javascript" type="text/javascript">/*(◎_◎;)*/</script>
<script src="../../web/css/../js/script.min.js" language="javascript" type="text/javascript">/*(◎_◎;)*/</script>
</head>
<body id="id9yz-09126-ug01-pczza-sp1-d1e31443">
<div class="header"><div id="feedback-link-placeholder" class="feedback-link"></div><hr /></div><h1 class="title topictitle1" id="ariaid-title1">Multi-value AVPs in PS-Information attributes</h1>
<div class="body conbody">
<div class="section">
            <p class="p">The Diameter protocol specifies that multiple instances of an AVP may occur within a
                single message. An AVP defined as multi-valued is a container for one or more AVPs.
                Further, an AVP might be single-valued but due to a multi-valued parent ancestor,
                may appear multiple times within the message. In general, the multiplicity of the
                multi-value AVPs is often unbounded. As a result, multi-value Diameter messages may
                be arbitrarily complex in terms of the number of and location of the occurrence of
                particular AVPs. For example, consider the case of the Rx AAR message, which
                contains a group-type AVP <em class="ph i">Media-Component-Description</em>. This AVP contains,
                among other AVPs, a multi-valued, grouped <em class="ph i">Media-Sub-Component</em> AVP that in
                turn contains a multi-valued <em class="ph i">Flow-Description</em> AVP.</p>
<p class="p">The following is an
                example of a specific multi-value
                    <span class="ph uicontrol">Service-Information.PS-Information</span> attribute with the
                potential to return a list or collection of values. The attributes have a “[ ]”
                notation directly following them to indicate that they return a list or collection
                of values; for example,
                    <var class="keyword varname">Service-Information.PS-Information.SGSN-Address[]</var>.</p>
<p class="p">There
                are two different NCC multi-value rule attribute examples shown in this section to
                illustrate attributes with the [ ] notation and attributes with the
                “Total-Number-Of-Values” notation. In this example, each multi-value example uses
                the <kbd class="ph userinput">Service-Information.PS-Information.SGSN-Address</kbd> attribute
                contained in the Gy message as follows:</p>

            <kbd class="ph userinput">            Service-Information                    PS-Information
                                                   SGSN-Address = 94.21.1.1
                                                   SGSN-Address = 94.21.1.2
                                                   SGSN-Address = 94.21.1.3</kbd>
            <ul class="ul">
                <li class="li">
                    <p class="p">In the first example, the following rule condition evaluates to
                            <var class="keyword varname">true</var> and the associated action is applied:</p>

                    <p class="p">If
                            <kbd class="ph userinput">GyCCR.Service-Information.PS-Information.SGSN-Address[]</kbd>
                        contains <kbd class="ph userinput">94.21.1.2</kbd>, then
                            <kbd class="ph userinput">Example-action</kbd>.</p>

                    <p class="p">This is because SGSN-Address <kbd class="ph userinput">94.21.1.2</kbd> exists within
                        the set of the <em class="ph i">Service-Information.PS-Information.SGSN-Address</em> AVP
                        contained in the Gy message.</p>

                </li>

                <li class="li">
                    <p class="p">In the second example, an attribute with the “Total-Number-Of-Values”
                        notation is used; for example,
                            <kbd class="ph userinput">Service-Information.PS-Information.SGSN-Address.Total-Number-Of-Values</kbd>.
                        The “Total-Number-Of-Values” notation evaluates to <var class="keyword varname">true</var>
                        if the total number of values that exist in the AVP match the rule.</p>

                    <p class="p">The following rule condition evaluates to <var class="keyword varname">true</var> and the
                        associated action is applied because there is a total of three
                            <kbd class="ph userinput">Service-Information.PS-Information.SGSN-Addresses</kbd>
                        that exist in the request or message.</p>

                    <p class="p">If
                            <kbd class="ph userinput">GyCCR.Service-Information.PS-Information.SGSN-Address.Total-Number-Of-Values</kbd>
                        equals <kbd class="ph userinput">3</kbd>, then
                        <kbd class="ph userinput">Example-action</kbd>.</p>

                    <p class="p">If the rule condition value were set to another value (for example, 1 or 2),
                        then the rule condition is evaluated to <var class="keyword varname">false</var> and no
                        action is applied.</p>

                </li>

            </ul>

        </div>

</div>
<div class="footer"><hr /><p>Charging User Guide • P556766-DN1000054947-R23.8 • 1 • <a href="../home.html">Cover</a> • ©2023 Nokia. Nokia Confidential Information • Use subject to agreed restrictions on disclosure and use.</p></div></body>
</html>