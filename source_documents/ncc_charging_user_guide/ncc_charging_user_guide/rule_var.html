<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2023" />
<meta name="DC.rights.owner" content="(C) Copyright 2023" />
<meta name="generator" content="DITA-OT" /><meta name="DC.type" content="concept" />
<meta name="DC.title" content="Rule variables" />
<meta name="prodname" content="Nokia Converged Charging" />
<meta name="version" content="Release 23.8" />
<meta name="DC.format" content="XHTML" />
<meta name="DC.identifier" content="rule_var" />
<link rel="stylesheet" type="text/css" href="../../web/css/commonltr.css" />
<link rel="stylesheet" type="text/css" href="../../web/css/styles.min.css" />
<link rel="stylesheet" type="text/css" href="../../web/css/common-extended.css" /><title>Rule variables</title>
<script src="../web/js/nswtc.js" language="javascript" type="text/javascript">/*(◎_◎;)*/</script>
<script src="../../web/css/../js/script.min.js" language="javascript" type="text/javascript">/*(◎_◎;)*/</script>
</head>
<body id="rule_var">
<div class="header"><div id="feedback-link-placeholder" class="feedback-link"></div><hr /></div><h1 class="title topictitle1" id="ariaid-title1">Rule variables</h1>
<div class="body conbody">
        <p class="p">NCC provides a flexible way to define a variable and set its value based on a flexible
            logic defined in rules. The rule variable can be used to store values during a rules
            evaluation and is available to simplify the composition of rule logic.</p>

        <p class="p">Rule variables are configurable elements that are unique to a Rule System Version (RSV)
            under the Rules and Variables tab in Policy or the Variables tab in Charging. They can
            be configured on SM using either the GUI or north bound API as part of the RSV.
            Different values can be assigned to a rule variable based on different conditions. After
            a rule variable is configured, it can be used in the rules of either a rule group or
            rule set in the same RSV, or in a service profile outside of the RSV by using the
            related rule variable dictionary attributes. The variable is set based on a rule. One
            rule variable can also reference another rule variable defined in the same RSV.</p>

        <p class="p">A Rule Variable is associated with a trigger and re-initialized every time the Trigger is
            invoked. NCC knows which operations and contexts to make available in the GUI according
            to the trigger and application. Only the source contexts that are applicable to the
            triggers selected for the rule variable can be used in the rule variable definition. For
            each rule engine invocation, a new variable context instance is created to keep the
            status and values of all rule variables used by the evaluated rule trigger and /rule
            group. When the rule engine completes the evaluation and returns, the variable context
            will be removed. So each rule engine invocation has an independent view of the rule
            variable instances it used in the evaluation.</p>

        <p class="p">Rule variables can be imported from other files under the import tab by supplying the
            name of the rule variable and browsing to the appropriate file.</p>

        <p class="p">The Reference Rule Variable tab allows the marking of the variable as a reference for use
            in other sites. That is, one rule variable can also reference other rule variables
            defined in the same RSV. </p>

        <div class="section" id="rule_var__section_vxb_2d3_plb"><h2 class="title sectiontitle">Basic rule variable usage</h2>
            
            <p class="p">A rule variable can be defined as a simple variable with only a name and value type
                or with a list of complicated evaluation rules that are used to set the value of the
                rule variable based on different conditions. A default value can also be set for a
                rule variable.</p>

            <div class="p">Basic usage defines the variable with a name (for example, isRural) and type (for
                example, boolean). Then the conditions under which it is given a value are
                    defined.<div class="note"><div class="notetitle"><img src="../../web/css/../images/note.svg" title="note-icon" class="noteicon" />Note:</div> The @ character prefixed to the name of the rule variable allows
                    the variable name to be entered without the Get Variables (Name) argument. For
                    example: Variables.GetVariable(Name = isRuralAPN) can be written as
                    (@isRuralAPN) in the SM GUI.</div>
</div>

            <div class="p">For this basic example, a rule could be constructed that looks
                like:<pre class="pre codeblock"><code>If (IMS_SERVICE_INFO.Carrier-Identification-Code = CustomDataProfile("APN Name",
"Rural_APNs"))
Then
@isRuralAPN = yes
Else
@isRuralAPN = no</code></pre></div>

            <p class="p">Below is a rule variable defined to use other variables:</p>

            <div class="p">First the definition of the Variable:<pre class="pre codeblock"><code>name : isRuralXampLTE
type : boolean</code></pre></div>

            <div class="p">Then configuration of a rule to use the variable, for
                example:<pre class="pre codeblock"><code>If (@isRuralAPN) AND (@isLTEXamp)
Then
@isRuralXampLTE = true
Else
@isRuralXampLTE = false</code></pre></div>

        </div>

        <div class="section" id="rule_var__section_pnz_qf3_plb"><h2 class="title sectiontitle">Rule variables configuration example</h2>
            
            <p class="p">The value of each variable is specified using rules logic (rule conditions and
                actions) where the only permitted value is to set the variable value. The conditions
                have the full power of the rule engine; however, the value of the rule variable is
                assigned only if the conditions are met. An optional initializer can also be
                included to modularize the rules logic and to separate out independent pieces of
                rules logic for easier reading and maintenance.</p>

            <div class="p">For example, the following rule could be written with or without rule variables to
                accomplish the same outcome. Without the rule variable:<pre class="pre codeblock"><code>If
(IMS_SERVICE_INFO.Carrier-Identification-Code = "vip.apn" or
IMS_SERVICE_INFO.Carrier-Identification-Code = "vip2.apn") and
SPR_DEVICE.CustomData("VIP") NOT-PRESENT
Then
SESSION_PARAMETERS.Return-Result-Code =4010</code></pre></div>

            <div class="p">With the rule variable, one variable called "isVIPNet" could be defined which
                defaults to false with the following initializer and then another variable called
                "isVIPDevice ", which defaults to false with the initializer that follows
                "isVIPNet":<pre class="pre codeblock"><code>If
(IMS_SERVICE_INFO.Carrier-Identification-Code = "vip.apn" or
IMS_SERVICE_INFO.Carrier-Identification-Code = "vip2.apn")
Then
@isVIPNet = true</code></pre></div>

            <div class="p">The "isVIPDevice " initializer, which will be true if the device is connected to one
                of the ‘vip’ APNs; otherwise false:<pre class="pre codeblock"><code>If
(SPR_DEVICE.CustomData("VIP") IS-PRESENT
Then
@isVIPDevice = true</code></pre></div>

            <div class="p">This variable will be true if the device has the "VIP" SOC code; otherwise it will be
                false. The same rule written with rule variables becomes:<pre class="pre codeblock"><code>If
(@isVIPNet = true) and (@isVIPDevice = false)
Then
IMS_SERVICE_INFO.Carrier-Identification-Code.Terminate</code></pre></div>

            <p class="p">More complex examples can be used as follows to expound the versatility of the rule
                variable.</p>

            <p class="p"><strong class="ph b">Simple value type rule variable with simple value condition</strong></p>

            <div class="p">Below is a rule variable defining the use of multiple SGSN MCC/MNC and RAT-Type
                values to be under one variable.<pre class="pre codeblock"><code>name : isLTEXamp
type : enum of type Boolean
If (IMS_SERVICE_INFO Combined Msg/Session.3GPP-SGSN-MCC-MNC.MNC = [630, 880, 640, 610])
AND
(IMS_SERVICE_INFO Combined Msg/Session.3GPP-SGSN-MCC-MNC.MCC = 302) AND
(IMS_SERVICE_INFO Combined Msg/Session.RAT-Type = RATType.EUTRAN)
THEN
@isLTEXamp = True
ELSE
@isLTEXamp = false</code></pre></div>

            <p class="p"><strong class="ph b">Simple value type rule variable with attribute condition value using custom
                    data</strong></p>

            <div class="p">This is a rule variable defining the use of a variable in custom
                data.<pre class="pre codeblock"><code>name : isRuralAPN
type : enum
If (IMS_SERVICE_INFO.Called-Station-ID = CustomDataProfile ("APN Name",
"Rural_APNs"))
THEN
@isRuralAPN = true
Else
@isRuralAPN = false</code></pre></div>

            <p class="p"><strong class="ph b">Simple value type rule variable with attribute condition value using another rule
                    variable</strong></p>

            <div class="p">Below is a rule variable defining the use of a variable in a condition that uses
                another rule variable.<pre class="pre codeblock"><code>name : isRuralXampLTE
type : enum
If ((Variables.Get-Variable(Name = isRuralAPN) = true) AND (Variables.
Get-Variable(Name = isLTEXamp) = true
THEN
@isRuralXampLTE = true
ELSE
@isRuralXampLTE = false
</code></pre></div>

            <p class="p"><strong class="ph b">Simple value type rule variable with attribute condition value using complex
                    mapping output</strong></p>

            <div class="p">Below is a rule variable defining the use of a variable in a condition that uses a
                value from a complex mapping.<pre class="pre codeblock"><code>name : isRuralAPN
type : enum
If ((ComplexMap.Load-Row("MapName", "Key1", "key2", "key3", "V1", "V2",
"V3") == true) and
(Variables.Get-Variable(Name =V1) = "A") and
(Variables.Get-Variable(Name =V2) = "B") and
(Variables.Get-Variable(Name =V3) = "C")
THEN
@isRuralAPN = true
ELSE
@isRuralAPN = false</code></pre></div>

            <p class="p"><strong class="ph b">Simple value type rule variable for a List value type</strong></p>

            <div class="p">Below is a rule variable defining the use of the List value
                type.<pre class="pre codeblock"><code>name : callZoneList
type : List
If (IMS_SERVICE_INFO-Msg-Session.Called-Station-ID = CustomDataProfile("APN Name",
"Rural_APNs"))
THEN
callZoneList = [zone1, zone2]
ELSE
callZoneList = [zone3, zone4]</code></pre></div>

            <p class="p"><strong class="ph b">Attribute value type rule variable using value from output of complex
                mapping</strong></p>

            <div class="p">Below is a rule variable defining the use of an attribute as output from complex
                mapping.<pre class="pre codeblock"><code>name : Variable1
type : string
If ((IMS_SERVICE_INFO.Called-Station-ID = CustomDataProfile("APN Name",
"Rural_APNs")) AND
(ComplexMap.Load-Row("CarrierDeviceMappingTable", "Fido", "iPhone",
"bandwidthSelectionRow")) = true )
THEN
Variable1= QOS_MANAGEMENT.Max-Requested-Bandwidth-UL(ComplexMap.
Get-Row-Integer("bandwidthSelectionRow", 1)
ELSE
Variable1= QOS_MANAGEMENT.Max-Requested-Bandwidth-DL(ComplexMap.
Get-Row-Integer("bandwidthSelectionRow", 2)</code></pre></div>

            <p class="p"><strong class="ph b">Adjustment operator as a rule variable</strong></p>

            <div class="p">Below is an example of an Adjustment operator used in configuring the value of a rule
                variable.<pre class="pre codeblock"><code>name : Variable1
type : string
Variable1= "value1" Concat "abc"
</code></pre></div>

            <p class="p"><strong class="ph b">Mapping lookup with optional default value</strong></p>

            <div class="p">Below is an example of using a rule variable in a Complex Mapping lookup. First the
                variable is defined:<pre class="pre codeblock"><code>name : RGbyCallType
type : String
default value: "SMS_INVALID"
If (Message.ServiceCallType IS-PRESENT) and
(Message.CallSubType IS-PRESENT) and
(ComplexMap.Load-Row("CallTypeMappingTable", "Message.ServiceCallType",
"Message.CallSubTypeMap-Info", "CallTypeRow")) = true)
THEN
@RGbyCallType=(CallTypeRow, 1)
ELSE
@RGbyCallType=(CallTypeRow, 2)</code></pre></div>

            <div class="p">The map is assumed to exist. Using the rule variable in a rule condition, could be as
                    follows:<pre class="pre codeblock"><code>If (@RGbyCallType = "SMS_MO")
</code></pre><div class="note"><div class="notetitle"><img src="../../web/css/../images/note.svg" title="note-icon" class="noteicon" />Note:</div> Although not used in this example, the default value
                    (CallTypeRow, 2) would have been used if the call type was not equal to
                    SMS_MO.</div>
</div>

        </div>

        <div class="section" id="rule_var__section_m2j_vg3_plb"><h2 class="title sectiontitle">Usage examples of Rule variables</h2>
            
            <p class="p">Rule variables can be used in rules, in a rule group that is part of an RSV or in a
                service profile, in a condition, or in an action that is to be assigned to another
                variable or attribute. The following are examples of rules that use Rule
                variables.</p>

            <p class="p"><strong class="ph b">Using a rule variable in a condition</strong></p>

            <div class="p">
                <pre class="pre codeblock"><code>IF [RULE Rule1](Variables.Get-Variable(Name = Variable1) = abc)
THEN
(DSC.APN-Aggregate-Max-Bitrate-DL = 10000)</code></pre>
            </div>

            <p class="p"><strong class="ph b">Using a rule variable in an action to assign value to a Notification
                Variable</strong></p>

            <div class="p">
                <pre class="pre codeblock"><code>(Notification Variables.Subscriber-User-Id = Variables.Get-Variable(Name
= Variable1))</code></pre>
            </div>

            <p class="p"><strong class="ph b">Using a rule variable in an action to clear the value of a rule variable</strong></p>

            <div class="p">
                <pre class="pre codeblock"><code>Variables.Clear-Variable = Variable1</code></pre>
            </div>

        </div>

        <div class="section" id="rule_var__section_vlg_bh3_plb"><h2 class="title sectiontitle">Attribute parameters of the rule variable</h2>
            
            <p class="p">Rule-variables are configured on the Rule System Versions (RSV) page of the SM GUI.
                After a Draft RSV is configured and saved, the rule editor for the RSV appears
                containing a box for Triggers and a box for Rule Variables. A trigger must first be
                selected. Then select Add Rule Variable. When the Rule Variable Details window
                appears, the Rule Variable can be named, select a Value Type, and if needed provide
                a default value for the rule variable. The New Rule button can then be clicked to
                define the value.</p>

            <p class="p">The value of each variable is specified using rules logic (rule conditions and
                actions) where the only permitted value is to set the variable value. The conditions
                have the full power of the rule engine; however, the value of the rule variable is
                assigned only if the conditions are met. An optional initializer can also be
                included to modularize the rules logic and to separate out independent pieces of
                rules logic for easier reading and maintenance.</p>

            <div class="p">The following table describes the parameters that can be configured for a rule
                    variable.<table cellpadding="4" cellspacing="0" summary="" id="rule_var__table_d22_dh3_plb" class="table" frame="border" border="1" rules="all"><colgroup><col style="width:33.33333333333333%" /><col style="width:33.33333333333333%" /><col style="width:33.33333333333333%" /></colgroup><thead class="thead" style="text-align:left;">
                            <tr class="row">
                                <th class="entry cellrowborder" style="vertical-align:top;" id="d5924e256">Parameter</th>

                                <th class="entry cellrowborder" style="vertical-align:top;" id="d5924e259">Description</th>

                                <th class="entry cellrowborder" style="vertical-align:top;" id="d5924e262">Options</th>

                            </tr>

                        </thead>
<tbody class="tbody">
                            <tr class="row">
                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d5924e256 ">Rule Variable</td>

                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d5924e259 ">The name of the rule variable.</td>

                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d5924e262 ">
                                    <p class="p">The name must be a string and must be unique within the
                                        RSV.</p>

                                    <p class="p">Must be 1 to 80 characters in length.</p>

                                </td>

                            </tr>

                            <tr class="row">
                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d5924e256 ">Description</td>

                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d5924e259 ">A short textual description of the variable.</td>

                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d5924e262 ">Maximum length: 255 characters.</td>

                            </tr>

                            <tr class="row">
                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d5924e256 ">Applicable Triggers</td>

                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d5924e259 ">
                                    <p class="p">Applicable Triggers (rule sets) can be selected for a rule
                                        variable during the configuration for either Policy or
                                        Charging, including those in an RSV and those in
                                        profiles.</p>

                                    <p class="p">If a specific rule set is not selected, the default is all
                                        rule sets.</p>

                                    <p class="p">Rule sets of the rule group that uses the rule variable
                                        should be the same as or a subset of the rule sets in the
                                        rule variable definition. </p>

                                </td>

                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d5924e262 ">
                                    <div class="p">For Policy, one of the following rule sets can be chosen:<ul class="ul" id="rule_var__ul_ax3_4h3_plb">
                                            <li class="li">IpCanSessionEstablishment</li>

                                            <li class="li">IpCanSessionModification</li>

                                            <li class="li">IpCanSessionTermination</li>

                                            <li class="li">AfSessionEstablishment</li>

                                            <li class="li">AfSessionModification</li>

                                            <li class="li">AfSessionTermination</li>

                                            <li class="li">QosManagement</li>

                                            <li class="li">SPRNotificationUpdateIpCanSession</li>

                                            <li class="li">SPRNotificationUpdate</li>

                                            <li class="li">DynamicRuleCreation</li>

                                            <li class="li">SySessionUpdate</li>

                                        </ul>
</div>

                                    <div class="p">For Charging, one of the following rule sets can be
                                            chosen:<ul class="ul" id="rule_var__ul_ltn_sh3_plb">
                                            <li class="li">Applicablity</li>

                                            <li class="li">GyGreditRequest</li>

                                            <li class="li">Tariff</li>

                                            <li class="li">Threshold</li>

                                        </ul>
</div>

                                </td>

                            </tr>

                            <tr class="row">
                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d5924e256 ">Value Type</td>

                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d5924e259 ">The Value Type that can be assigned to the rule
                                    variable.</td>

                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d5924e262 ">One of the following value types can be chosen:<ul class="ul" id="rule_var__ul_hh5_5h3_plb">
                                        <li class="li">STRING</li>

                                        <li class="li">ENUM</li>

                                        <li class="li">LONG</li>

                                        <li class="li">TIME DURATION</li>

                                        <li class="li">IP ADDRESS</li>

                                        <li class="li">DATE TIME</li>

                                        <li class="li">TIME OF DAY</li>

                                        <li class="li">BASE</li>

                                        <li class="li">FLOAT</li>

                                        <li class="li">DOUBLE</li>

                                    </ul>
</td>

                            </tr>

                            <tr class="row">
                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d5924e256 ">Value Type Class</td>

                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d5924e259 ">Appears only when the Value Type is Enum Value or
                                    Boolean.</td>

                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d5924e262 ">
                                    <p class="p">Select the Class from the drop-down menu.</p>

                                    <p class="p">For more information, see <a class="xref" href="enum_types_and_event_triggers.html">Enumeration types and event triggers</a>.</p>

                                </td>

                            </tr>

                            <tr class="row">
                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d5924e256 ">Default Value</td>

                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d5924e259 ">
                                    <p class="p">A default value can be configured for the rule variable. If
                                        none of the conditions in a rule variables are met, the
                                        default value is in effect.</p>

                                    <p class="p">The value must be compatible with the rule variable type. It
                                        can be a single value, a list of values, or an attribute.
                                        The attribute may also be another rule variable or the
                                        output from a complex mapping.</p>

                                </td>

                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d5924e262 ">A default value is optional; however, the default value of
                                    the rule variable must be compatible with the value type of the
                                    rule variable.</td>

                            </tr>

                            <tr class="row">
                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d5924e256 ">New Rule</td>

                                <td class="entry cellrowborder" colspan="2" style="vertical-align:top;" headers="d5924e259 d5924e262 ">This panel provides the evaluation
                                    for the rules using the rule variable. The rule variable is only
                                    evaluated on the first use. When there are multiple Evaluations
                                    present, they are executed in order and the first matched
                                    evaluation will set the value of this variable.</td>

                            </tr>

                            <tr class="row">
                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d5924e256 ">Name</td>

                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d5924e259 ">The name of the evaluation for the rule variable. This is a
                                    mandatory field.</td>

                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d5924e262 ">
                                    <p class="p">The Name must be a string and must be unique within the
                                        RSV.</p>

                                    <p class="p">Must be 1 to 80 characters in length.</p>

                                </td>

                            </tr>

                            <tr class="row">
                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d5924e256 ">Description</td>

                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d5924e259 ">A short textual description of the variable.</td>

                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d5924e262 ">Maximum length: 255 characters.</td>

                            </tr>

                            <tr class="row">
                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d5924e256 ">ON or OFF toggle button</td>

                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d5924e259 ">The individual rule can enabled or disabled. By default, the
                                    rule is enabled—toggled ON. If OFF is displayed, the rule is
                                    disabled and stored but not used. This allows the rule to be
                                    stored without activating the rule.</td>

                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d5924e262 ">Use the toggle button to select whether the rule is enabled,
                                    the ON button; or disabled, the OFF button.</td>

                            </tr>

                            <tr class="row">
                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d5924e256 ">if</td>

                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d5924e259 ">The conditional statement for the rule. The conditions in the
                                    rule variable can be any of the conditions that are supported by
                                    the rule engine (including use of another rule variable or
                                    output from a mapping).</td>

                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d5924e262 ">Enter the<ul class="ul" id="rule_var__ul_qzg_g33_plb">
                                        <li class="li">Source context required</li>

                                        <li class="li">Attribute to which this rule variable will apply.</li>

                                        <li class="li">Operator (for example, IS-PRESENT, EQUAL...)</li>

                                        <li class="li">Logical operator (The condition statement of the rule
                                            can be configured with a single criterion or with
                                            multiple criteria constructed with "and" and "OR"
                                            logical operators.)</li>

                                    </ul>
</td>

                            </tr>

                            <tr class="row">
                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d5924e256 ">value</td>

                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d5924e259 ">The value must be compatible with the rule variable type. It
                                    can be a single value, a list of values, or an attribute. The
                                    attribute may also be another rule variable or the output from a
                                    complex mapping.</td>

                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d5924e262 ">
                                    <p class="p">The value is always an equation that has the name of the rule
                                        variable equal to any supported value type. For example:</p>

                                    <p class="p">isRuralAPN = true (In the case of a boolean ENUM value
                                        type.)</p>

                                    <p class="p">or</p>

                                    <p class="p">Variable1= Variables.GetVariable(Name =V1) (In the case of a
                                        string value type. See the section ")</p>

                                    <p class="p">When the conditionContainer is matched, this Value is the
                                        value of the rule variable.</p>

                                </td>

                            </tr>

                        </tbody>
</table>
</div>

        </div>

        <div class="section" id="rule_var__section_x3m_k33_plb"><h2 class="title sectiontitle">Attributes for use with Rule variables</h2>
            
            <p class="p">The following table describes the attributes that can be used to perform an action on
                a rule variable that is a string value. These actions can be used to access, clear,
                or set the value of a defined rule variable. They can be used in rule group to
                access the value of a rule variable, or to set/clear the value of rule variable when
                needed.</p>

            <div class="p">The Get-Variable attribute can also be used in rule variable definition as a
                condition to access the value of a rule variable.<div class="note"><div class="notetitle"><img src="../../web/css/../images/note.svg" title="note-icon" class="noteicon" />Note:</div> For a given rule engine
                    invocation, All the rule variables have two state:<ul class="ul" id="rule_var__ul_nmt_l33_plb">
                        <li class="li">initialized—means a value is set to this variable, a null is also a
                            value.</li>

                        <li class="li">uninitialized—means no value is set to this variable yet. The start
                            state of all rule variable is uninitialized for rule engine
                            invocations.</li>

                    </ul>
</div>
<table cellpadding="4" cellspacing="0" summary="" id="rule_var__table_jnq_n33_plb" class="table" frame="border" border="1" rules="all"><colgroup><col style="width:33.33333333333333%" /><col style="width:33.33333333333333%" /><col style="width:33.33333333333333%" /></colgroup><thead class="thead" style="text-align:left;">
                            <tr class="row">
                                <th class="entry cellrowborder" style="vertical-align:top;" id="d5924e605">Attribute</th>

                                <th class="entry cellrowborder" style="vertical-align:top;" id="d5924e608">Description</th>

                                <th class="entry cellrowborder" style="vertical-align:top;" id="d5924e611">Input value</th>

                            </tr>

                        </thead>
<tbody class="tbody">
                            <tr class="row">
                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d5924e605 ">VARIABLES.Get-Variable ()</td>

                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d5924e608 ">
                                    <p class="p"> This attribute gets the named attribute and is used in
                                        conditions and actions.</p>

                                    <div class="p">When VARIABLES.GetVariable (variable-name) is used:<ul class="ul" id="rule_var__ul_o4n_q33_plb">
                                            <li class="li">If the state of this rule variable is uninitialized,
                                                the first use of get attribute on this variable will
                                                trigger the initialization logic defined in the rule
                                                variable and set a value to it. This value will be
                                                returned immediately and will also change the status
                                                from uninitialized to initialized.</li>

                                            <li class="li">If the variable is in an initialized state, the
                                                current value is returned.</li>

                                        </ul>
</div>

                                </td>

                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d5924e611 ">&lt;variable-name&gt;</td>

                            </tr>

                            <tr class="row">
                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d5924e605 ">Variables.Set —Variable ()</td>

                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d5924e608 ">This attribute sets the named attribute to a specific value.
                                    Use of this attribute always causes the state to become
                                    initialized.</td>

                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d5924e611 ">&lt;variable-name|value&gt;</td>

                            </tr>

                            <tr class="row">
                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d5924e605 ">Variables.Clear-Variable ()</td>

                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d5924e608 ">This attribute clears the value of a rule variable with the
                                    name specified in the "variable-name" parameter and cause the
                                    attribute to become uninitialized.</td>

                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d5924e611 ">&lt;variable-name&gt;</td>

                            </tr>

                            <tr class="row">
                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d5924e605 ">Variables.Clear-All-Variables ()</td>

                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d5924e608 ">This attribute clears all the rule variables and causes them
                                    to become uninitialized.</td>

                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d5924e611 "> </td>

                            </tr>

                            <tr class="row">
                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d5924e605 ">Variables.Evaluate-RegularExpression ()</td>

                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d5924e608 ">
                                    <p class="p">This is an evaluateRegex attribute. It is uses a
                                        regular_expression to parse the target_string, and save the
                                        matched results to the variables in the varnames list. All
                                        the variables in vernames are initialized.</p>

                                    <p class="p">If the number of matched results is less than the number of
                                        variable names, then the extra variables will be initialized
                                        with a null value.</p>

                                    <p class="p">If the number of matched results is greater than the number
                                        of variable names, then the extra matched result will be
                                        discarded. </p>

                                </td>

                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d5924e611 ">
                                    <p class="p">&lt;target_String|regular_ expression|varnames&gt;</p>

                                    <p class="p">The target_string is a text string to be parsed.</p>

                                    <p class="p">A regular_expression contains the parse pattern
                                        expression</p>

                                    <p class="p">The varnames contain one or multiple variable names used to
                                        store the match/parse results.</p>

                                    <p class="p">For example:</p>

                                    <p class="p">target_string="The info of a person: name=John, age=25, he is
                                        an engineer"</p>

                                    <p class="p">regular_expression=".*name= ([A-Za-z]+).*age=([0-9]+).*";</p>

                                    <p class="p">varnames = var1, var2</p>

                                    <p class="p">The result will be:</p>

                                    <p class="p">var1="John"</p>

                                    <p class="p">var2="25"</p>

                                </td>

                            </tr>

                        </tbody>
</table>
</div>

        </div>

    </div>
<div class="footer"><hr /><p>Charging User Guide • P556766-DN1000054947-R23.8 • 1 • <a href="../home.html">Cover</a> • ©2023 Nokia. Nokia Confidential Information • Use subject to agreed restrictions on disclosure and use.</p></div></body>
</html>