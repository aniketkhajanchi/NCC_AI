<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2023" />
<meta name="DC.rights.owner" content="(C) Copyright 2023" />
<meta name="generator" content="DITA-OT" /><meta name="DC.type" content="concept" />
<meta name="DC.title" content="CDR mapping/distribution rule" />
<meta name="prodname" content="Nokia Converged Charging" />
<meta name="version" content="Release 23.8" />
<meta name="DC.format" content="XHTML" />
<meta name="DC.identifier" content="cdr_mapping_for_ncc_cnf" />
<link rel="stylesheet" type="text/css" href="../../web/css/commonltr.css" />
<link rel="stylesheet" type="text/css" href="../../web/css/styles.min.css" />
<link rel="stylesheet" type="text/css" href="../../web/css/common-extended.css" /><title>CDR mapping/distribution rule</title>
<script src="../web/js/nswtc.js" language="javascript" type="text/javascript">/*(◎_◎;)*/</script>
<script src="../../web/css/../js/script.min.js" language="javascript" type="text/javascript">/*(◎_◎;)*/</script>
</head>
<body id="cdr_mapping_for_ncc_cnf">
<div class="header"><div id="feedback-link-placeholder" class="feedback-link"></div><hr /></div><h1 class="title topictitle1" id="ariaid-title1">CDR mapping/distribution rule</h1>
<div class="body conbody">
        
        <p class="p">CDRs and EDRs in the generic CDR schema are by default stored in two file groups, one for
            CDRs and one for EDRs. When the predefined ASN.1 schema is enabled, the EDRs and CHF
            records covered by that schema are separated further into their own file groups. For
            example, a file group for Lifecycle EDRs in predefined ASN.1 schema. For more details,
            see the following table. File naming follows the naming convention described in 3GPP TS
            32.297.</p>

        <table cellpadding="4" cellspacing="0" summary="" id="cdr_mapping_for_ncc_cnf__table_ltl_1ds_1nb" class="table" frame="border" border="1" rules="all"><caption><span class="tablecap"><span class="table--title-label">Table: </span>Default distribution rules</span></caption><colgroup><col /><col /><col /><col /></colgroup><thead class="thead" style="text-align:left;">
                    <tr class="row">
                        <th class="entry cellrowborder" style="text-align:left;vertical-align:top;" id="d40108e47">Description</th>

                        <th class="entry cellrowborder" style="text-align:left;vertical-align:top;" id="d40108e50">Record type</th>

                        <th class="entry cellrowborder" style="text-align:left;vertical-align:top;" id="d40108e53">
                            <p class="p">File group (PI.FE)</p>

                            <p class="p">can be used in file name </p>

                        </th>

                        <th class="entry cellrowborder" style="text-align:left;vertical-align:top;" id="d40108e62">Directory</th>

                    </tr>

                </thead>
<tbody class="tbody">
                    <tr class="row">
                        <td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d40108e47 ">CHF records in 3GPP standard format</td>

                        <td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d40108e50 ">recordType = 200 (chargingFunctionRecord)</td>

                        <td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d40108e53 ">.CDR.CHF</td>

                        <td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d40108e62 ">cdr/cdr/</td>

                    </tr>

                    <tr class="row">
                        <td class="entry cellrowborder" rowspan="2" style="text-align:left;vertical-align:top;" headers="d40108e47 ">All other CDRs</td>

                        <td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d40108e50 ">recordType = OCSChargingRecord</td>

                        <td class="entry cellrowborder" rowspan="2" style="text-align:left;vertical-align:top;" headers="d40108e53 ">.CDR</td>

                        <td class="entry cellrowborder" rowspan="2" style="text-align:left;vertical-align:top;" headers="d40108e62 ">cdr/</td>

                    </tr>

                    <tr class="row">
                        <td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d40108e50 ">recordType = NCHFChargingRecord</td>

                    </tr>

                    <tr class="row">
                        <td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d40108e47 ">Lifecycle EDRs in predefined ASN.1 schema</td>

                        <td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d40108e50 ">recordType = 0 (lifeCycle)</td>

                        <td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d40108e53 ">.EDR.LFC</td>

                        <td class="entry cellrowborder" rowspan="5" style="text-align:left;vertical-align:top;" headers="d40108e62 ">edr/ </td>

                    </tr>

                    <tr class="row">
                        <td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d40108e47 ">Notification EDRs in predefined ASN.1 schema</td>

                        <td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d40108e50 ">recordType = 1 (lifeCycleNotification)</td>

                        <td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d40108e53 ">.EDR.NTF</td>

                    </tr>

                    <tr class="row">
                        <td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d40108e47 ">Provisioning EDRs in predefined ASN.1 schema</td>

                        <td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d40108e50 ">recordType = 2 (provisioning)</td>

                        <td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d40108e53 ">.EDR.PRV</td>

                    </tr>

                    <tr class="row">
                        <td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d40108e47 ">eCommerce EDRs in predefined ASN.1 schema</td>

                        <td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d40108e50 ">recordType = 3 (eCommerce)</td>

                        <td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d40108e53 ">.EDR.ECO</td>

                    </tr>

                    <tr class="row">
                        <td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d40108e47 ">All other EDRs</td>

                        <td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d40108e50 ">-</td>

                        <td class="entry cellrowborder" style="text-align:left;vertical-align:top;" headers="d40108e53 ">.EDR</td>

                    </tr>

                </tbody>
</table>

        <p class="p">It is possible to direct Gy and N40 records containing failed result codes into a
            separate output directory from the successful Gy and N40 records. For more information,
            see <a class="xref" href="error_cdrs_gy_and_n40_sessions.html#error_cdrs_gy_and_n40_sessions">Error CDRs for failed Gy and NCHF (N40) records</a>.
            In this case, the distribution rules are applied as specified in the following
            table.</p>

        <table cellpadding="4" cellspacing="0" summary="" id="cdr_mapping_for_ncc_cnf__table_rtx_4vn_5qb" class="table" frame="border" border="1" rules="all"><caption><span class="tablecap"><span class="table--title-label">Table: </span>Default distribution rules failed Gy and N40 records</span></caption><colgroup><col style="width:25%" /><col style="width:25%" /><col style="width:25%" /><col style="width:25%" /></colgroup><thead class="thead" style="text-align:left;">
                    <tr class="row">
                        <th class="entry cellrowborder" style="vertical-align:top;" id="d40108e199">Description</th>

                        <th class="entry cellrowborder" style="vertical-align:top;" id="d40108e202">Splitting criteria</th>

                        <th class="entry cellrowborder" style="vertical-align:top;" id="d40108e205">
                            <p class="p">File group (PI.FE)</p>

                            <p class="p">can be used in file name </p>

                        </th>

                        <th class="entry cellrowborder" style="vertical-align:top;" id="d40108e214">Directory</th>

                    </tr>

                </thead>
<tbody class="tbody">
                    <tr class="row">
                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d40108e199 ">
                            <p class="p">Failed Gy records</p>

                        </td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d40108e202 ">root_resultCode = GY_FAILED</td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d40108e205 ">.GY.FAIL</td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d40108e214 ">
                            <p class="p">cdr/GY_FAILURE</p>

                            
                        </td>

                    </tr>

                    <tr class="row">
                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d40108e199 ">Failed N40 records</td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d40108e202 ">
                            <p class="p">root_resultCode = N40_FAILED</p>

                        </td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d40108e205 ">
                            <p class="p">.N40.FAIL</p>

                        </td>

                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d40108e214 ">cdr/N40_FAILURE</td>

                    </tr>

                </tbody>
</table>

    </div>
<div class="footer"><hr /><p>CDR/EDR Reference • P556766-DN1000055014-R23.8 • 1 • <a href="../home.html">Cover</a> • ©2023 Nokia. Nokia Confidential Information • Use subject to agreed restrictions on disclosure and use.</p></div></body>
</html>