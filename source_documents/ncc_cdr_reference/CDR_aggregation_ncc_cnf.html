<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2023" />
<meta name="DC.rights.owner" content="(C) Copyright 2023" />
<meta name="generator" content="DITA-OT" /><meta name="DC.type" content="concept" />
<meta name="DC.title" content="Gy aggregation" />
<meta name="prodname" content="Nokia Converged Charging" />
<meta name="version" content="Release 23.8" />
<meta name="DC.format" content="XHTML" />
<meta name="DC.identifier" content="CDR_aggregation_ncc_cnf" />
<link rel="stylesheet" type="text/css" href="../../web/css/commonltr.css" />
<link rel="stylesheet" type="text/css" href="../../web/css/styles.min.css" />
<link rel="stylesheet" type="text/css" href="../../web/css/common-extended.css" /><title>Gy aggregation</title>
<script src="../web/js/nswtc.js" language="javascript" type="text/javascript">/*(◎_◎;)*/</script>
<script src="../../web/css/../js/script.min.js" language="javascript" type="text/javascript">/*(◎_◎;)*/</script>
</head>
<body id="CDR_aggregation_ncc_cnf">
<div class="header"><div id="feedback-link-placeholder" class="feedback-link"></div><hr /></div><h1 class="title topictitle1" id="ariaid-title1">Gy aggregation</h1>
<div class="body conbody">
        <p class="p">In a CDR stream, a session consists of one or multiple records. Every record in the same
            session shares the same unique identifier (session id). If the session contains multiple
            records, these records are ordered by record number (integer sequence starting from 0 or
            1). This record number is identified by CG Kafka Collector Node node parameter
                <code class="ph codeph">SequenceNumberFields</code> in the Kafka input stream. The value of this
            node parameter is given as a comma-separated list of field names which can be used as
            sequence numbers. The first field name found on the list is used for ordering the
            records in a session.</p>

        <p class="p">Each record has one of the following types:</p>

        <ul class="ul" id="CDR_aggregation_ncc_cnf__ul_j34_l5r_1qb">
            <li class="li">EVENT (1): Event record forms a single-record session.</li>

            <li class="li">START (2): The first record in a session with multiple records is a start
                record.</li>

            <li class="li">INTERIM (3): All records other than the first or the last record in a session with
                multiple records are interim records.</li>

            <li class="li">STOP (4): The last record in a session with multiple records is a stop record.</li>

        </ul>

        <p class="p">Session aggregation is the process of combining information from all input records in a
            session together and generating output records.</p>

        <p class="p">CDR aggregation is supported only for 4G data calls (PS requests, that is,
                <code class="ph codeph">serviceContextId</code> contains <code class="ph codeph">32251@3gpp.org</code>) per
                <code class="ph codeph">sessionId</code> and <code class="ph codeph">category/MSCC</code>. All session requests
            are aggregated to generate multiple final CDRs at the end. Each CDR has a unique MSCC
            instance, and all the important information in the input CDRs is aggregated and included
            in the final CDRs. All input requests are dumped as partial outputs as well. </p>

        <p class="p">In the following sections, term 'fully successful CDR' refers to a CDR in which root
            level and MSCC level result codes are all successful. In a partially successful CDR,
            root level result codes are also successful, and the MSCC level includes successful
            AND/OR failure result codes.</p>

    </div>
<div class="footer"><hr /><p>CDR/EDR Reference • P556766-DN1000055014-R23.8 • 1 • <a href="../home.html">Cover</a> • ©2023 Nokia. Nokia Confidential Information • Use subject to agreed restrictions on disclosure and use.</p></div></body>
</html>