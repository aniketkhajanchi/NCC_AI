<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2023" />
<meta name="DC.rights.owner" content="(C) Copyright 2023" />
<meta name="generator" content="DITA-OT" /><meta name="DC.type" content="concept" />
<meta name="DC.title" content="Migration or initial provisioning of subscribers" />
<meta name="prodname" content="Nokia Converged Charging" />
<meta name="version" content="Release 23.8" />
<meta name="DC.format" content="XHTML" />
<meta name="DC.identifier" content="untitled2" />
<link rel="stylesheet" type="text/css" href="../../web/css/commonltr.css" />
<link rel="stylesheet" type="text/css" href="../../web/css/styles.min.css" />
<link rel="stylesheet" type="text/css" href="../../web/css/common-extended.css" /><title>Migration or initial provisioning of subscribers</title>
<script src="../web/js/nswtc.js" language="javascript" type="text/javascript">/*(◎_◎;)*/</script>
<script src="../../web/css/../js/script.min.js" language="javascript" type="text/javascript">/*(◎_◎;)*/</script>
</head>
<body id="untitled2">
<div class="header"><div id="feedback-link-placeholder" class="feedback-link"></div><hr /></div><h1 class="title topictitle1" id="ariaid-title1">Migration or initial provisioning of subscribers</h1>
<div class="body conbody">
        <p class="p">NCC migration is performed using the REST APIs. Depending upon the customer service model
            and subscriber model, different REST APIs are chosen for migration. The migration tool,
            as developed for each customer or customer provisioning client, is used to launch the
            REST APIs and do the migrations. </p>

        <p class="p">To get optimum migration results, the following points will be considered: </p>

        <ul class="ul" id="untitled2__ul_ljb_2tw_bqb">
            <li class="li">To ensure the right dimensioning of the PODs which are heavily used for provisioning
                [for example: Provisioning/Kafka/ServiceManager/DB…] as they could be a bottleneck
                for migration.</li>

            <li class="li">To increase instances of above-mentioned PODs during migrations and once migrations
                are completed, these instances can be reduced.</li>

            <li class="li">Customer pre-sales teams are expected to consider migration needs/requirements while
                preparing BoQ/vBoM or while dimensioning for production deployments. </li>

            <li class="li">The NCC Dimensioning Guide has guidelines for migration needs/requirements. </li>

        </ul>

        <div class="section" id="untitled2__section_mjb_2tw_bqb"><h2 class="title sectiontitle">Migration duration calculations</h2>
            
            <p class="p">Since the migration requires bulk provisioning, it is important to identify the total
                duration required to do the bulk provisioning with the actual dimensioned resources.
                And depending on the duration, additional resources may be required. To find out the
                tentative duration, use the following formula:</p>

            <p class="p"><em class="ph i">Total Subscriber(1) </em></p>

            <p class="p"><em class="ph i">REST APIs per Subscriber(2)</em></p>

            <p class="p"><em class="ph i">Provisioning TPS(3)</em></p>

            <p class="p"><em class="ph i">Total Duration to provision these subscribers(Hrs) = ((1) * (2) ) / ( (3) * 3600 *
                    2)</em></p>

            <p class="p">Using the above formula, the Total Duration can be estimated to provision the given
                subscribers. If the Total Duration is acceptable, migration can proceed and if the
                Total Duration is not acceptable then the Provisioning TPS can be changed to get the
                expected Total Duration. </p>

            <p class="p">Using these Provisioning TPS, you can try to update the dimensioning tool and see
                what resource changes would be required. Generally, there would not be diameter
                traffic during the time of migration, so you can reduce the diameter TPS to ensure
                that common resources like database etc. are not increased. </p>

        </div>

    </div>
<div class="topic concept nested1" aria-labelledby="ariaid-title2" id="concept_rhj_gc1_cqb"><h2 class="title topictitle2" id="ariaid-title2">Migration approach</h2>
<div class="body conbody">
            <div class="section" id="concept_rhj_gc1_cqb__section_mjb_2tw_bqb">
                <ul class="ul" id="concept_rhj_gc1_cqb__ul_njb_2tw_bqb">
                    <li class="li">Temporarily arrange additional resources as per the calculations just for
                        the migration duration</li>

                    <li class="li">Rearrange resources by reducing number of charging pods and increasing
                        provision related pods. Revert once the migration is completed.</li>

                    <li class="li">In Geo setups, it is recommended to use both geo sites in parallel for
                        migrations.</li>

                    <li class="li">If possible, go for TWO STEP migration. First step migration can be done,
                        outside any maintenance window, for both subscriber and service model.
                        Second step migration can be done, during maintenance window, for delta part
                        of subscriber model.</li>

                    <li class="li">If more than 2M devices need to be migrated, then two step migration
                        approach should be taken. </li>

                </ul>

            </div>

        </div>
</div>
<div class="topic concept nested1" aria-labelledby="ariaid-title3" id="concept_fcv_t11_cqb"><h2 class="title topictitle2" id="ariaid-title3">Recommendations</h2>
<div class="body conbody">
            <div class="section" id="concept_fcv_t11_cqb__section_ojb_2tw_bqb"><h3 class="title sectiontitle">Performance tuning</h3>
                
                <p class="p">To design and optimize migration tool / provisioning client. To fine tune
                    migration tool/provisioning client &amp; NCC like number of threads. </p>

            </div>

            <div class="section" id="concept_fcv_t11_cqb__section_pjb_2tw_bqb"><h3 class="title sectiontitle">Performance testing</h3>
                
                <p class="p">Services/Customer/LDO teams are required to test migrations well in advance in
                    lab as per above recommendations &amp; customer requirements and check for
                    practical migration results like migration time / latencies / compute resources
                    used / errors / etc. </p>

                <p class="p">If the results are not as per expectations, then please reach out to NOKIA
                    R&amp;D for optimization of REST API performance or to optimize Migration
                    tool/provisioning client. </p>

                <p class="p">Retest with optimized APIs/migration tool/provisioning client until desired
                    results are achieved. </p>

                <p class="p">In summary, migrations must be tested in advance.</p>

            </div>

            <div class="section" id="concept_fcv_t11_cqb__section_p15_hd1_cqb"><h3 class="title sectiontitle">REST API selection and optimization</h3>
                
                <p class="p">To design and optimize migration tool / provisioning client. To fine tune
                    migration tool/provisioning client &amp; NCC like number of threads. </p>

                <ul class="ul" id="concept_fcv_t11_cqb__ul_qjb_2tw_bqb">
                    <li class="li">To use most optimum REST APIs while doing Subscriber Migrations. For
                        example: Profile API, which combines multiple APIs and reduces number of
                        APIs used.</li>

                    <li class="li">Services/Customer/LDO teams to identify REST APIs as per Customer Service
                        &amp; Subscriber Data Model. </li>

                    <li class="li">R&amp;D can review the REST APIs and if required, can suggest Most optimum
                        APIs for Migrations.</li>

                </ul>

            </div>

        </div>
</div>
<div class="footer"><hr /><p>Performance Engineering Guidelines • P556766-DN1000055081-R23.8 • 1 • <a href="../home.html">Cover</a> • ©2023 Nokia. Nokia Confidential Information • Use subject to agreed restrictions on disclosure and use.</p></div></body>
</html>