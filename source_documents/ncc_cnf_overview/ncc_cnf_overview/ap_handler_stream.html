<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2023" />
<meta name="DC.rights.owner" content="(C) Copyright 2023" />
<meta name="generator" content="DITA-OT" /><meta name="DC.type" content="concept" />
<meta name="DC.title" content="Assume Positive handler stream" />
<meta name="prodname" content="Nokia Converged Charging" />
<meta name="version" content="Release 23.8" />
<meta name="DC.format" content="XHTML" />
<meta name="DC.identifier" content="ap_handler_stream" />
<link rel="stylesheet" type="text/css" href="../../web/css/commonltr.css" />
<link rel="stylesheet" type="text/css" href="../../web/css/styles.min.css" />
<link rel="stylesheet" type="text/css" href="../../web/css/common-extended.css" /><title>Assume Positive handler stream</title>
<script src="../web/js/nswtc.js" language="javascript" type="text/javascript">/*(◎_◎;)*/</script>
<script src="../../web/css/../js/script.min.js" language="javascript" type="text/javascript">/*(◎_◎;)*/</script>
</head>
<body id="ap_handler_stream">
<div class="header"><div id="feedback-link-placeholder" class="feedback-link"></div><hr /></div><h1 class="title topictitle1" id="ariaid-title1">Assume Positive handler stream</h1>
<div class="body conbody">
        <p class="p">The Assume Positive handler stream consists of Assume Positive Handler Node. The node
            connects to the system via several Apache Kafka topics and HTTP connections. It reads
            Kafka messages sent by the Assume Positive Collector stream, and ultimately coming from
            the SMF server’s Assume Positive log file. This connection is defined via node parameter
                <code class="ph codeph">smf.kafka</code>. </p>

        <p class="p">When Assume Positive Handler Node is processing a record, it first gets the user ID in
            the record. The node sends a REST API request to CHF1 to get the corresponding CHF for
            the subscriber. CHF1 then returns a list of host IDs, and the node sends the record
            forward. If CHF1 SPS ME is not available or the response is incorrect, the record is
            pushed to the node's internal Apache Kafka topic named 'retransmission'. (This
            connection is defined via node parameter<code class="ph codeph"> retransmission.kafka</code>.) The
            record is reprocessed after a user configurable delay. The number of retransmissions
            allowed before the record is discarded is also configurable, via node parameter
                <code class="ph codeph">retransmission.maxCount</code>.</p>

        <p class="p">Records that cannot be processed/retransmitted are placed to the 'disposition' Kafka
            topic to be processed later by Assume Positive input stream. This connection is defined
            via node parameter <code class="ph codeph">disposition.kafka</code>.</p>

    </div>
<div class="footer"><hr /><p>Overview Guide • P556766-DN1000054925-R23.8 • 1 • <a href="../home.html">Cover</a> • ©2023 Nokia. Nokia Confidential Information • Use subject to agreed restrictions on disclosure and use.</p></div></body>
</html>