<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2023" />
<meta name="DC.rights.owner" content="(C) Copyright 2023" />
<meta name="generator" content="DITA-OT" /><meta name="DC.type" content="topic" />
<meta name="DC.title" content="Running asn1decoder tool" />
<meta name="prodname" content="Nokia Converged Charging" />
<meta name="version" content="Release 23.8" />
<meta name="DC.format" content="XHTML" />
<meta name="DC.identifier" content="SPS_CDR_Streams_Operation_and_Maintenance_Guide_running_asn1decoder_tool" />
<link rel="stylesheet" type="text/css" href="../../web/css/commonltr.css" />
<link rel="stylesheet" type="text/css" href="../../web/css/styles.min.css" />
<link rel="stylesheet" type="text/css" href="../../web/css/common-extended.css" /><title>Running asn1decoder tool</title>
<script src="../web/js/nswtc.js" language="javascript" type="text/javascript">/*(◎_◎;)*/</script>
<script src="../../web/css/../js/script.min.js" language="javascript" type="text/javascript">/*(◎_◎;)*/</script>
</head>
<body id="SPS_CDR_Streams_Operation_and_Maintenance_Guide_running_asn1decoder_tool">
<div class="header"><div id="feedback-link-placeholder" class="feedback-link"></div><hr /></div><h1 class="title topictitle1" id="ariaid-title1">Running asn1decoder tool</h1>
<div class="body">
                
                <ol class="ol">
            <li class="li">Log in to the redis-oam pod.</li>

            <li class="li">The CDR module stores the CDR files on the dr-eventlink-sftp pod. First you need to
                get the password to the sftp pod. To obtain the password, run the following
                command:<pre class="pre codeblock"><code>echo $SFTP_PASSWORD</code></pre></li>

            <li class="li">Retrieve the file to be decoded by running the following
                    command:<pre class="pre codeblock"><code>sftp $SFTP_USER@$SFTP_HOST:/path/to/cdr_file .</code></pre><p class="p">For
                    example:</p>
<pre class="pre codeblock"><code>sftp $SFTP_USER@$SFTP_HOST:/cdr/SPS_-_0000000044.20191224_-_1700-0000.CDR .</code></pre></li>

            <li class="li">Run the following command to decode the CDR
                    file:<pre class="pre codeblock"><code>asn1decoder -a paths/to/description.asn -t RootType path/to/cdr/file.ber</code></pre><p class="p">Where
                    you must define:</p>
<ul class="ul" id="SPS_CDR_Streams_Operation_and_Maintenance_Guide_running_asn1decoder_tool__ul_kdt_spz_cmb">
                    <li class="li">One or more paths to the description file(s) containing the ASN.1 schema(s).
                        The schemas are stored in <code class="ph codeph">${HOME}/secrets</code>.</li>

                    <li class="li">The path to the CDR file to be decoded.</li>

                </ul>
<p class="p">The following table lists the required and optional arguments of the
                    tool.</p>
<table cellpadding="4" cellspacing="0" summary="" id="SPS_CDR_Streams_Operation_and_Maintenance_Guide_running_asn1decoder_tool__table_ihq_mhn_5qb" class="table" frame="border" border="1" rules="all"><caption><span class="tablecap"><span class="table--title-label">Table: </span>ASN.1 Decoder tool arguments</span></caption><colgroup><col style="width:33.40336134453782%" /><col style="width:45.588235294117645%" /><col style="width:21.008403361344538%" /></colgroup><thead class="thead" style="text-align:left;">
                            <tr class="row">
                                <th class="entry cellrowborder" style="vertical-align:top;" id="d125014e80">Required argument</th>

                                <th class="entry cellrowborder" style="vertical-align:top;" id="d125014e83">Description</th>

                                <th class="entry cellrowborder" style="vertical-align:top;" id="d125014e86">Required/Optional</th>

                            </tr>

                        </thead>
<tbody class="tbody">
                            <tr class="row">
                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d125014e80 "><code class="ph codeph">-a, --asn paths/to/schema.asn</code></td>

                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d125014e83 ">Path to the ASN.1 schema (or comma-separated paths to
                                    multiple schemas).</td>

                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d125014e86 ">Required</td>

                            </tr>

                            <tr class="row">
                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d125014e80 "><code class="ph codeph">-h, --help</code></td>

                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d125014e83 ">Show help and exit.</td>

                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d125014e86 ">Optional</td>

                            </tr>

                            <tr class="row">
                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d125014e80 "><code class="ph codeph">-v, --version</code></td>

                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d125014e83 ">Show version and exit.</td>

                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d125014e86 ">Optional</td>

                            </tr>

                            <tr class="row">
                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d125014e80 "><code class="ph codeph">-d, --debug</code></td>

                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d125014e83 ">Show debugging information.</td>

                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d125014e86 ">Optional</td>

                            </tr>

                            <tr class="row">
                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d125014e80 "><code class="ph codeph">-t, --type RootType</code></td>

                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d125014e83 ">
                                    <p class="p">The name of the root type in the encoded file (as defined in
                                        the ASN.1 schema). </p>

                                    <p class="p">The root type is the top-level element in the ASN.1 schema,
                                        defining the different record types. You can find the name
                                        of this element in the ASN.1 description file.</p>

                                    <p class="p">In the default NCC ASN.1 schema, the root type is called
                                        SPSRecord, but the root type can also be found in the ASN.1
                                        description file</p>

                                </td>

                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d125014e86 ">Optional</td>

                            </tr>

                            <tr class="row">
                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d125014e80 "><code class="ph codeph">--file-header {auto, true, false}</code></td>

                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d125014e83 ">Flag indicating if the input data contains a CDR file header.
                                    Default is to detect automatically.</td>

                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d125014e86 ">Optional</td>

                            </tr>

                            <tr class="row">
                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d125014e80 "><code class="ph codeph">--record-header {auto, true, false}</code></td>

                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d125014e83 ">Flag indicating if the input data contains CDR record
                                    headers. Default is to detect automatically.</td>

                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d125014e86 ">Optional</td>

                            </tr>

                            <tr class="row">
                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d125014e80 "><code class="ph codeph">--no-display-header</code></td>

                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d125014e83 ">Flag indicating that file and record headers will be excluded
                                    from the output.</td>

                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d125014e86 ">Optional</td>

                            </tr>

                            <tr class="row">
                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d125014e80 "><code class="ph codeph">--separate-output-records</code></td>

                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d125014e83 ">Flag indicating whether to generate one file per decoded
                                    record or not.</td>

                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d125014e86 ">Optional</td>

                            </tr>

                            <tr class="row">
                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d125014e80 "><code class="ph codeph">--named-members</code></td>

                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d125014e83 ">Flag indicating whether to display named numbers and named
                                    bits in the output.</td>

                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d125014e86 ">Optional</td>

                            </tr>

                            <tr class="row">
                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d125014e80 "><code class="ph codeph">--encoding-type</code></td>

                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d125014e83 ">
                                    <p class="p">Flag indicating the encoding type while decoding the ASN.1
                                        file (default UTF-8).</p>

                                </td>

                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d125014e86 ">Optional</td>

                            </tr>

                        </tbody>
</table>
<p class="p"><strong class="ph b">Example (one ASN.1
                        schema)</strong></p>
<pre class="pre codeblock" id="SPS_CDR_Streams_Operation_and_Maintenance_Guide_running_asn1decoder_tool__codeblock_hnf_lfj_qvb"><code>asn1decoder -a /home/nokia/description.asn -t TestRecord /cdr/TEST01_-_0000000044.20191224_-_1700-0000.CDR</code></pre><p class="p"><strong class="ph b">Example
                        (multiple ASN.1
                        schemas)</strong></p>
<pre class="pre codeblock" id="SPS_CDR_Streams_Operation_and_Maintenance_Guide_running_asn1decoder_tool__codeblock_ssx_lfj_qvb"><code>asn1decoder -a /home/nokia/description1.asn,/home/nokia/decription2.asn -t TestRecord /cdr/TEST01_-_0000000044.20191224_-_1700-0000.CDR</code></pre><p class="p"><strong class="ph b">Example
                        (resolving root type
                    automatically)</strong></p>
<pre class="pre codeblock" id="SPS_CDR_Streams_Operation_and_Maintenance_Guide_running_asn1decoder_tool__codeblock_s22_nfj_qvb"><code>asn1decoder -a /home/nokia/description.asn /cdr/TEST01_-_0000000044.20191224_-_1700-0000.CDR</code></pre><p class="p">The
                    command prints the converted CDR file content to standard output. It can be
                    redirected into a file by adding, <code class="ph codeph">&gt; path/to/converted_file.txt</code>,
                    for
                    example:</p>
<pre class="pre codeblock" id="SPS_CDR_Streams_Operation_and_Maintenance_Guide_running_asn1decoder_tool__codeblock_otz_rfj_qvb"><code>asn1decoder -a /home/nokia/description.asn -t TestRecord /cdr/TEST01_-_0000000044.20191224_-_1700-0000.CDR &gt; /cdr/decoded/TEST01_-_0000000044.20191224_-_1700-0000.CDR.out</code></pre><p class="p">It
                    is also possible to pass binary data via <code class="ph codeph">stdin</code>, which may be
                    useful when decoding compressed files, for
                    example:</p>
<pre class="pre codeblock" id="SPS_CDR_Streams_Operation_and_Maintenance_Guide_running_asn1decoder_tool__codeblock_dql_vfj_qvb"><code>tar -zxOf /cdr/TEST01_-_0000000044.20191224_-_1700-0000.tar.gz |asn1decoder -a /home/nokia/description.asn -t TestRecord</code></pre><pre class="pre codeblock" id="SPS_CDR_Streams_Operation_and_Maintenance_Guide_running_asn1decoder_tool__codeblock_zhw_wfj_qvb"><code>gunzip -c /cdr/TEST01_-_0000000044.20191224_-_1700-0000.gz | asn1decoder -a /home/nokia/description.asn -t TestRecord</code></pre><pre class="pre codeblock" id="SPS_CDR_Streams_Operation_and_Maintenance_Guide_running_asn1decoder_tool__codeblock_tss_xfj_qvb"><code>cat /cdr/TEST01_-_0000000044.20191224_-_1700-0000.zip | zcat | asn1decoder -a /home/nokia/description.asn -t TestRecord</code></pre><div class="note"><div class="notetitle"><img src="../../web/css/../images/note.svg" title="note-icon" class="noteicon" />Note:</div> The
                    schema used for decoding CDRs and EDRs in the NCC generic ASN.1 format uses
                    UTF8String instead of OCTET STRING to make the decoded data more readable. This
                    is safe as all the values included in the output records in the NCC generic
                    ASN.1 format are actually string values.</div>
</li>

        </ol>

            </div>
<div class="footer"><hr /><p>CDR/EDR Reference • P556766-DN1000055014-R23.8 • 1 • <a href="../home.html">Cover</a> • ©2023 Nokia. Nokia Confidential Information • Use subject to agreed restrictions on disclosure and use.</p></div></body>
</html>