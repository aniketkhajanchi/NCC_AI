<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2023" />
<meta name="DC.rights.owner" content="(C) Copyright 2023" />
<meta name="generator" content="DITA-OT" /><meta name="DC.type" content="concept" />
<meta name="DC.title" content="Upgrade and rollback by using the NCOM API" />
<meta name="prodname" content="Nokia Converged Charging" />
<meta name="version" content="Release 23.8" />
<meta name="DC.format" content="XHTML" />
<meta name="DC.identifier" content="upgrade_and_rollback_by_using_the_ncom_api" />
<link rel="stylesheet" type="text/css" href="../../web/css/commonltr.css" />
<link rel="stylesheet" type="text/css" href="../../web/css/styles.min.css" />
<link rel="stylesheet" type="text/css" href="../../web/css/common-extended.css" /><title>Upgrade and rollback by using the NCOM API</title>
<script src="../web/js/nswtc.js" language="javascript" type="text/javascript">/*(◎_◎;)*/</script>
<script src="../../web/css/../js/script.min.js" language="javascript" type="text/javascript">/*(◎_◎;)*/</script>
</head>
<body id="upgrade_and_rollback_by_using_the_ncom_api">
<div class="header"><div id="feedback-link-placeholder" class="feedback-link"></div><hr /></div><h1 class="title topictitle1" id="ariaid-title1">Upgrade and rollback by using the NCOM API</h1>
<div class="body conbody">
        <p class="p">You can perform an upgrade of the deployed charts by using NCOM. There are two different
            ways to create the NSD that is required for the upgrade.</p>

        <ol class="ol">
            <li class="li">(Option 1) Create a new directory in <span class="ph filepath">examples/NCOM</span> and copy the
                    <span class="ph filepath">NetworkServiceDescriptor(rendered).zip</span> into the new
                directory. <ol class="ol" type="a" id="upgrade_and_rollback_by_using_the_ncom_api__ol_i5w_h5x_kwb">
                    <li class="li">Unzip the NSD package and make changes to the <span class="ph filepath">main.yaml</span>
                        file.</li>

                    <li class="li">Re-create the NSD package with the updated <span class="ph filepath">main.yaml</span>
                        file. </li>

                </ol>
</li>

            <li class="li">(Option 2) Edit the MANIFEST file that is present in the NCOM directory and run the
                    <span class="ph filepath">generatenetwork-service-descriptor.sh</span> script. The script
                generates a new NSD. Since the name of the two NSDs are the same, the previous one
                is overwritten by the newly-created NSD.</li>

            <li class="li">Edit the <span class="ph filepath">deployNS.conf</span> file once the new NSD is created and
                change the version number field. In case of upgrade, the name of NS package remains
                the same, but the version must be different. </li>

            <li class="li">Run this command to perform the upgrade operation:
                <pre class="pre codeblock"><code>./deployNS.sh -f deployNS.conf -u</code></pre></li>

            <li class="li">To perform the rollback, change the version to the previous version at which you
                want the rollback to happen and run this command:
                <pre class="pre codeblock"><code>./deployNS.sh -f deployNS.conf -r</code></pre>
            </li>

        </ol>

    </div>
<div class="footer"><hr /><p>Installation and Upgrade Guide • P556766-DN1000055103-R23.8 • 1 • <a href="../home.html">Cover</a> • ©2023 Nokia. Nokia Confidential Information • Use subject to agreed restrictions on disclosure and use.</p></div></body>
</html>