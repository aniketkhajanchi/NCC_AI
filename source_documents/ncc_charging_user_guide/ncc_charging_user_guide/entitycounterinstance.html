<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2023" />
<meta name="DC.rights.owner" content="(C) Copyright 2023" />
<meta name="generator" content="DITA-OT" /><meta name="DC.type" content="concept" />
<meta name="DC.title" content="Entity counter instance" />
<meta name="prodname" content="Nokia Converged Charging" />
<meta name="version" content="Release 23.8" />
<meta name="DC.format" content="XHTML" />
<meta name="DC.identifier" content="id9yz-09126-ug01-pczza-sp1-d1e155344" />
<link rel="stylesheet" type="text/css" href="../../web/css/commonltr.css" />
<link rel="stylesheet" type="text/css" href="../../web/css/styles.min.css" />
<link rel="stylesheet" type="text/css" href="../../web/css/common-extended.css" /><title>Entity counter instance</title>
<script src="../web/js/nswtc.js" language="javascript" type="text/javascript">/*(◎_◎;)*/</script>
<script src="../../web/css/../js/script.min.js" language="javascript" type="text/javascript">/*(◎_◎;)*/</script>
</head>
<body id="id9yz-09126-ug01-pczza-sp1-d1e155344">
<div class="header"><div id="feedback-link-placeholder" class="feedback-link"></div><hr /></div><h1 class="title topictitle1" id="ariaid-title1">Entity counter instance </h1>
<div class="body conbody">
        <p class="p">The entity counter instance is an instance of the counter.</p>

        <div class="note"><div class="notetitle"><img src="../../web/css/../images/note.svg" title="note-icon" class="noteicon" />Note:</div> Any changes in the order of the hierarchy does not create or delete an instance of the
            counter for a group or device counter. The entity of the counter instance is not deleted
            although the group or device is deleted.</div>

        <div class="note notice"><div class="noticetitle"><img src="../../web/css/../images/notice.svg" title="notice-icon" class="noteicon" />Notice:</div> NCC supports the counter functionality with counter of usage and cost
            type, that is, counter can accumulate the usage consumption or the cost deductions made.
            However, the use cases of counters to accumulate the number of calls, that is, counter
            type as CALL is not supported currently and subjected for future enhancement of NCC
            product with required customer use cases.</div>
<div class="section"><h2 class="title sectiontitle">Reset counter instances</h2>
<p class="p">To reset the counter instances using the account lifecycle, an account reference is included within each instance of the counter. Before adding a counter to a device or group, the device or group must have a subscription. If not, then such counters are added without the account reference which cannot be fetched and reset using the account lifecycle.</p>

<p class="p">For the given API requests, the list of subscriptions associated with the device or group entities are fetched. From this list, the first subscription is considered and the account object associated with it is fetched. This account object is passed as a parameter during the creation of the counter instance entity.</p>
<ul class="ul">
<li class="li">
<p class="p">
<span class="ph uicontrol">addCounterToDevice</span>
</p>

</li>

<li class="li">
<p class="p">
<span class="ph uicontrol">addDeviceCounterToGroup</span>
</p>

</li>

<li class="li">
<p class="p">
<span class="ph uicontrol">addGroupCounterToGroup</span>
</p>

</li>

</ul>

</div>

<div class="section"><h2 class="title sectiontitle">Entity counter instance configuration</h2>
<div class="note"><div class="notetitle"><img src="../../web/css/../images/note.svg" title="note-icon" class="noteicon" />Note:</div> The parameters for entity counter instance cannot be configured using the SM GUI.</div>

<table cellpadding="4" cellspacing="0" summary="" class="table" width="100%" frame="border" border="1" rules="all"><caption><span class="tablecap"><span class="table--title-label">Table: </span>Parameters for entity counter instance</span></caption><colgroup><col /><col /><col /><col /></colgroup><thead class="thead" style="text-align:left;">
                        <tr class="row">
                            <th class="entry cellrowborder" style="vertical-align:top;" id="d198634e100">Parameter</th>

                            <th class="entry cellrowborder" style="vertical-align:top;" id="d198634e103">Description</th>

                            <th class="entry cellrowborder" style="vertical-align:top;" id="d198634e106">Options</th>

                            <th class="entry cellrowborder" style="vertical-align:top;" id="d198634e109">Mandatory/Optional</th>

                        </tr>

                    </thead>
<tbody class="tbody">
                        <tr class="row">
                            <td class="entry cellrowborder" colspan="4" style="vertical-align:top;" headers="d198634e100 d198634e103 d198634e106 d198634e109 ">
                                <span class="ph uicontrol">CounterInstanceList</span>
                           </td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e100 ">capList </td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e103 ">The CAP lists to be added or removed for Counter instance. The
                                default value is Null.</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e106 ">List&lt;ThresholdProfileData&gt;</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e109 ">Optional</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e100 ">capTempChg </td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e103 ">This parameter indicates whether cap list in counter is changed
                                temporarily or permanently. If it is true (change temporarily), Cap
                                list will be recovered in next Billing Cycle. The default value is
                                false.</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e106 ">Boolean</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e109 ">Optional</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e100 ">usgLmtTempChg </td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e103 ">This parameter indicates if the usage limit is changed
                                temporarily or permanently. If it is true, the usage limit will be
                                recovered to original value in next Billing Cycle. The default value
                                is false.</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e106 ">Boolean</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e109 ">Optional</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e100 ">thrhdTempChg </td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e103 ">This parameter  indicates if threshold group are changed
                                temporarily or permanently. If it is true, the threshold groups will
                                be rolled back in next Billing cycle. The default value is
                                false.</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e106 ">Boolean</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e109 ">Optional</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e100 ">chargingServiceId</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e103 ">This attribute gets its charging service name when it is being
                                created.</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e106 ">String</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e109 ">Optional</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e100 ">CounterDefId</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e103 ">The ID of a counter definition.</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e106 ">String</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e109 ">Optional</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e100 ">CounterInsId</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e103 ">The ID of a counter instance.</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e106 ">String</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e109 ">Mandatory</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e100 ">CurrentValue</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e103 ">The value of the counter. This value cannot be negative. The
                                default value is <var class="keyword varname">0</var>.</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e106 ">Big Decimal</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e109 ">Optional</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e100 ">DefaultState</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e103 ">
                                <p class="p">The default state of the counter instance. If it is in use, then
                                    the default state is set to <var class="keyword varname">0</var>.</p>

                                <p class="p">The default value is <var class="keyword varname">-99</var> and it identifies the
                                    initial state of the counter.</p>

                           </td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e106 ">String</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e109 ">Optional</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e100 ">EndTime</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e103 ">The end time of the counter instance.</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e106 ">Long</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e109 ">Optional</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e100 ">exhaustionTime</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e103 ">This attribute represents the time at which the counter is
                                hard-stopped.</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e106 ">Long</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e109 ">Optional</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e100 ">LastReportingState</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e103 ">The signaling state sent in last SLA.</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e106 ">String</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e109 ">Mandatory</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e100 ">LastReportingTime</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e103 ">This attribute represents the time when last SLA sent for Sy
                                interface.</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e106 ">Long</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e109 ">Mandatory</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e100 ">LastSNRReportingState</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e103 ">
                                <p class="p">This field is updated with the current state of threshold when an
                                    SNR was sent.</p>

                                <p class="p">The default value is <var class="keyword varname">-99</var> and it identifies the
                                    initial state of the counter.</p>

                           </td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e106 ">String</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e109 ">Optional</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e100 ">LastSNRReportingTime</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e103 ">This field is updated with the time when an SNR was sent.</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e106 ">Long</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e109 ">Optional</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e100 ">overageLimit</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e103 ">
                                <p class="p">This attribute defines the overage usage limit per counter within
                                    a bundle. When a counter is selected in a different charging
                                    service, this parameter value can be changed. Once, usage limit
                                    of the counter is reached, the overage limit is considered and
                                    subsequently triggers all threshold actions for the overage
                                    block. The overage is applied repetitively to the counter.</p>

                                <div class="p">
                                    <div class="note" id="id9yz-09126-ug01-pczza-sp1-d1e155344__note_tjj_nxw_p5b"><div class="notetitle"><img src="../../web/css/../images/note.svg" title="note-icon" class="noteicon" />Note:</div> The overage limit can be defined
                                        only when the usage limit is defined.</div>

                                </div>

                           </td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e106 ">Big decimal</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e109 ">Optional</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e100 ">validityTime</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e103 ">This attribute indicates the number of billing cycles (including
                                the current) for which the changes to the attributes such as ULI,
                                OLI, TPG, OTPG remain valid. Default value: 0.</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e106 ">Digit</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e109 ">Optional</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e100 ">overageThresholdProfileGroupIdList</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e103 ">
                                <p class="p">This attribute indicates the threshold profile group IDs on
                                    overage limit, which is the symbolic end limit of these
                                    threshold and is applicable after usage limit.</p>

                                <p class="p">A subscriber can have only one policy threshold and multiple
                                    normal thresholds in overage threshold for policy counter.</p>

                                <div class="p">
                                    <div class="note" id="id9yz-09126-ug01-pczza-sp1-d1e155344__note_ohc_4xw_p5b"><div class="notetitle"><img src="../../web/css/../images/note.svg" title="note-icon" class="noteicon" />Note:</div> As overage limit is repetitive in
                                        nature, thresholds on overage limit are also repeatedly
                                        executed.</div>

                                </div>

                           </td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e106 ">List&lt;String&gt;</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e109 ">Optional</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e100 ">policyCounterName</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e103 ">
                                <p class="p">This value is set if user has configured a
                                        <var class="keyword varname">Send-SNR</var> action on a threshold associated
                                    with this counter. Then this attribute represents the Virtual
                                    Policy Counter mentioned in <var class="keyword varname">Send-SNR</var> action. </p>

                                <p class="p">Example: <var class="keyword varname">SY.Send-SNR = “VPC,HIGH”</var>
                                </p>

                                <p class="p">VPC is the Virtual Policy Counter name.</p>

                           </td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e106 ">String</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e109 ">Optional</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e100 ">PreviousValue</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e103 ">The value of the previous counter. This value cannot be
                                negative.</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e106 ">Big Decimal</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e109 ">Optional</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e100 ">subsId</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e103 ">This attribute gets its subscription ID when it is being
                                created.</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e106 ">String</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e109 ">Optional</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e100 ">SyPolicyCounter</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e103 ">
                                <p class="p">The value is copied from the Counter Definition.</p>

                                <p class="p">The supported values are as follows:</p>

                                <ul class="ul">
                                    <li class="li">
                                        <p class="p">True: If the flag is true, the counter is an instance of
                                            the policy counter.</p>

                                    </li>

                                    <li class="li">
                                        <p class="p">False: If the flag is false, the counter is an instance
                                            of non policy counter.</p>

                                    </li>

                                </ul>

                           </td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e106 ">Boolean</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e109 ">Optional</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e100 ">thresholdProfileGroupIdList</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e103 ">
                                <p class="p">This attribute indicates the IDs of threshold profile group.</p>

                                <p class="p">Following are the important points to note:</p>

                                <ul class="ul">
                                    <li class="li">
                                        <p class="p">Only one policy threshold can be associated with a policy
                                            counter.</p>

                                    </li>

                                    <li class="li">
                                        <p class="p">Multiple normal thresholds can be associated with a
                                            policy counter.</p>

                                    </li>

                                </ul>

                                <div class="p">
                                    <div class="note" id="id9yz-09126-ug01-pczza-sp1-d1e155344__note_rsg_pxw_p5b"><div class="notetitle"><img src="../../web/css/../images/note.svg" title="note-icon" class="noteicon" />Note:</div> Percentage type thresholds are
                                        allowed only when usage limit is defined.</div>

                                </div>

                           </td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e106 ">List&lt;string&gt;</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e109 ">Optional</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e100 ">usageLimit</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e103 ">
                                <p class="p">This attribute defines the usage limit applied per counter within
                                    a bundle, that is charging service.</p>

                                <p class="p">If this attribute is defined, then percentage type thresholds are
                                    allowed in the <em class="ph i">thresholdProfileGroupIdList</em> with a
                                    symbolic end limit as usage limit. When the counter is selected
                                    in a different charging service, this attribute is changed.</p>

                           </td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e106 ">Big decimal</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e109 ">Optional</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" colspan="4" style="vertical-align:top;" headers="d198634e100 d198634e103 d198634e106 d198634e109 ">
                                <span class="ph uicontrol">EntityCounterInstanceId</span>
                           </td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e100 ">AttachModeValue</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e103 "> </td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e106 ">String</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e109 ">Optional</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e100 ">Coordinates</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e103 ">The location of the entity.</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e106 ">Long</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e109 ">Optional</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e100 ">EntityCounterInstanceAttachMode</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e103 ">
                                <p class="p">This field allows you to select the Entity Counter Instance
                                    attach mode.</p>

                                <p class="p">The supported values are as follows:</p>

                                <ul class="ul">
                                    <li class="li">
                                        <p class="p">Device</p>

                                    </li>

                                    <li class="li">
                                        <p class="p">Group</p>

                                    </li>

                                    <li class="li">
                                        <p class="p">Device_Group</p>

                                    </li>

                                    <li class="li">
                                        <p class="p">Subscription</p>

                                    </li>

                                </ul>

                           </td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e106 ">entityCounterInstanceAttachMode</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e109 ">Optional</td>

                        </tr>

                    </tbody>
</table>

            <p class="p">See <a class="xref" href="#id9yz-09126-ug01-pczza-sp1-d1e155344__usagelimit">Additional information for usageLimit, thresholdProfileGroupList, capList
                    parameters</a> for more details. </p>

<div class="sectiondiv">
<p class="p"><strong class="ph b">Threshold Profile group instance list</strong></p>

<div class="note"><div class="notetitle"><img src="../../web/css/../images/note.svg" title="note-icon" class="noteicon" />Note:</div> The parameters for threshold profile group instance list cannot be configured using the SM
                        GUI.<p class="p">Some of the parameters listed in the table are linked to the
                        calculations performed by internal logic.</p>
</div>

<table cellpadding="4" cellspacing="0" summary="" class="table" width="100%" frame="border" border="1" rules="all"><caption><span class="tablecap"><span class="table--title-label">Table: </span>Parameters for Threshold Profile group instance list</span></caption><colgroup><col /><col /><col /><col /></colgroup><thead class="thead" style="text-align:left;">
                            <tr class="row">
                                <th class="entry cellrowborder" style="vertical-align:top;" id="d198634e736">
                                    <p class="p">Parameter</p>

                               </th>

                                <th class="entry cellrowborder" style="vertical-align:top;" id="d198634e742">
                                    <p class="p">Description</p>

                               </th>

                                <th class="entry cellrowborder" style="vertical-align:top;" id="d198634e748">
                                    <p class="p">Options</p>

                               </th>

                                <th class="entry cellrowborder" style="vertical-align:top;" id="d198634e754">
                                    <p class="p">Mandatory/Optional</p>

                               </th>

                            </tr>

                        </thead>
<tbody class="tbody">
                            <tr class="row">
                                <td class="entry cellrowborder" colspan="4" style="vertical-align:top;" headers="d198634e736 d198634e742 d198634e748 d198634e754 ">
                                    <span class="ph uicontrol">ThresholdProfileGroupInstList</span>
                               </td>

                            </tr>

                            <tr class="row">
                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e736 ">DynamicMilestone</td>

                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e742 ">
                                    <p class="p">Milestone is a percentage type threshold when the
                                            <em class="ph i">DynamicMilestoneFlag</em> is true with the empty rule
                                        container. </p>

                                    <p class="p">The supported values are as follows:</p>

                                    <ul class="ul">
                                        <li class="li">
                                            <p class="p">True: If the flag is true, then the threshold profile
                                                group is used as a milestone.</p>

                                        </li>

                                        <li class="li">
                                            <p class="p">False: If the flag is false, then the threshold
                                                profile group is not used as a milestone.</p>

                                        </li>

                                    </ul>

                               </td>

                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e748 ">Boolean</td>

                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e754 ">Mandatory</td>

                            </tr>

                            <tr class="row">
                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e736 ">ThPrfGrpDfName</td>

                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e742 ">This field is the key parameter of the threshold profile
                                    group entity.</td>

                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e748 ">String</td>

                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e754 ">Optional</td>

                            </tr>

                            <tr class="row">
                                <td class="entry cellrowborder" colspan="4" style="vertical-align:top;" headers="d198634e736 d198634e742 d198634e748 d198634e754 ">
                                    <span class="ph uicontrol">ThrsPrfInsList</span>
                               </td>

                            </tr>

                            <tr class="row">
                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e736 ">Interval</td>

                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e742 ">This field is for internal use only. It is required for rule
                                    engine.</td>

                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e748 ">Integer</td>

                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e754 ">Mandatory</td>

                            </tr>

                            <tr class="row">
                                <td class="entry cellrowborder" colspan="4" style="vertical-align:top;" headers="d198634e736 d198634e742 d198634e748 d198634e754 ">
                                    <span class="ph uicontrol">ThreshInstList</span>
                               </td>

                            </tr>

                            <tr class="row">
                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e736 ">ThrsPrfDefName</td>

                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e742 ">This field is the key parameter of the threshold profile
                                    entity.</td>

                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e748 ">String</td>

                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e754 ">Optional</td>

                            </tr>

                        </tbody>
</table>

</div>
<div class="sectiondiv">
<p class="p"><strong class="ph b">Overage Threshold Profile group instance list</strong></p>

<div class="note"><div class="notetitle"><img src="../../web/css/../images/note.svg" title="note-icon" class="noteicon" />Note:</div> The parameters for overage threshold profile group instance list cannot be configured using
                    the SM GUI.<p class="p">Some of the parameters listed in the table are linked to the
                        calculations performed by internal logic.</p>
</div>

<table cellpadding="4" cellspacing="0" summary="" class="table" width="100%" frame="border" border="1" rules="all"><caption><span class="tablecap"><span class="table--title-label">Table: </span>Parameters for Overage Threshold Profile group instance list</span></caption><colgroup><col /><col /><col /><col /></colgroup><thead class="thead" style="text-align:left;">
                            <tr class="row">
                                <th class="entry cellrowborder" style="vertical-align:top;" id="d198634e911">Parameter</th>

                                <th class="entry cellrowborder" style="vertical-align:top;" id="d198634e914">Description</th>

                                <th class="entry cellrowborder" style="vertical-align:top;" id="d198634e917">Options</th>

                                <th class="entry cellrowborder" style="vertical-align:top;" id="d198634e920">Mandatory/Optional</th>

                            </tr>

                        </thead>
<tbody class="tbody">
                            <tr class="row">
                                <td class="entry cellrowborder" colspan="4" style="vertical-align:top;" headers="d198634e911 d198634e914 d198634e917 d198634e920 ">
                                    <span class="ph uicontrol">OverageThresholdProfileGroupInstList</span>
                               </td>

                            </tr>

                            <tr class="row">
                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e911 ">DynamicMilestone</td>

                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e914 ">
                                    <p class="p">Milestone is a percentage type threshold when the
                                            <em class="ph i">DynamicMilestoneFlag</em> is true with the empty rule
                                        container. </p>

                                    <p class="p">The supported values are as follows:</p>

                                    <ul class="ul">
                                        <li class="li">
                                            <p class="p">True: If the flag is true, then the threshold profile
                                                group is used as a milestone.</p>

                                        </li>

                                        <li class="li">
                                            <p class="p">False: If the flag is false, then the threshold
                                                profile group is not used as a milestone.</p>

                                        </li>

                                    </ul>

                               </td>

                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e917 ">Boolean</td>

                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e920 ">Mandatory</td>

                            </tr>

                            <tr class="row">
                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e911 ">ThPrfGrpDfName</td>

                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e914 ">This field is the key parameter of the threshold profile
                                    group entity.</td>

                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e917 ">String</td>

                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e920 ">Optional</td>

                            </tr>

                            <tr class="row">
                                <td class="entry cellrowborder" colspan="4" style="vertical-align:top;" headers="d198634e911 d198634e914 d198634e917 d198634e920 ">
                                    <span class="ph uicontrol">ThrsPrfInsList</span>
                               </td>

                            </tr>

                            <tr class="row">
                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e911 ">Interval</td>

                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e914 ">This field is for internal use only. It is required for rule
                                    engine.</td>

                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e917 ">Integer</td>

                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e920 ">Mandatory</td>

                            </tr>

                            <tr class="row">
                                <td class="entry cellrowborder" colspan="4" style="vertical-align:top;" headers="d198634e911 d198634e914 d198634e917 d198634e920 ">
                                    <span class="ph uicontrol">ThreshInstList</span>
                               </td>

                            </tr>

                            <tr class="row">
                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e911 ">ThrsPrfDefName</td>

                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e914 ">This field is the key parameter of the threshold profile
                                    entity.</td>

                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e917 ">String</td>

                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e920 ">Optional</td>

                            </tr>

                        </tbody>
</table>

</div>
</div>

<div class="section"><h2 class="title sectiontitle">Actions associated with a counter instance</h2>
<table cellpadding="4" cellspacing="0" summary="" class="table" width="100%" frame="border" border="1" rules="all"><colgroup><col /><col /></colgroup><thead class="thead" style="text-align:left;">
                        <tr class="row">
                            <th class="entry cellrowborder" style="vertical-align:top;" id="d198634e1062">
                                <p class="p">Action</p>

                           </th>

                            <th class="entry cellrowborder" style="vertical-align:top;" id="d198634e1068">
                                <p class="p">Description</p>

                           </th>

                        </tr>

                    </thead>
<tbody class="tbody">
                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e1062 ">Create</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e1068 ">Used to create a counter instance.</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e1062 ">CreateEntityCounterInstance</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e1068 ">Used to create entity counter instance.</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e1062 ">Delete</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e1068 ">Used to delete a counter instance.</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e1062 ">FindEntityCounterInstanceByAccountId</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e1068 ">Used to get the list of all entity counter instances for the
                                given account ID.</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e1062 ">FindSyPolicyCounterSignalingInfo</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e1068 ">Used to get list of signaling state information for the given
                                    <em class="ph i">EntityCounterInstanceId</em>.</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e1062 ">Read</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e1068 ">Used to display a particular counter instance entity as per the
                                data retrieved from database. The mandatory parameter is
                                    <em class="ph i">CounterInstance ID</em>.</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e1062 ">RemoveEntityCounterInstance</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e1068 ">Used to remove the EntityCounterInstance from the database for
                                the given <em class="ph i">EntityCounterInstanceId</em> and <em class="ph i">Counter Id</em>.
                           </td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e1062 ">Reset</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e1068 ">Used to reset all the <em class="ph i">EntityCounterInstances</em> and their
                                threshold instances and caps associated with a given Account Id.
                           </td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e1062 ">updateEntityCounterInstance</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e1068 ">Used to update the current value, usage limit, and overage
                                limit. It also allows to add or remove a threshold list and
                                overageLimit threshold list.</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e1062 ">UpdateEntityCounterInstanceCurrentValue</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e1068 ">Used to update current value for a given
                                    <em class="ph i">EntityCounterInstanceId</em> and <em class="ph i">CounterInstanceClass
                                    Id</em>. This method is only for internal purpose.</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e1062 ">UpdateEntityCounterInstanceDefaultState</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e1068 ">Used to update <em class="ph i">EntityCounterInstance</em> Object after
                                successfully updating the <em class="ph i">defaultState</em> attribute of
                                CounterInstanceClass.</td>

                        </tr>

                        <tr class="row">
                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e1062 ">Update</td>

                            <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e1068 ">Used to update a particular counter instance entity in database.
                                The mandatory parameter is <em class="ph i">CounterInstance ID</em> and
                                    <em class="ph i">CurrentValue</em> is the only value updated.</td>

                        </tr>

                    </tbody>
</table>

<div class="note"><div class="notetitle"><img src="../../web/css/../images/note.svg" title="note-icon" class="noteicon" />Note:</div> These actions are valid for internal purposes only and cannot be accessed using the SM GUI.
                </div>

            <div class="sectiondiv" id="id9yz-09126-ug01-pczza-sp1-d1e155344__usagelimit"><strong class="ph b">Additional information for usageLimit,
                    thresholdProfileGroupList, capList parameters</strong><p class="p">If a subscriber has a
                    spending limit counter, NCC allows to set their own limit (threshold value).
                    Notifications can be defined at 80% and 100%. The API
                    update/EntityCounterInstance allows to change the usage limit in Counter
                    Instance. usageLimit is the parameter that allows subscriber to update the limit
                    after subscribing to subscription (that is, counter).
                    </p>
<p class="p">If the entity counter usageLimit,
                    thresholdProfileGroupList or capList is updated temporarily, in next billing
                    cycle, those attributes are refreshed with the definition in counter. RAR gets
                    triggered based on the value of updateSession parameter in the
                    update/EntityCounterInstance REST API. After the attributes in
                    entityCounterInstance are updated successfully, Send-Notification action can be
                    executed if configured in the Counter ruleset. RAR is not considered for
                    updating the group entityCounter instance.</p>
<p class="p">Following is the rule example
                    for update event:</p>
<img class="image break" id="id9yz-09126-ug01-pczza-sp1-d1e155344__image_t13_gmh_5nb" src="../images/entitycounter.png" height="461" width="735" /><p class="p">The COUNTERINFO source context type for
                    COUNTER rule set has the following attributes:</p>
<table cellpadding="4" cellspacing="0" summary="" id="id9yz-09126-ug01-pczza-sp1-d1e155344__table_rrb_3gj_xnb" class="table" frame="border" border="1" rules="all"><caption><span class="tablecap"><span class="table--title-label">Table: </span>COUNTERINFO source context</span></caption><colgroup><col style="width:33.262260127931775%" /><col style="width:21.321961620469086%" /><col style="width:45.41577825159915%" /></colgroup><thead class="thead" style="text-align:left;">
                            <tr class="row">
                                <th class="entry cellrowborder" style="vertical-align:top;" id="d198634e1256">Attribute name</th>

                                <th class="entry cellrowborder" style="vertical-align:top;" id="d198634e1259">Type</th>

                                <th class="entry cellrowborder" style="vertical-align:top;" id="d198634e1262">Description</th>

                            </tr>

                        </thead>
<tbody class="tbody">
                            <tr class="row">
                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e1256 ">Counter-Def-Name</td>

                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e1259 ">String</td>

                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e1262 ">The counter definition ID.</td>

                            </tr>

                            <tr class="row">
                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e1256 ">Counter-Current-Value</td>

                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e1259 ">BigDecimal</td>

                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e1262 ">The counter current value.</td>

                            </tr>

                            <tr class="row">
                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e1256 ">Counter-Usage-Limit</td>

                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e1259 ">BigDecimal</td>

                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e1262 ">The counter usage limit.</td>

                            </tr>

                            <tr class="row">
                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e1256 ">Counter-Overage-Limit</td>

                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e1259 ">BigDecimal</td>

                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e1262 ">The counter overage limit.</td>

                            </tr>

                            <tr class="row">
                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e1256 ">Counter-TPG-List</td>

                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e1259 ">String</td>

                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e1262 ">The counter threshold profile group list, separated with
                                    ";".</td>

                            </tr>

                            <tr class="row">
                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e1256 ">Counter-CAP-List</td>

                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e1259 ">String</td>

                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e1262 ">The counter CAP list separated with ";".</td>

                            </tr>

                            <tr class="row">
                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e1256 ">Counter-OverageTPG-List</td>

                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e1259 ">String</td>

                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e1262 ">The counter overage threshold profile group list separated
                                    with ";".</td>

                            </tr>

                            <tr class="row">
                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e1256 ">Counter-Update-Event</td>

                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e1259 ">String</td>

                                <td class="entry cellrowborder" style="vertical-align:top;" headers="d198634e1262 ">The event name that is updating includes the following
                                        attributes:<ul class="ul" id="id9yz-09126-ug01-pczza-sp1-d1e155344__ul_ld4_1hj_xnb">
                                        <li class="li">Counter Value Updated</li>

                                        <li class="li">ULI Updated</li>

                                        <li class="li">OLI Updated</li>

                                        <li class="li">Threshold Profile Group Updated</li>

                                        <li class="li">CAP Updated</li>

                                        <li class="li">Overage Threshold Profile Group Updated</li>

                                        <li class="li">Threshold Profile Stoppage Type Toggled</li>

                                        <li class="li">CAP Stoppage Type Toggled</li>

                                        <li class="li">Counter Updated</li>

                                    </ul>
</td>

                            </tr>

                        </tbody>
</table>
<div class="note"><div class="notetitle"><img src="../../web/css/../images/note.svg" title="note-icon" class="noteicon" />Note:</div> Stoppage type in <strong class="ph b">Counter-Update-Event</strong> indicates the
                    notification action type. <p class="p">Notification-Reject is a hard stoppage type, others
                        are soft stoppage type. Whenever a counter threshold profile group stoppage
                        type is updated, the toggled event name is set. If an update request
                        includes the counter value change and stoppage type change, the event name
                        is set with the toggled event name, which has higher priority.</p>
<p class="p">The
                            <var class="keyword varname">Counter Updated</var> is the default event name. If the
                        pre-defined event name cannot cover a specific counter update, this general
                        event name <var class="keyword varname">Counter Updated</var> is used.</p>
</div>
<p class="p">The
                        <strong class="ph b">Counter-Update-Event</strong> attribute is set only in provisioning call for
                    entity counter instance updating. In provisioning call, the rule logic must be
                    included under "if COUNTERINFO.Counter-Update-Event present", like the preceding
                    example counter rule logic, the diameter call logic is not impacted.
                </p>
</div>
</div>

</div>
<div class="footer"><hr /><p>Charging User Guide • P556766-DN1000054947-R23.8 • 1 • <a href="../home.html">Cover</a> • ©2023 Nokia. Nokia Confidential Information • Use subject to agreed restrictions on disclosure and use.</p></div></body>
</html>