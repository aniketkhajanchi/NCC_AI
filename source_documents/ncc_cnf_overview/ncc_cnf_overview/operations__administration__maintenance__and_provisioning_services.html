<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2023" />
<meta name="DC.rights.owner" content="(C) Copyright 2023" />
<meta name="generator" content="DITA-OT" /><meta name="DC.type" content="concept" />
<meta name="DC.title" content="Operations, administration, maintenance, and provisioning services" />
<meta name="prodname" content="Nokia Converged Charging" />
<meta name="version" content="Release 23.8" />
<meta name="DC.format" content="XHTML" />
<meta name="DC.identifier" content="operations__administration__maintenance__and_provisioning_services" />
<link rel="stylesheet" type="text/css" href="../../web/css/commonltr.css" />
<link rel="stylesheet" type="text/css" href="../../web/css/styles.min.css" />
<link rel="stylesheet" type="text/css" href="../../web/css/common-extended.css" /><title>Operations, administration, maintenance, and provisioning services</title>
<script src="../web/js/nswtc.js" language="javascript" type="text/javascript">/*(◎_◎;)*/</script>
<script src="../../web/css/../js/script.min.js" language="javascript" type="text/javascript">/*(◎_◎;)*/</script>
</head>
<body id="operations__administration__maintenance__and_provisioning_services">
<div class="header"><div id="feedback-link-placeholder" class="feedback-link"></div><hr /></div><h1 class="title topictitle1" id="ariaid-title1">Operations, administration, maintenance, and provisioning services</h1>
<div class="body conbody">
        <p class="p">This section describes the operations, administration, maintenance, and provisioning
            services of NCC.</p>

        <div class="section" id="operations__administration__maintenance__and_provisioning_services__section_ltq_htm_rlb"><h2 class="title sectiontitle">Command-line tools</h2>
            
            <p class="p">The NCC command-line tools run on the <code class="ph codeph">admincli</code> pod. Users run a
                    <code class="ph codeph">kubectl</code> command to gain access to this pod for using the
                tools.</p>

        </div>

        <div class="section" id="operations__administration__maintenance__and_provisioning_services__section_zvp_hsc_llb"><h2 class="title sectiontitle">Logs, alarms, and metrics</h2>
            
            <p class="p">NCC offers an optional Telemetry package for managing alarms, logs, and metrics.
                Typical NCC deployments include this package, but there may be customer deployment
                environments that include suitable telemetry that NCC needs to integrate into.</p>

            <p class="p">NCC logs are written to <span class="ph filepath">stdout</span>. They are processed and directed
                by a component such as Fluentd. Users can search, filter, and browse the logs by
                using standard tools such as OpenSearch.</p>

            <p class="p">Metrics are written to Prometheus by using Java client APIs. In deployments where the
                operator is not providing the telemetry infrastructure, NCC leverages the Gen3GPPXML
                tool to retrieve metrics data from Prometheus, writes it to XML files in a
                persistent volume, and makes them available to northbound OSS systems (such as
                NetAct) to retrieve by using SFTP.</p>

            <p class="p">NCC alarms are written to <span class="ph filepath">stdout</span> and are processed/directed by
                Fluentd. However, some customers consume the alarms from <span class="ph filepath">stdout</span>
                by using their own Fluentd and alarm handling components (similar to the NCC alarm
                manager) and are responsible for sending alarms to northbound OSS systems (such as
                NetAct).</p>

            <p class="p">NCC also provides an option for forwarding metrics, logs, and alarms over a single
                event stream, in which case the operator must provide an event stream collector.</p>

        </div>

        <div class="section" id="operations__administration__maintenance__and_provisioning_services__section_awp_hsc_llb"><h2 class="title sectiontitle">Tracing to aid troubleshooting</h2>
            
            <p class="p">NCC supports OpenTracing throughout its various call flows, for creating sampled
                tracing data that can be collected and displayed by Jaeger. This includes call flows
                such as 4G Diameter, 5G HTTP, and provisioning.</p>

            <p class="p">Jaeger can be used for collecting and presenting the tracing data, from the
                OpenTracing calls. Sampling policies can be configured, such as sampling one message
                out of 1,000, or two messages per second, etc. Jaeger displays the latency of the
                total end-to-end flow, as well as for each span within the flow.</p>

            <p class="p">Kiali can also be used to present some high level views of that data.</p>

        </div>

        <div class="section" id="operations__administration__maintenance__and_provisioning_services__section_u2c_jsc_llb"><h2 class="title sectiontitle">System monitoring</h2>
            
            <p class="p">Individual instances of NCC pods are monitored with the standard mechanisms in
                Kubernetes, using liveness and readiness probes. As instances fail, Kubernetes spins
                up a new replacement, within the configured parameters for minimum and maximum
                number of instances, as well as considering the autoscaling parameters.</p>

            <p class="p">NCC has an additional layer of monitoring functionality to manage composite states at
                the NCC system level. For example, if the number of charging pods falls below a
                minimum threshold, then that overall service is considered OOS and then, since it is
                a vital service, the entire NCC system is considered OOS at that time. The network
                heartbeats includes this OOS status which allows traffic to be site-routed to the
                mate NCC system. In addition, this newly OOS NCC ME must turn off its incoming
                traffic. This is done for Diameter by invoking an interface in the IOHD.</p>

        </div>

        <div class="section" id="operations__administration__maintenance__and_provisioning_services__section_it4_ksc_llb"><h2 class="title sectiontitle">Provisioning</h2>
            
            <p class="p">NCC subscribers/devices are provisioned through the SM subsystem. This can be a
                northbound provisioning system using the SM native REST
                APIs.</p>

            <p class="p">The SM subsystem selects a home ME subsystem for new subscribers/devices, if one is
                not already selected by the operator in the request. The SM subsystem's selection is
                based on least loaded ME subsystem, unless that new device is part of an existing
                group account, in which case that device is homed on the same ME subsystem as its
                peer group members. The SM subsystem then sends the provisioning update to the home
                ME subsystem (the backup ME subsystem gets updated by virtue of XDR data
                replication). It goes to the Provisioning pod on the ME subsystem, where subscriber
                records are created in the database. The SM subsystem maintains an index mapping of
                where all subscribers and devices are homed, but does not keep a copy of the actual
                detailed records. Those are kept only on the ME subsystem.</p>

            <p class="p">The provisioning service is horizontally scalable, including the SM application and
                the ME provisioning pod.</p>

        </div>

    </div>
<div class="footer"><hr /><p>Overview Guide • P556766-DN1000054925-R23.8 • 1 • <a href="../home.html">Cover</a> • ©2023 Nokia. Nokia Confidential Information • Use subject to agreed restrictions on disclosure and use.</p></div></body>
</html>